(function(lr,de){typeof exports=="object"&&typeof module!="undefined"?module.exports=de():typeof define=="function"&&define.amd?define(de):(lr=typeof globalThis!="undefined"?globalThis:lr||self,lr.app=de())})(this,function(){"use strict";const lr=window.customElements.define.bind(window.customElements);window.customElements.define=(t,...e)=>{if(!customElements.get(t))return lr(t,...e)};function de(){}function rt(t,e){for(const n in e)t[n]=e[n];return t}function Ci(t){return t()}function Pa(){return Object.create(null)}function Lt(t){t.forEach(Ci)}function ur(t){return typeof t=="function"}function sn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let qr;function Ua(t,e){return qr||(qr=document.createElement("a")),qr.href=e,t===qr.href}function wl(t,e){return t!=t?e==e:t!==e}function Ra(t){return Object.keys(t).length===0}function za(t,...e){if(t==null)return de;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Vn(t,e,n){t.$$.on_destroy.push(za(e,n))}function Pt(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function kl(t){return t&&ur(t.destroy)?t.destroy:de}let Jr=!1;function Sl(){Jr=!0}function Tl(){Jr=!1}function Ol(t,e,n,a){for(;t<e;){const u=t+(e-t>>1);n(u)<=a?t=u+1:e=u}return t}function Ml(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const m=[];for(let g=0;g<e.length;g++){const p=e[g];p.claim_order!==void 0&&m.push(p)}e=m}const n=new Int32Array(e.length+1),a=new Int32Array(e.length);n[0]=-1;let u=0;for(let m=0;m<e.length;m++){const g=e[m].claim_order,p=(u>0&&e[n[u]].claim_order<=g?u+1:Ol(1,u,S=>e[n[S]].claim_order,g))-1;a[m]=n[p]+1;const w=p+1;n[w]=m,u=Math.max(w,u)}const c=[],f=[];let h=e.length-1;for(let m=n[u]+1;m!=0;m=a[m-1]){for(c.push(e[m-1]);h>=m;h--)f.push(e[h]);h--}for(;h>=0;h--)f.push(e[h]);c.reverse(),f.sort((m,g)=>m.claim_order-g.claim_order);for(let m=0,g=0;m<f.length;m++){for(;g<c.length&&f[m].claim_order>=c[g].claim_order;)g++;const p=g<c.length?c[g]:null;t.insertBefore(f[m],p)}}function U(t,e){t.appendChild(e)}function Sn(t,e){if(Jr){for(Ml(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function oe(t,e,n){t.insertBefore(e,n||null)}function Gr(t,e,n){Jr&&!n?Sn(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function cr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function J(t){return document.createElement(t)}function kt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function be(t){return document.createTextNode(t)}function _e(){return be(" ")}function Ii(){return be("")}function Ve(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function I(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ln(t,e){for(const n in e)I(t,n,e[n])}function Qr(t,e,n){e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:I(t,e,n)}function St(t){return Array.from(t.childNodes)}function Dl(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function El(t,e,n,a,u=!1){Dl(t);const c=(()=>{for(let f=t.claim_info.last_index;f<t.length;f++){const h=t[f];if(e(h)){const m=n(h);return m===void 0?t.splice(f,1):t[f]=m,u||(t.claim_info.last_index=f),h}}for(let f=t.claim_info.last_index-1;f>=0;f--){const h=t[f];if(e(h)){const m=n(h);return m===void 0?t.splice(f,1):t[f]=m,u?m===void 0&&t.claim_info.last_index--:t.claim_info.last_index=f,h}}return a()})();return c.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,c}function xl(t,e,n,a){return El(t,u=>u.nodeName===e,u=>{const c=[];for(let f=0;f<u.attributes.length;f++){const h=u.attributes[f];n[h.name]||c.push(h.name)}c.forEach(f=>u.removeAttribute(f))},()=>a(e))}function Ut(t,e,n){return xl(t,e,n,kt)}function Le(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ke(t,e,n,a){t.style.setProperty(e,n,a?"important":"")}let Xr;function Nl(){if(Xr===void 0){Xr=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch(t){Xr=!0}}return Xr}function Va(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const a=J("iframe");a.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),a.setAttribute("aria-hidden","true"),a.tabIndex=-1;const u=Nl();let c;return u?(a.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",c=Ve(window,"message",f=>{f.source===a.contentWindow&&e()})):(a.src="about:blank",a.onload=()=>{c=Ve(a.contentWindow,"resize",e)}),U(t,a),()=>{(u||c&&a.contentWindow)&&c(),$(a)}}function Te(t,e,n){t.classList[n?"add":"remove"](e)}function Kr(t){const e={};for(const n of t)e[n.name]=n.value;return e}let fr;function dr(t){fr=t}function $r(){if(!fr)throw new Error("Function called outside component initialization");return fr}function Cl(t){$r().$$.before_update.push(t)}function Il(t){$r().$$.on_mount.push(t)}function Al(t){$r().$$.after_update.push(t)}const hr=[],Tn=[],ei=[],Ha=[],Wa=Promise.resolve();let Ai=!1;function Za(){Ai||(Ai=!0,Wa.then(te))}function Fi(){return Za(),Wa}function mr(t){ei.push(t)}const Li=new Set;let ti=0;function te(){const t=fr;do{for(;ti<hr.length;){const e=hr[ti];ti++,dr(e),Fl(e.$$)}for(dr(null),hr.length=0,ti=0;Tn.length;)Tn.pop()();for(let e=0;e<ei.length;e+=1){const n=ei[e];Li.has(n)||(Li.add(n),n())}ei.length=0}while(hr.length);for(;Ha.length;)Ha.pop()();Ai=!1,Li.clear(),dr(t)}function Fl(t){if(t.fragment!==null){t.update(),Lt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(mr)}}const ni=new Set;let On;function ri(){On={r:0,c:[],p:On}}function ii(){On.r||Lt(On.c),On=On.p}function Qe(t,e){t&&t.i&&(ni.delete(t),t.i(e))}function st(t,e,n,a){if(t&&t.o){if(ni.has(t))return;ni.add(t),On.c.push(()=>{ni.delete(t),a&&(n&&t.d(1),a())}),t.o(e)}}function ja(t,e){t.d(1),e.delete(t.key)}function Ya(t,e,n,a,u,c,f,h,m,g,p,w){let S=t.length,E=c.length,A=S;const j={};for(;A--;)j[t[A].key]=A;const z=[],H=new Map,X=new Map;for(A=E;A--;){const F=w(u,c,A),ee=n(F);let M=f.get(ee);M?a&&M.p(F,e):(M=g(ee,F),M.c()),H.set(ee,z[A]=M),ee in j&&X.set(ee,Math.abs(A-j[ee]))}const Q=new Set,ue=new Set;function se(F){Qe(F,1),F.m(h,p),f.set(F.key,F),p=F.first,E--}for(;S&&E;){const F=z[E-1],ee=t[S-1],M=F.key,ne=ee.key;F===ee?(p=F.first,S--,E--):H.has(ne)?!f.has(M)||Q.has(M)?se(F):ue.has(ne)?S--:X.get(M)>X.get(ne)?(ue.add(M),se(F)):(Q.add(ne),S--):(m(ee,f),S--)}for(;S--;){const F=t[S];H.has(F.key)||m(F,f)}for(;E;)se(z[E-1]);return z}function ai(t,e){const n={},a={},u={$$scope:1};let c=t.length;for(;c--;){const f=t[c],h=e[c];if(h){for(const m in f)m in h||(a[m]=1);for(const m in h)u[m]||(n[m]=h[m],u[m]=1);t[c]=h}else for(const m in f)u[m]=1}for(const f in a)f in n||(n[f]=void 0);return n}function oi(t){t&&t.c()}function gr(t,e,n,a){const{fragment:u,on_mount:c,on_destroy:f,after_update:h}=t.$$;u&&u.m(e,n),a||mr(()=>{const m=c.map(Ci).filter(ur);f?f.push(...m):Lt(m),t.$$.on_mount=[]}),h.forEach(mr)}function Hn(t,e){const n=t.$$;n.fragment!==null&&(Lt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ll(t,e){t.$$.dirty[0]===-1&&(hr.push(t),Za(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function un(t,e,n,a,u,c,f,h=[-1]){const m=fr;dr(t);const g=t.$$={fragment:null,ctx:null,props:c,update:de,not_equal:u,bound:Pa(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:Pa(),dirty:h,skip_bound:!1,root:e.target||m.$$.root};f&&f(g.root);let p=!1;if(g.ctx=n?n(t,e.props||{},(w,S,...E)=>{const A=E.length?E[0]:S;return g.ctx&&u(g.ctx[w],g.ctx[w]=A)&&(!g.skip_bound&&g.bound[w]&&g.bound[w](A),p&&Ll(t,w)),S}):[],g.update(),p=!0,Lt(g.before_update),g.fragment=a?a(g.ctx):!1,e.target){if(e.hydrate){Sl();const w=St(e.target);g.fragment&&g.fragment.l(w),w.forEach($)}else g.fragment&&g.fragment.c();e.intro&&Qe(t.$$.fragment),gr(t,e.target,e.anchor,e.customElement),Tl(),te()}dr(m)}let vr;typeof HTMLElement=="function"&&(vr=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(Ci).filter(ur);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){Lt(this.$$.on_disconnect)}$destroy(){Hn(this,1),this.$destroy=de}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const a=n.indexOf(e);a!==-1&&n.splice(a,1)}}$set(t){this.$$set&&!Ra(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class si{$destroy(){Hn(this,1),this.$destroy=de}$on(e,n){const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(n),()=>{const u=a.indexOf(n);u!==-1&&a.splice(u,1)}}$set(e){this.$$set&&!Ra(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Pl(t,e,n){return n={path:e,exports:{},require:function(a,u){return Ul(a,u==null?n.path:u)}},t(n,n.exports),n.exports}function Ul(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var _r=Pl(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function n(i,l){for(var o=0;o<l.length;o++){var r=l[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function a(i,l,o){return l&&n(i.prototype,l),o&&n(i,o),i}function u(){return u=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},u.apply(this,arguments)}function c(i,l){i.prototype=Object.create(l.prototype),i.prototype.constructor=i,h(i,l)}function f(i){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},f(i)}function h(i,l){return h=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},h(i,l)}function m(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function g(i,l,o){return m()?g=Reflect.construct:g=function(s,d,v){var y=[null];y.push.apply(y,d);var b=Function.bind.apply(s,y),O=new b;return v&&h(O,v.prototype),O},g.apply(null,arguments)}function p(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function w(i){var l=typeof Map=="function"?new Map:void 0;return w=function(r){if(r===null||!p(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof l!="undefined"){if(l.has(r))return l.get(r);l.set(r,s)}function s(){return g(r,arguments,f(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),h(s,r)},w(i)}function S(i,l){if(i==null)return{};var o={},r=Object.keys(i),s,d;for(d=0;d<r.length;d++)s=r[d],!(l.indexOf(s)>=0)&&(o[s]=i[s]);return o}function E(i,l){if(!!i){if(typeof i=="string")return A(i,l);var o=Object.prototype.toString.call(i).slice(8,-1);if(o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set")return Array.from(i);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return A(i,l)}}function A(i,l){(l==null||l>i.length)&&(l=i.length);for(var o=0,r=new Array(l);o<l;o++)r[o]=i[o];return r}function j(i,l){var o=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(o)return(o=o.call(i)).next.bind(o);if(Array.isArray(i)||(o=E(i))||l&&i&&typeof i.length=="number"){o&&(i=o);var r=0;return function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var z=function(i){c(l,i);function l(){return i.apply(this,arguments)||this}return l}(w(Error)),H=function(i){c(l,i);function l(o){return i.call(this,"Invalid DateTime: "+o.toMessage())||this}return l}(z),X=function(i){c(l,i);function l(o){return i.call(this,"Invalid Interval: "+o.toMessage())||this}return l}(z),Q=function(i){c(l,i);function l(o){return i.call(this,"Invalid Duration: "+o.toMessage())||this}return l}(z),ue=function(i){c(l,i);function l(){return i.apply(this,arguments)||this}return l}(z),se=function(i){c(l,i);function l(o){return i.call(this,"Invalid unit "+o)||this}return l}(z),F=function(i){c(l,i);function l(){return i.apply(this,arguments)||this}return l}(z),ee=function(i){c(l,i);function l(){return i.call(this,"Zone is an abstract class")||this}return l}(z),M="numeric",ne="short",re="long",B={year:M,month:M,day:M},me={year:M,month:ne,day:M},De={year:M,month:ne,day:M,weekday:ne},Oe={year:M,month:re,day:M},Ye={year:M,month:re,day:M,weekday:re},Be={hour:M,minute:M},et={hour:M,minute:M,second:M},Se={hour:M,minute:M,second:M,timeZoneName:ne},Ce={hour:M,minute:M,second:M,timeZoneName:re},Ht={hour:M,minute:M,hourCycle:"h23"},Me={hour:M,minute:M,second:M,hourCycle:"h23"},Ie={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:ne},Ne={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:re},dt={year:M,month:M,day:M,hour:M,minute:M},Tt={year:M,month:M,day:M,hour:M,minute:M,second:M},tt={year:M,month:ne,day:M,hour:M,minute:M},we={year:M,month:ne,day:M,hour:M,minute:M,second:M},dn={year:M,month:ne,day:M,weekday:ne,hour:M,minute:M},R={year:M,month:re,day:M,hour:M,minute:M,timeZoneName:ne},K={year:M,month:re,day:M,hour:M,minute:M,second:M,timeZoneName:ne},D={year:M,month:re,day:M,weekday:re,hour:M,minute:M,timeZoneName:re},T={year:M,month:re,day:M,weekday:re,hour:M,minute:M,second:M,timeZoneName:re};function W(i){return typeof i=="undefined"}function le(i){return typeof i=="number"}function Ae(i){return typeof i=="number"&&i%1==0}function We(i){return typeof i=="string"}function ht(i){return Object.prototype.toString.call(i)==="[object Date]"}function hn(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(i){return!1}}function vi(i){return Array.isArray(i)?i:[i]}function Nr(i,l,o){if(i.length!==0)return i.reduce(function(r,s){var d=[l(s),s];return r&&o(r[0],d[0])===r[0]?r:d},null)[1]}function _i(i,l){return l.reduce(function(o,r){return o[r]=i[r],o},{})}function Qt(i,l){return Object.prototype.hasOwnProperty.call(i,l)}function mt(i,l,o){return Ae(i)&&i>=l&&i<=o}function yi(i,l){return i-l*Math.floor(i/l)}function Wt(i,l){l===void 0&&(l=2);var o=i<0?"-":"",r=o?i*-1:i,s;return r.toString().length<l?s=("0".repeat(l)+r).slice(-l):s=r.toString(),""+o+s}function Ot(i){if(!(W(i)||i===null||i===""))return parseInt(i,10)}function Zt(i){if(!(W(i)||i===null||i===""))return parseFloat(i)}function Kn(i){if(!(W(i)||i===null||i==="")){var l=parseFloat("0."+i)*1e3;return Math.floor(l)}}function Nn(i,l,o){o===void 0&&(o=!1);var r=Math.pow(10,l),s=o?Math.trunc:Math.round;return s(i*r)/r}function Cn(i){return i%4==0&&(i%100!=0||i%400==0)}function P(i){return Cn(i)?366:365}function Mt(i,l){var o=yi(l-1,12)+1,r=i+(l-o)/12;return o===2?Cn(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][o-1]}function Xt(i){var l=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(l=new Date(l),l.setUTCFullYear(l.getUTCFullYear()-1900)),+l}function gt(i){var l=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7,o=i-1,r=(o+Math.floor(o/4)-Math.floor(o/100)+Math.floor(o/400))%7;return l===4||r===3?53:52}function Xe(i){return i>99?i:i>60?1900+i:2e3+i}function Dt(i,l,o,r){r===void 0&&(r=null);var s=new Date(i),d={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(d.timeZone=r);var v=u({timeZoneName:l},d),y=new Intl.DateTimeFormat(o,v).formatToParts(s).find(function(b){return b.type.toLowerCase()==="timezonename"});return y?y.value:null}function Kt(i,l){var o=parseInt(i,10);Number.isNaN(o)&&(o=0);var r=parseInt(l,10)||0,s=o<0||Object.is(o,-0)?-r:r;return o*60+s}function $n(i){var l=Number(i);if(typeof i=="boolean"||i===""||Number.isNaN(l))throw new F("Invalid unit value "+i);return l}function In(i,l){var o={};for(var r in i)if(Qt(i,r)){var s=i[r];if(s==null)continue;o[l(r)]=$n(s)}return o}function mn(i,l){var o=Math.trunc(Math.abs(i/60)),r=Math.trunc(Math.abs(i%60)),s=i>=0?"+":"-";switch(l){case"short":return""+s+Wt(o,2)+":"+Wt(r,2);case"narrow":return""+s+o+(r>0?":"+r:"");case"techie":return""+s+Wt(o,2)+Wt(r,2);default:throw new RangeError("Value format "+l+" is out of range for property format")}}function jt(i){return _i(i,["hour","minute","second","millisecond"])}var $t=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,nt=["January","February","March","April","May","June","July","August","September","October","November","December"],An=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Cr=["J","F","M","A","M","J","J","A","S","O","N","D"];function en(i){switch(i){case"narrow":return[].concat(Cr);case"short":return[].concat(An);case"long":return[].concat(nt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var gn=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Et=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],xt=["M","T","W","T","F","S","S"];function vn(i){switch(i){case"narrow":return[].concat(xt);case"short":return[].concat(Et);case"long":return[].concat(gn);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Ir=["AM","PM"],pi=["Before Christ","Anno Domini"],bi=["BC","AD"],ca=["B","A"];function Fn(i){switch(i){case"narrow":return[].concat(ca);case"short":return[].concat(bi);case"long":return[].concat(pi);default:return null}}function fa(i){return Ir[i.hour<12?0:1]}function he(i,l){return vn(l)[i.weekday-1]}function tn(i,l){return en(l)[i.month-1]}function Nt(i,l){return Fn(l)[i.year<0?0:1]}function Ar(i,l,o,r){o===void 0&&(o="always"),r===void 0&&(r=!1);var s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},d=["hours","minutes","seconds"].indexOf(i)===-1;if(o==="auto"&&d){var v=i==="days";switch(l){case 1:return v?"tomorrow":"next "+s[i][0];case-1:return v?"yesterday":"last "+s[i][0];case 0:return v?"today":"this "+s[i][0]}}var y=Object.is(l,-0)||l<0,b=Math.abs(l),O=b===1,L=s[i],N=r?O?L[1]:L[2]||L[1]:O?s[i][0]:i;return y?b+" "+N+" ago":"in "+b+" "+N}function nn(i,l){for(var o="",r=j(i),s;!(s=r()).done;){var d=s.value;d.literal?o+=d.val:o+=l(d.val)}return o}var rn={D:B,DD:me,DDD:Oe,DDDD:Ye,t:Be,tt:et,ttt:Se,tttt:Ce,T:Ht,TT:Me,TTT:Ie,TTTT:Ne,f:dt,ff:tt,fff:R,ffff:D,F:Tt,FF:we,FFF:K,FFFF:T},vt=function(){i.create=function(r,s){return s===void 0&&(s={}),new i(r,s)},i.parseFormat=function(r){for(var s=null,d="",v=!1,y=[],b=0;b<r.length;b++){var O=r.charAt(b);O==="'"?(d.length>0&&y.push({literal:v,val:d}),s=null,d="",v=!v):v||O===s?d+=O:(d.length>0&&y.push({literal:!1,val:d}),d=O,s=O)}return d.length>0&&y.push({literal:v,val:d}),y},i.macroTokenToFormatOpts=function(r){return rn[r]};function i(o,r){this.opts=r,this.loc=o,this.systemLoc=null}var l=i.prototype;return l.formatWithSystemDefault=function(r,s){this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem());var d=this.systemLoc.dtFormatter(r,u({},this.opts,s));return d.format()},l.formatDateTime=function(r,s){s===void 0&&(s={});var d=this.loc.dtFormatter(r,u({},this.opts,s));return d.format()},l.formatDateTimeParts=function(r,s){s===void 0&&(s={});var d=this.loc.dtFormatter(r,u({},this.opts,s));return d.formatToParts()},l.resolvedOptions=function(r,s){s===void 0&&(s={});var d=this.loc.dtFormatter(r,u({},this.opts,s));return d.resolvedOptions()},l.num=function(r,s){if(s===void 0&&(s=0),this.opts.forceSimple)return Wt(r,s);var d=u({},this.opts);return s>0&&(d.padTo=s),this.loc.numberFormatter(d).format(r)},l.formatDateTimeFromString=function(r,s){var d=this,v=this.loc.listingMode()==="en",y=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",b=function(ie,Ge){return d.loc.extract(r,ie,Ge)},O=function(ie){return r.isOffsetFixed&&r.offset===0&&ie.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,ie.format):""},L=function(){return v?fa(r):b({hour:"numeric",hourCycle:"h12"},"dayperiod")},N=function(ie,Ge){return v?tn(r,ie):b(Ge?{month:ie}:{month:ie,day:"numeric"},"month")},C=function(ie,Ge){return v?he(r,ie):b(Ge?{weekday:ie}:{weekday:ie,month:"long",day:"numeric"},"weekday")},q=function(ie){var Ge=i.macroTokenToFormatOpts(ie);return Ge?d.formatWithSystemDefault(r,Ge):ie},ae=function(ie){return v?Nt(r,ie):b({era:ie},"era")},ce=function(ie){switch(ie){case"S":return d.num(r.millisecond);case"u":case"SSS":return d.num(r.millisecond,3);case"s":return d.num(r.second);case"ss":return d.num(r.second,2);case"uu":return d.num(Math.floor(r.millisecond/10),2);case"uuu":return d.num(Math.floor(r.millisecond/100));case"m":return d.num(r.minute);case"mm":return d.num(r.minute,2);case"h":return d.num(r.hour%12==0?12:r.hour%12);case"hh":return d.num(r.hour%12==0?12:r.hour%12,2);case"H":return d.num(r.hour);case"HH":return d.num(r.hour,2);case"Z":return O({format:"narrow",allowZ:d.opts.allowZ});case"ZZ":return O({format:"short",allowZ:d.opts.allowZ});case"ZZZ":return O({format:"techie",allowZ:d.opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:d.loc.locale});case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:d.loc.locale});case"z":return r.zoneName;case"a":return L();case"d":return y?b({day:"numeric"},"day"):d.num(r.day);case"dd":return y?b({day:"2-digit"},"day"):d.num(r.day,2);case"c":return d.num(r.weekday);case"ccc":return C("short",!0);case"cccc":return C("long",!0);case"ccccc":return C("narrow",!0);case"E":return d.num(r.weekday);case"EEE":return C("short",!1);case"EEEE":return C("long",!1);case"EEEEE":return C("narrow",!1);case"L":return y?b({month:"numeric",day:"numeric"},"month"):d.num(r.month);case"LL":return y?b({month:"2-digit",day:"numeric"},"month"):d.num(r.month,2);case"LLL":return N("short",!0);case"LLLL":return N("long",!0);case"LLLLL":return N("narrow",!0);case"M":return y?b({month:"numeric"},"month"):d.num(r.month);case"MM":return y?b({month:"2-digit"},"month"):d.num(r.month,2);case"MMM":return N("short",!1);case"MMMM":return N("long",!1);case"MMMMM":return N("narrow",!1);case"y":return y?b({year:"numeric"},"year"):d.num(r.year);case"yy":return y?b({year:"2-digit"},"year"):d.num(r.year.toString().slice(-2),2);case"yyyy":return y?b({year:"numeric"},"year"):d.num(r.year,4);case"yyyyyy":return y?b({year:"numeric"},"year"):d.num(r.year,6);case"G":return ae("short");case"GG":return ae("long");case"GGGGG":return ae("narrow");case"kk":return d.num(r.weekYear.toString().slice(-2),2);case"kkkk":return d.num(r.weekYear,4);case"W":return d.num(r.weekNumber);case"WW":return d.num(r.weekNumber,2);case"o":return d.num(r.ordinal);case"ooo":return d.num(r.ordinal,3);case"q":return d.num(r.quarter);case"qq":return d.num(r.quarter,2);case"X":return d.num(Math.floor(r.ts/1e3));case"x":return d.num(r.ts);default:return q(ie)}};return nn(i.parseFormat(s),ce)},l.formatDurationFromString=function(r,s){var d=this,v=function(C){switch(C[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},y=function(C){return function(q){var ae=v(q);return ae?d.num(C.get(ae),q.length):q}},b=i.parseFormat(s),O=b.reduce(function(N,C){var q=C.literal,ae=C.val;return q?N:N.concat(ae)},[]),L=r.shiftTo.apply(r,O.map(v).filter(function(N){return N}));return nn(b,y(L))},i}(),Ze=function(){function i(o,r){this.reason=o,this.explanation=r}var l=i.prototype;return l.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},i}(),_t=function(){function i(){}var l=i.prototype;return l.offsetName=function(r,s){throw new ee},l.formatOffset=function(r,s){throw new ee},l.offset=function(r){throw new ee},l.equals=function(r){throw new ee},a(i,[{key:"type",get:function(){throw new ee}},{key:"name",get:function(){throw new ee}},{key:"isUniversal",get:function(){throw new ee}},{key:"isValid",get:function(){throw new ee}}]),i}(),er=null,wi=function(i){c(l,i);function l(){return i.apply(this,arguments)||this}var o=l.prototype;return o.offsetName=function(s,d){var v=d.format,y=d.locale;return Dt(s,v,y)},o.formatOffset=function(s,d){return mn(this.offset(s),d)},o.offset=function(s){return-new Date(s).getTimezoneOffset()},o.equals=function(s){return s.type==="system"},a(l,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return er===null&&(er=new l),er}}]),l}(_t),Ee=RegExp("^"+$t.source+"$"),_n={};function Fr(i){return _n[i]||(_n[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),_n[i]}var ki={year:0,month:1,day:2,hour:3,minute:4,second:5};function da(i,l){var o=i.format(l).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(o),s=r[1],d=r[2],v=r[3],y=r[4],b=r[5],O=r[6];return[v,s,d,y,b,O]}function ha(i,l){for(var o=i.formatToParts(l),r=[],s=0;s<o.length;s++){var d=o[s],v=d.type,y=d.value,b=ki[v];W(b)||(r[b]=parseInt(y,10))}return r}var tr={},Ct=function(i){c(l,i),l.create=function(s){return tr[s]||(tr[s]=new l(s)),tr[s]},l.resetCache=function(){tr={},_n={}},l.isValidSpecifier=function(s){return!!(s&&s.match(Ee))},l.isValidZone=function(s){if(!s)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:s}).format(),!0}catch(d){return!1}};function l(r){var s;return s=i.call(this)||this,s.zoneName=r,s.valid=l.isValidZone(r),s}var o=l.prototype;return o.offsetName=function(s,d){var v=d.format,y=d.locale;return Dt(s,v,y,this.name)},o.formatOffset=function(s,d){return mn(this.offset(s),d)},o.offset=function(s){var d=new Date(s);if(isNaN(d))return NaN;var v=Fr(this.name),y=v.formatToParts?ha(v,d):da(v,d),b=y[0],O=y[1],L=y[2],N=y[3],C=y[4],q=y[5],ae=N===24?0:N,ce=Xt({year:b,month:O,day:L,hour:ae,minute:C,second:q,millisecond:0}),fe=+d,ie=fe%1e3;return fe-=ie>=0?ie:1e3+ie,(ce-fe)/(60*1e3)},o.equals=function(s){return s.type==="iana"&&s.name===this.name},a(l,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),l}(_t),It=null,Ke=function(i){c(l,i),l.instance=function(s){return s===0?l.utcInstance:new l(s)},l.parseSpecifier=function(s){if(s){var d=s.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(d)return new l(Kt(d[1],d[2]))}return null};function l(r){var s;return s=i.call(this)||this,s.fixed=r,s}var o=l.prototype;return o.offsetName=function(){return this.name},o.formatOffset=function(s,d){return mn(this.fixed,d)},o.offset=function(){return this.fixed},o.equals=function(s){return s.type==="fixed"&&s.fixed===this.fixed},a(l,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return this.fixed===0?"UTC":"UTC"+mn(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return It===null&&(It=new l(0)),It}}]),l}(_t),yt=function(i){c(l,i);function l(r){var s;return s=i.call(this)||this,s.zoneName=r,s}var o=l.prototype;return o.offsetName=function(){return null},o.formatOffset=function(){return""},o.offset=function(){return NaN},o.equals=function(){return!1},a(l,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),l}(_t);function ze(i,l){if(W(i)||i===null)return l;if(i instanceof _t)return i;if(We(i)){var o=i.toLowerCase();return o==="local"||o==="system"?l:o==="utc"||o==="gmt"?Ke.utcInstance:Ct.isValidSpecifier(o)?Ct.create(i):Ke.parseSpecifier(o)||new yt(i)}else return le(i)?Ke.instance(i):typeof i=="object"&&i.offset&&typeof i.offset=="number"?i:new yt(i)}var Ln=function(){return Date.now()},yn="system",pn=null,Lr=null,Si=null,an,xe=function(){function i(){}return i.resetCaches=function(){Ue.resetCache(),Ct.resetCache()},a(i,null,[{key:"now",get:function(){return Ln},set:function(o){Ln=o}},{key:"defaultZone",get:function(){return ze(yn,wi.instance)},set:function(o){yn=o}},{key:"defaultLocale",get:function(){return pn},set:function(o){pn=o}},{key:"defaultNumberingSystem",get:function(){return Lr},set:function(o){Lr=o}},{key:"defaultOutputCalendar",get:function(){return Si},set:function(o){Si=o}},{key:"throwOnInvalid",get:function(){return an},set:function(o){an=o}}]),i}(),ma=["base"],bn={};function nr(i,l){l===void 0&&(l={});var o=JSON.stringify([i,l]),r=bn[o];return r||(r=new Intl.DateTimeFormat(i,l),bn[o]=r),r}var Pn={};function Pr(i,l){l===void 0&&(l={});var o=JSON.stringify([i,l]),r=Pn[o];return r||(r=new Intl.NumberFormat(i,l),Pn[o]=r),r}var Un={};function ga(i,l){l===void 0&&(l={});var o=l;o.base;var r=S(o,ma),s=JSON.stringify([i,r]),d=Un[s];return d||(d=new Intl.RelativeTimeFormat(i,l),Un[s]=d),d}var Rn=null;function Ti(){return Rn||(Rn=new Intl.DateTimeFormat().resolvedOptions().locale,Rn)}function va(i){var l=i.indexOf("-u-");if(l===-1)return[i];var o,r=i.substring(0,l);try{o=nr(i).resolvedOptions()}catch(y){o=nr(r).resolvedOptions()}var s=o,d=s.numberingSystem,v=s.calendar;return[r,d,v]}function pt(i,l,o){return(o||l)&&(i+="-u",o&&(i+="-ca-"+o),l&&(i+="-nu-"+l)),i}function rr(i){for(var l=[],o=1;o<=12;o++){var r=Re.utc(2016,o,1);l.push(i(r))}return l}function ir(i){for(var l=[],o=1;o<=7;o++){var r=Re.utc(2016,11,13+o);l.push(i(r))}return l}function Yt(i,l,o,r,s){var d=i.listingMode(o);return d==="error"?null:d==="en"?r(l):s(l)}function _a(i){return i.numberingSystem&&i.numberingSystem!=="latn"?!1:i.numberingSystem==="latn"||!i.locale||i.locale.startsWith("en")||new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem==="latn"}var ya=function(){function i(o,r,s){if(this.padTo=s.padTo||0,this.floor=s.floor||!1,!r){var d={useGrouping:!1};s.padTo>0&&(d.minimumIntegerDigits=s.padTo),this.inf=Pr(o,d)}}var l=i.prototype;return l.format=function(r){if(this.inf){var s=this.floor?Math.floor(r):r;return this.inf.format(s)}else{var d=this.floor?Math.floor(r):Nn(r,3);return Wt(d,this.padTo)}},i}(),pa=function(){function i(o,r,s){this.opts=s;var d;if(o.zone.isUniversal){var v=-1*(o.offset/60),y=v>=0?"Etc/GMT+"+v:"Etc/GMT"+v;o.offset!==0&&Ct.create(y).valid?(d=y,this.dt=o):(d="UTC",s.timeZoneName?this.dt=o:this.dt=o.offset===0?o:Re.fromMillis(o.ts+o.offset*60*1e3))}else o.zone.type==="system"?this.dt=o:(this.dt=o,d=o.zone.name);var b=u({},this.opts);d&&(b.timeZone=d),this.dtf=nr(r,b)}var l=i.prototype;return l.format=function(){return this.dtf.format(this.dt.toJSDate())},l.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},l.resolvedOptions=function(){return this.dtf.resolvedOptions()},i}(),ba=function(){function i(o,r,s){this.opts=u({style:"long"},s),!r&&hn()&&(this.rtf=ga(o,s))}var l=i.prototype;return l.format=function(r,s){return this.rtf?this.rtf.format(r,s):Ar(s,r,this.opts.numeric,this.opts.style!=="long")},l.formatToParts=function(r,s){return this.rtf?this.rtf.formatToParts(r,s):[]},i}(),Ue=function(){i.fromOpts=function(r){return i.create(r.locale,r.numberingSystem,r.outputCalendar,r.defaultToEN)},i.create=function(r,s,d,v){v===void 0&&(v=!1);var y=r||xe.defaultLocale,b=y||(v?"en-US":Ti()),O=s||xe.defaultNumberingSystem,L=d||xe.defaultOutputCalendar;return new i(b,O,L,y)},i.resetCache=function(){Rn=null,bn={},Pn={},Un={}},i.fromObject=function(r){var s=r===void 0?{}:r,d=s.locale,v=s.numberingSystem,y=s.outputCalendar;return i.create(d,v,y)};function i(o,r,s,d){var v=va(o),y=v[0],b=v[1],O=v[2];this.locale=y,this.numberingSystem=r||b||null,this.outputCalendar=s||O||null,this.intl=pt(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=d,this.fastNumbersCached=null}var l=i.prototype;return l.listingMode=function(r){var s=this.isEnglish(),d=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return s&&d?"en":"intl"},l.clone=function(r){return!r||Object.getOwnPropertyNames(r).length===0?this:i.create(r.locale||this.specifiedLocale,r.numberingSystem||this.numberingSystem,r.outputCalendar||this.outputCalendar,r.defaultToEN||!1)},l.redefaultToEN=function(r){return r===void 0&&(r={}),this.clone(u({},r,{defaultToEN:!0}))},l.redefaultToSystem=function(r){return r===void 0&&(r={}),this.clone(u({},r,{defaultToEN:!1}))},l.months=function(r,s,d){var v=this;return s===void 0&&(s=!1),d===void 0&&(d=!0),Yt(this,r,d,en,function(){var y=s?{month:r,day:"numeric"}:{month:r},b=s?"format":"standalone";return v.monthsCache[b][r]||(v.monthsCache[b][r]=rr(function(O){return v.extract(O,y,"month")})),v.monthsCache[b][r]})},l.weekdays=function(r,s,d){var v=this;return s===void 0&&(s=!1),d===void 0&&(d=!0),Yt(this,r,d,vn,function(){var y=s?{weekday:r,year:"numeric",month:"long",day:"numeric"}:{weekday:r},b=s?"format":"standalone";return v.weekdaysCache[b][r]||(v.weekdaysCache[b][r]=ir(function(O){return v.extract(O,y,"weekday")})),v.weekdaysCache[b][r]})},l.meridiems=function(r){var s=this;return r===void 0&&(r=!0),Yt(this,void 0,r,function(){return Ir},function(){if(!s.meridiemCache){var d={hour:"numeric",hourCycle:"h12"};s.meridiemCache=[Re.utc(2016,11,13,9),Re.utc(2016,11,13,19)].map(function(v){return s.extract(v,d,"dayperiod")})}return s.meridiemCache})},l.eras=function(r,s){var d=this;return s===void 0&&(s=!0),Yt(this,r,s,Fn,function(){var v={era:r};return d.eraCache[r]||(d.eraCache[r]=[Re.utc(-40,1,1),Re.utc(2017,1,1)].map(function(y){return d.extract(y,v,"era")})),d.eraCache[r]})},l.extract=function(r,s,d){var v=this.dtFormatter(r,s),y=v.formatToParts(),b=y.find(function(O){return O.type.toLowerCase()===d});return b?b.value:null},l.numberFormatter=function(r){return r===void 0&&(r={}),new ya(this.intl,r.forceSimple||this.fastNumbers,r)},l.dtFormatter=function(r,s){return s===void 0&&(s={}),new pa(r,this.intl,s)},l.relFormatter=function(r){return r===void 0&&(r={}),new ba(this.intl,this.isEnglish(),r)},l.isEnglish=function(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},l.equals=function(r){return this.locale===r.locale&&this.numberingSystem===r.numberingSystem&&this.outputCalendar===r.outputCalendar},a(i,[{key:"fastNumbers",get:function(){return this.fastNumbersCached==null&&(this.fastNumbersCached=_a(this)),this.fastNumbersCached}}]),i}();function wn(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];var r=l.reduce(function(s,d){return s+d.source},"");return RegExp("^"+r+"$")}function on(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return function(r){return l.reduce(function(s,d){var v=s[0],y=s[1],b=s[2],O=d(r,b),L=O[0],N=O[1],C=O[2];return[u({},v,L),y||N,C]},[{},null,1]).slice(0,2)}}function kn(i){if(i==null)return[null,null];for(var l=arguments.length,o=new Array(l>1?l-1:0),r=1;r<l;r++)o[r-1]=arguments[r];for(var s=0,d=o;s<d.length;s++){var v=d[s],y=v[0],b=v[1],O=y.exec(i);if(O)return b(O)}return[null,null]}function Oi(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return function(r,s){var d={},v;for(v=0;v<l.length;v++)d[l[v]]=Ot(r[s+v]);return[d,null,s+v]}}var Mi=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ur=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Di=RegExp(""+Ur.source+Mi.source+"?"),Rr=RegExp("(?:T"+Di.source+")?"),wa=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ka=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Sa=/(\d{4})-?(\d{3})/,Ta=Oi("weekYear","weekNumber","weekDay"),Oa=Oi("year","ordinal"),_=/(\d{4})-(\d\d)-(\d\d)/,k=RegExp(Ur.source+" ?(?:"+Mi.source+"|("+$t.source+"))?"),x=RegExp("(?: "+k.source+")?");function V(i,l,o){var r=i[l];return W(r)?o:Ot(r)}function Z(i,l){var o={year:V(i,l),month:V(i,l+1,1),day:V(i,l+2,1)};return[o,null,l+3]}function Y(i,l){var o={hours:V(i,l,0),minutes:V(i,l+1,0),seconds:V(i,l+2,0),milliseconds:Kn(i[l+3])};return[o,null,l+4]}function G(i,l){var o=!i[l]&&!i[l+1],r=Kt(i[l+1],i[l+2]),s=o?null:Ke.instance(r);return[{},s,l+3]}function ve(i,l){var o=i[l]?Ct.create(i[l]):null;return[{},o,l+1]}var qe=RegExp("^T?"+Ur.source+"$"),ot=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Fe(i){var l=i[0],o=i[1],r=i[2],s=i[3],d=i[4],v=i[5],y=i[6],b=i[7],O=i[8],L=l[0]==="-",N=b&&b[0]==="-",C=function(ae,ce){return ce===void 0&&(ce=!1),ae!==void 0&&(ce||ae&&L)?-ae:ae};return[{years:C(Zt(o)),months:C(Zt(r)),weeks:C(Zt(s)),days:C(Zt(d)),hours:C(Zt(v)),minutes:C(Zt(y)),seconds:C(Zt(b),b==="-0"),milliseconds:C(Kn(O),N)}]}var zr={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ma(i,l,o,r,s,d,v){var y={year:l.length===2?Xe(Ot(l)):Ot(l),month:An.indexOf(o)+1,day:Ot(r),hour:Ot(s),minute:Ot(d)};return v&&(y.second=Ot(v)),i&&(y.weekday=i.length>3?gn.indexOf(i)+1:Et.indexOf(i)+1),y}var Ed=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function xd(i){var l=i[1],o=i[2],r=i[3],s=i[4],d=i[5],v=i[6],y=i[7],b=i[8],O=i[9],L=i[10],N=i[11],C=Ma(l,s,r,o,d,v,y),q;return b?q=zr[b]:O?q=0:q=Kt(L,N),[C,new Ke(q)]}function Nd(i){return i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Cd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Id=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ad=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ws(i){var l=i[1],o=i[2],r=i[3],s=i[4],d=i[5],v=i[6],y=i[7],b=Ma(l,s,r,o,d,v,y);return[b,Ke.utcInstance]}function Fd(i){var l=i[1],o=i[2],r=i[3],s=i[4],d=i[5],v=i[6],y=i[7],b=Ma(l,y,o,r,s,d,v);return[b,Ke.utcInstance]}var Ld=wn(wa,Rr),Pd=wn(ka,Rr),Ud=wn(Sa,Rr),Rd=wn(Di),zd=on(Z,Y,G),Vd=on(Ta,Y,G),Hd=on(Oa,Y,G),Wd=on(Y,G);function Zd(i){return kn(i,[Ld,zd],[Pd,Vd],[Ud,Hd],[Rd,Wd])}function jd(i){return kn(Nd(i),[Ed,xd])}function Yd(i){return kn(i,[Cd,Ws],[Id,Ws],[Ad,Fd])}function Bd(i){return kn(i,[ot,Fe])}var qd=on(Y);function Jd(i){return kn(i,[qe,qd])}var Gd=wn(_,x),Qd=wn(k),Xd=on(Z,Y,G,ve),Kd=on(Y,G,ve);function $d(i){return kn(i,[Gd,Xd],[Qd,Kd])}var eh="Invalid Duration",Zs={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},th=u({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},Zs),bt=146097/400,ar=146097/4800,nh=u({years:{quarters:4,months:12,weeks:bt/7,days:bt,hours:bt*24,minutes:bt*24*60,seconds:bt*24*60*60,milliseconds:bt*24*60*60*1e3},quarters:{months:3,weeks:bt/28,days:bt/4,hours:bt*24/4,minutes:bt*24*60/4,seconds:bt*24*60*60/4,milliseconds:bt*24*60*60*1e3/4},months:{weeks:ar/7,days:ar,hours:ar*24,minutes:ar*24*60,seconds:ar*24*60*60,milliseconds:ar*24*60*60*1e3}},Zs),or=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],rh=or.slice(0).reverse();function zn(i,l,o){o===void 0&&(o=!1);var r={values:o?l.values:u({},i.values,l.values||{}),loc:i.loc.clone(l.loc),conversionAccuracy:l.conversionAccuracy||i.conversionAccuracy};return new Je(r)}function ih(i){return i<0?Math.floor(i):Math.ceil(i)}function js(i,l,o,r,s){var d=i[s][o],v=l[o]/d,y=Math.sign(v)===Math.sign(r[s]),b=!y&&r[s]!==0&&Math.abs(v)<=1?ih(v):Math.trunc(v);r[s]+=b,l[o]-=b*d}function ah(i,l){rh.reduce(function(o,r){return W(l[r])?o:(o&&js(i,l,o,l,r),r)},null)}var Je=function(){function i(o){var r=o.conversionAccuracy==="longterm"||!1;this.values=o.values,this.loc=o.loc||Ue.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=o.invalid||null,this.matrix=r?nh:th,this.isLuxonDuration=!0}i.fromMillis=function(r,s){return i.fromObject({milliseconds:r},s)},i.fromObject=function(r,s){if(s===void 0&&(s={}),r==null||typeof r!="object")throw new F("Duration.fromObject: argument expected to be an object, got "+(r===null?"null":typeof r));return new i({values:In(r,i.normalizeUnit),loc:Ue.fromObject(s),conversionAccuracy:s.conversionAccuracy})},i.fromDurationLike=function(r){if(le(r))return i.fromMillis(r);if(i.isDuration(r))return r;if(typeof r=="object")return i.fromObject(r);throw new F("Unknown duration argument "+r+" of type "+typeof r)},i.fromISO=function(r,s){var d=Bd(r),v=d[0];return v?i.fromObject(v,s):i.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},i.fromISOTime=function(r,s){var d=Jd(r),v=d[0];return v?i.fromObject(v,s):i.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},i.invalid=function(r,s){if(s===void 0&&(s=null),!r)throw new F("need to specify a reason the Duration is invalid");var d=r instanceof Ze?r:new Ze(r,s);if(xe.throwOnInvalid)throw new Q(d);return new i({invalid:d})},i.normalizeUnit=function(r){var s={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r&&r.toLowerCase()];if(!s)throw new se(r);return s},i.isDuration=function(r){return r&&r.isLuxonDuration||!1};var l=i.prototype;return l.toFormat=function(r,s){s===void 0&&(s={});var d=u({},s,{floor:s.round!==!1&&s.floor!==!1});return this.isValid?vt.create(this.loc,d).formatDurationFromString(this,r):eh},l.toObject=function(){return this.isValid?u({},this.values):{}},l.toISO=function(){if(!this.isValid)return null;var r="P";return this.years!==0&&(r+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(r+=this.months+this.quarters*3+"M"),this.weeks!==0&&(r+=this.weeks+"W"),this.days!==0&&(r+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(r+="T"),this.hours!==0&&(r+=this.hours+"H"),this.minutes!==0&&(r+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(r+=Nn(this.seconds+this.milliseconds/1e3,3)+"S"),r==="P"&&(r+="T0S"),r},l.toISOTime=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var s=this.toMillis();if(s<0||s>=864e5)return null;r=u({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},r);var d=this.shiftTo("hours","minutes","seconds","milliseconds"),v=r.format==="basic"?"hhmm":"hh:mm";(!r.suppressSeconds||d.seconds!==0||d.milliseconds!==0)&&(v+=r.format==="basic"?"ss":":ss",(!r.suppressMilliseconds||d.milliseconds!==0)&&(v+=".SSS"));var y=d.toFormat(v);return r.includePrefix&&(y="T"+y),y},l.toJSON=function(){return this.toISO()},l.toString=function(){return this.toISO()},l.toMillis=function(){return this.as("milliseconds")},l.valueOf=function(){return this.toMillis()},l.plus=function(r){if(!this.isValid)return this;for(var s=i.fromDurationLike(r),d={},v=j(or),y;!(y=v()).done;){var b=y.value;(Qt(s.values,b)||Qt(this.values,b))&&(d[b]=s.get(b)+this.get(b))}return zn(this,{values:d},!0)},l.minus=function(r){if(!this.isValid)return this;var s=i.fromDurationLike(r);return this.plus(s.negate())},l.mapUnits=function(r){if(!this.isValid)return this;for(var s={},d=0,v=Object.keys(this.values);d<v.length;d++){var y=v[d];s[y]=$n(r(this.values[y],y))}return zn(this,{values:s},!0)},l.get=function(r){return this[i.normalizeUnit(r)]},l.set=function(r){if(!this.isValid)return this;var s=u({},this.values,In(r,i.normalizeUnit));return zn(this,{values:s})},l.reconfigure=function(r){var s=r===void 0?{}:r,d=s.locale,v=s.numberingSystem,y=s.conversionAccuracy,b=this.loc.clone({locale:d,numberingSystem:v}),O={loc:b};return y&&(O.conversionAccuracy=y),zn(this,O)},l.as=function(r){return this.isValid?this.shiftTo(r).get(r):NaN},l.normalize=function(){if(!this.isValid)return this;var r=this.toObject();return ah(this.matrix,r),zn(this,{values:r},!0)},l.shiftTo=function(){for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];if(!this.isValid)return this;if(s.length===0)return this;s=s.map(function(Ge){return i.normalizeUnit(Ge)});for(var v={},y={},b=this.toObject(),O,L=j(or),N;!(N=L()).done;){var C=N.value;if(s.indexOf(C)>=0){O=C;var q=0;for(var ae in y)q+=this.matrix[ae][C]*y[ae],y[ae]=0;le(b[C])&&(q+=b[C]);var ce=Math.trunc(q);v[C]=ce,y[C]=(q*1e3-ce*1e3)/1e3;for(var fe in b)or.indexOf(fe)>or.indexOf(C)&&js(this.matrix,b,fe,v,C)}else le(b[C])&&(y[C]=b[C])}for(var ie in y)y[ie]!==0&&(v[O]+=ie===O?y[ie]:y[ie]/this.matrix[O][ie]);return zn(this,{values:v},!0).normalize()},l.negate=function(){if(!this.isValid)return this;for(var r={},s=0,d=Object.keys(this.values);s<d.length;s++){var v=d[s];r[v]=-this.values[v]}return zn(this,{values:r},!0)},l.equals=function(r){if(!this.isValid||!r.isValid||!this.loc.equals(r.loc))return!1;function s(b,O){return b===void 0||b===0?O===void 0||O===0:b===O}for(var d=j(or),v;!(v=d()).done;){var y=v.value;if(!s(this.values[y],r.values[y]))return!1}return!0},a(i,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),i}(),Vr="Invalid Interval";function oh(i,l){return!i||!i.isValid?Hr.invalid("missing or invalid start"):!l||!l.isValid?Hr.invalid("missing or invalid end"):l<i?Hr.invalid("end before start","The end of an interval must be after its start, but you had start="+i.toISO()+" and end="+l.toISO()):null}var Hr=function(){function i(o){this.s=o.start,this.e=o.end,this.invalid=o.invalid||null,this.isLuxonInterval=!0}i.invalid=function(r,s){if(s===void 0&&(s=null),!r)throw new F("need to specify a reason the Interval is invalid");var d=r instanceof Ze?r:new Ze(r,s);if(xe.throwOnInvalid)throw new X(d);return new i({invalid:d})},i.fromDateTimes=function(r,s){var d=Yr(r),v=Yr(s),y=oh(d,v);return y==null?new i({start:d,end:v}):y},i.after=function(r,s){var d=Je.fromDurationLike(s),v=Yr(r);return i.fromDateTimes(v,v.plus(d))},i.before=function(r,s){var d=Je.fromDurationLike(s),v=Yr(r);return i.fromDateTimes(v.minus(d),v)},i.fromISO=function(r,s){var d=(r||"").split("/",2),v=d[0],y=d[1];if(v&&y){var b,O;try{b=Re.fromISO(v,s),O=b.isValid}catch(ae){O=!1}var L,N;try{L=Re.fromISO(y,s),N=L.isValid}catch(ae){N=!1}if(O&&N)return i.fromDateTimes(b,L);if(O){var C=Je.fromISO(y,s);if(C.isValid)return i.after(b,C)}else if(N){var q=Je.fromISO(v,s);if(q.isValid)return i.before(L,q)}}return i.invalid("unparsable",'the input "'+r+`" can't be parsed as ISO 8601`)},i.isInterval=function(r){return r&&r.isLuxonInterval||!1};var l=i.prototype;return l.length=function(r){return r===void 0&&(r="milliseconds"),this.isValid?this.toDuration.apply(this,[r]).get(r):NaN},l.count=function(r){if(r===void 0&&(r="milliseconds"),!this.isValid)return NaN;var s=this.start.startOf(r),d=this.end.startOf(r);return Math.floor(d.diff(s,r).get(r))+1},l.hasSame=function(r){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,r):!1},l.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},l.isAfter=function(r){return this.isValid?this.s>r:!1},l.isBefore=function(r){return this.isValid?this.e<=r:!1},l.contains=function(r){return this.isValid?this.s<=r&&this.e>r:!1},l.set=function(r){var s=r===void 0?{}:r,d=s.start,v=s.end;return this.isValid?i.fromDateTimes(d||this.s,v||this.e):this},l.splitAt=function(){var r=this;if(!this.isValid)return[];for(var s=arguments.length,d=new Array(s),v=0;v<s;v++)d[v]=arguments[v];for(var y=d.map(Yr).filter(function(q){return r.contains(q)}).sort(),b=[],O=this.s,L=0;O<this.e;){var N=y[L]||this.e,C=+N>+this.e?this.e:N;b.push(i.fromDateTimes(O,C)),O=C,L+=1}return b},l.splitBy=function(r){var s=Je.fromDurationLike(r);if(!this.isValid||!s.isValid||s.as("milliseconds")===0)return[];for(var d=this.s,v=1,y,b=[];d<this.e;){var O=this.start.plus(s.mapUnits(function(L){return L*v}));y=+O>+this.e?this.e:O,b.push(i.fromDateTimes(d,y)),d=y,v+=1}return b},l.divideEqually=function(r){return this.isValid?this.splitBy(this.length()/r).slice(0,r):[]},l.overlaps=function(r){return this.e>r.s&&this.s<r.e},l.abutsStart=function(r){return this.isValid?+this.e==+r.s:!1},l.abutsEnd=function(r){return this.isValid?+r.e==+this.s:!1},l.engulfs=function(r){return this.isValid?this.s<=r.s&&this.e>=r.e:!1},l.equals=function(r){return!this.isValid||!r.isValid?!1:this.s.equals(r.s)&&this.e.equals(r.e)},l.intersection=function(r){if(!this.isValid)return this;var s=this.s>r.s?this.s:r.s,d=this.e<r.e?this.e:r.e;return s>=d?null:i.fromDateTimes(s,d)},l.union=function(r){if(!this.isValid)return this;var s=this.s<r.s?this.s:r.s,d=this.e>r.e?this.e:r.e;return i.fromDateTimes(s,d)},i.merge=function(r){var s=r.sort(function(y,b){return y.s-b.s}).reduce(function(y,b){var O=y[0],L=y[1];return L?L.overlaps(b)||L.abutsStart(b)?[O,L.union(b)]:[O.concat([L]),b]:[O,b]},[[],null]),d=s[0],v=s[1];return v&&d.push(v),d},i.xor=function(r){for(var s,d=null,v=0,y=[],b=r.map(function(ae){return[{time:ae.s,type:"s"},{time:ae.e,type:"e"}]}),O=(s=Array.prototype).concat.apply(s,b),L=O.sort(function(ae,ce){return ae.time-ce.time}),N=j(L),C;!(C=N()).done;){var q=C.value;v+=q.type==="s"?1:-1,v===1?d=q.time:(d&&+d!=+q.time&&y.push(i.fromDateTimes(d,q.time)),d=null)}return i.merge(y)},l.difference=function(){for(var r=this,s=arguments.length,d=new Array(s),v=0;v<s;v++)d[v]=arguments[v];return i.xor([this].concat(d)).map(function(y){return r.intersection(y)}).filter(function(y){return y&&!y.isEmpty()})},l.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":Vr},l.toISO=function(r){return this.isValid?this.s.toISO(r)+"/"+this.e.toISO(r):Vr},l.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():Vr},l.toISOTime=function(r){return this.isValid?this.s.toISOTime(r)+"/"+this.e.toISOTime(r):Vr},l.toFormat=function(r,s){var d=s===void 0?{}:s,v=d.separator,y=v===void 0?" \u2013 ":v;return this.isValid?""+this.s.toFormat(r)+y+this.e.toFormat(r):Vr},l.toDuration=function(r,s){return this.isValid?this.e.diff(this.s,r,s):Je.invalid(this.invalidReason)},l.mapEndpoints=function(r){return i.fromDateTimes(r(this.s),r(this.e))},a(i,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return this.invalidReason===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),i}(),Wr=function(){function i(){}return i.hasDST=function(o){o===void 0&&(o=xe.defaultZone);var r=Re.now().setZone(o).set({month:12});return!o.isUniversal&&r.offset!==r.set({month:6}).offset},i.isValidIANAZone=function(o){return Ct.isValidSpecifier(o)&&Ct.isValidZone(o)},i.normalizeZone=function(o){return ze(o,xe.defaultZone)},i.months=function(o,r){o===void 0&&(o="long");var s=r===void 0?{}:r,d=s.locale,v=d===void 0?null:d,y=s.numberingSystem,b=y===void 0?null:y,O=s.locObj,L=O===void 0?null:O,N=s.outputCalendar,C=N===void 0?"gregory":N;return(L||Ue.create(v,b,C)).months(o)},i.monthsFormat=function(o,r){o===void 0&&(o="long");var s=r===void 0?{}:r,d=s.locale,v=d===void 0?null:d,y=s.numberingSystem,b=y===void 0?null:y,O=s.locObj,L=O===void 0?null:O,N=s.outputCalendar,C=N===void 0?"gregory":N;return(L||Ue.create(v,b,C)).months(o,!0)},i.weekdays=function(o,r){o===void 0&&(o="long");var s=r===void 0?{}:r,d=s.locale,v=d===void 0?null:d,y=s.numberingSystem,b=y===void 0?null:y,O=s.locObj,L=O===void 0?null:O;return(L||Ue.create(v,b,null)).weekdays(o)},i.weekdaysFormat=function(o,r){o===void 0&&(o="long");var s=r===void 0?{}:r,d=s.locale,v=d===void 0?null:d,y=s.numberingSystem,b=y===void 0?null:y,O=s.locObj,L=O===void 0?null:O;return(L||Ue.create(v,b,null)).weekdays(o,!0)},i.meridiems=function(o){var r=o===void 0?{}:o,s=r.locale,d=s===void 0?null:s;return Ue.create(d).meridiems()},i.eras=function(o,r){o===void 0&&(o="short");var s=r===void 0?{}:r,d=s.locale,v=d===void 0?null:d;return Ue.create(v,null,"gregory").eras(o)},i.features=function(){return{relative:hn()}},i}();function Ys(i,l){var o=function(d){return d.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=o(l)-o(i);return Math.floor(Je.fromMillis(r).as("days"))}function sh(i,l,o){for(var r=[["years",function(ce,fe){return fe.year-ce.year}],["quarters",function(ce,fe){return fe.quarter-ce.quarter}],["months",function(ce,fe){return fe.month-ce.month+(fe.year-ce.year)*12}],["weeks",function(ce,fe){var ie=Ys(ce,fe);return(ie-ie%7)/7}],["days",Ys]],s={},d,v,y=0,b=r;y<b.length;y++){var O=b[y],L=O[0],N=O[1];if(o.indexOf(L)>=0){var C;d=L;var q=N(i,l);if(v=i.plus((C={},C[L]=q,C)),v>l){var ae;i=i.plus((ae={},ae[L]=q-1,ae)),q-=1}else i=v;s[L]=q}}return[i,s,v,d]}function lh(i,l,o,r){var s=sh(i,l,o),d=s[0],v=s[1],y=s[2],b=s[3],O=l-d,L=o.filter(function(ae){return["hours","minutes","seconds","milliseconds"].indexOf(ae)>=0});if(L.length===0){if(y<l){var N;y=d.plus((N={},N[b]=1,N))}y!==d&&(v[b]=(v[b]||0)+O/(y-d))}var C=Je.fromObject(v,r);if(L.length>0){var q;return(q=Je.fromMillis(O,r)).shiftTo.apply(q,L).plus(C)}else return C}var Da={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Bs={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},uh=Da.hanidec.replace(/[\[|\]]/g,"").split("");function ch(i){var l=parseInt(i,10);if(isNaN(l)){l="";for(var o=0;o<i.length;o++){var r=i.charCodeAt(o);if(i[o].search(Da.hanidec)!==-1)l+=uh.indexOf(i[o]);else for(var s in Bs){var d=Bs[s],v=d[0],y=d[1];r>=v&&r<=y&&(l+=r-v)}}return parseInt(l,10)}else return l}function At(i,l){var o=i.numberingSystem;return l===void 0&&(l=""),new RegExp(""+Da[o||"latn"]+l)}var fh="missing Intl.DateTimeFormat.formatToParts support";function pe(i,l){return l===void 0&&(l=function(r){return r}),{regex:i,deser:function(r){var s=r[0];return l(ch(s))}}}var dh=String.fromCharCode(160),qs="( |"+dh+")",Js=new RegExp(qs,"g");function hh(i){return i.replace(/\./g,"\\.?").replace(Js,qs)}function Gs(i){return i.replace(/\./g,"").replace(Js," ").toLowerCase()}function Ft(i,l){return i===null?null:{regex:RegExp(i.map(hh).join("|")),deser:function(r){var s=r[0];return i.findIndex(function(d){return Gs(s)===Gs(d)})+l}}}function Qs(i,l){return{regex:i,deser:function(r){var s=r[1],d=r[2];return Kt(s,d)},groups:l}}function Ea(i){return{regex:i,deser:function(o){var r=o[0];return r}}}function mh(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function gh(i,l){var o=At(l),r=At(l,"{2}"),s=At(l,"{3}"),d=At(l,"{4}"),v=At(l,"{6}"),y=At(l,"{1,2}"),b=At(l,"{1,3}"),O=At(l,"{1,6}"),L=At(l,"{1,9}"),N=At(l,"{2,4}"),C=At(l,"{4,6}"),q=function(ie){return{regex:RegExp(mh(ie.val)),deser:function(Ni){var Fa=Ni[0];return Fa},literal:!0}},ae=function(ie){if(i.literal)return q(ie);switch(ie.val){case"G":return Ft(l.eras("short",!1),0);case"GG":return Ft(l.eras("long",!1),0);case"y":return pe(O);case"yy":return pe(N,Xe);case"yyyy":return pe(d);case"yyyyy":return pe(C);case"yyyyyy":return pe(v);case"M":return pe(y);case"MM":return pe(r);case"MMM":return Ft(l.months("short",!0,!1),1);case"MMMM":return Ft(l.months("long",!0,!1),1);case"L":return pe(y);case"LL":return pe(r);case"LLL":return Ft(l.months("short",!1,!1),1);case"LLLL":return Ft(l.months("long",!1,!1),1);case"d":return pe(y);case"dd":return pe(r);case"o":return pe(b);case"ooo":return pe(s);case"HH":return pe(r);case"H":return pe(y);case"hh":return pe(r);case"h":return pe(y);case"mm":return pe(r);case"m":return pe(y);case"q":return pe(y);case"qq":return pe(r);case"s":return pe(y);case"ss":return pe(r);case"S":return pe(b);case"SSS":return pe(s);case"u":return Ea(L);case"uu":return Ea(y);case"uuu":return pe(o);case"a":return Ft(l.meridiems(),0);case"kkkk":return pe(d);case"kk":return pe(N,Xe);case"W":return pe(y);case"WW":return pe(r);case"E":case"c":return pe(o);case"EEE":return Ft(l.weekdays("short",!1,!1),1);case"EEEE":return Ft(l.weekdays("long",!1,!1),1);case"ccc":return Ft(l.weekdays("short",!0,!1),1);case"cccc":return Ft(l.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Qs(new RegExp("([+-]"+y.source+")(?::("+r.source+"))?"),2);case"ZZZ":return Qs(new RegExp("([+-]"+y.source+")("+r.source+")?"),2);case"z":return Ea(/[a-z_+-/]{1,256}?/i);default:return q(ie)}},ce=ae(i)||{invalidReason:fh};return ce.token=i,ce}var vh={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function _h(i,l,o){var r=i.type,s=i.value;if(r==="literal")return{literal:!0,val:s};var d=o[r],v=vh[r];if(typeof v=="object"&&(v=v[d]),v)return{literal:!1,val:v}}function yh(i){var l=i.map(function(o){return o.regex}).reduce(function(o,r){return o+"("+r.source+")"},"");return["^"+l+"$",i]}function ph(i,l,o){var r=i.match(l);if(r){var s={},d=1;for(var v in o)if(Qt(o,v)){var y=o[v],b=y.groups?y.groups+1:1;!y.literal&&y.token&&(s[y.token.val[0]]=y.deser(r.slice(d,d+b))),d+=b}return[r,s]}else return[r,{}]}function bh(i){var l=function(v){switch(v){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},o=null,r;W(i.z)||(o=Ct.create(i.z)),W(i.Z)||(o||(o=new Ke(i.Z)),r=i.Z),W(i.q)||(i.M=(i.q-1)*3+1),W(i.h)||(i.h<12&&i.a===1?i.h+=12:i.h===12&&i.a===0&&(i.h=0)),i.G===0&&i.y&&(i.y=-i.y),W(i.u)||(i.S=Kn(i.u));var s=Object.keys(i).reduce(function(d,v){var y=l(v);return y&&(d[y]=i[v]),d},{});return[s,o,r]}var xa=null;function wh(){return xa||(xa=Re.fromMillis(1555555555555)),xa}function kh(i,l){if(i.literal)return i;var o=vt.macroTokenToFormatOpts(i.val);if(!o)return i;var r=vt.create(l,o),s=r.formatDateTimeParts(wh()),d=s.map(function(v){return _h(v,l,o)});return d.includes(void 0)?i:d}function Sh(i,l){var o;return(o=Array.prototype).concat.apply(o,i.map(function(r){return kh(r,l)}))}function Xs(i,l,o){var r=Sh(vt.parseFormat(o),i),s=r.map(function(ie){return gh(ie,i)}),d=s.find(function(ie){return ie.invalidReason});if(d)return{input:l,tokens:r,invalidReason:d.invalidReason};var v=yh(s),y=v[0],b=v[1],O=RegExp(y,"i"),L=ph(l,O,b),N=L[0],C=L[1],q=C?bh(C):[null,null,void 0],ae=q[0],ce=q[1],fe=q[2];if(Qt(C,"a")&&Qt(C,"H"))throw new ue("Can't include meridiem when specifying 24-hour format");return{input:l,tokens:r,regex:O,rawMatches:N,matches:C,result:ae,zone:ce,specificOffset:fe}}function Th(i,l,o){var r=Xs(i,l,o),s=r.result,d=r.zone,v=r.specificOffset,y=r.invalidReason;return[s,d,v,y]}var Ks=[0,31,59,90,120,151,181,212,243,273,304,334],$s=[0,31,60,91,121,152,182,213,244,274,305,335];function wt(i,l){return new Ze("unit out of range","you specified "+l+" (of type "+typeof l+") as a "+i+", which is invalid")}function el(i,l,o){var r=new Date(Date.UTC(i,l-1,o)).getUTCDay();return r===0?7:r}function tl(i,l,o){return o+(Cn(i)?$s:Ks)[l-1]}function nl(i,l){var o=Cn(i)?$s:Ks,r=o.findIndex(function(d){return d<l}),s=l-o[r];return{month:r+1,day:s}}function Na(i){var l=i.year,o=i.month,r=i.day,s=tl(l,o,r),d=el(l,o,r),v=Math.floor((s-d+10)/7),y;return v<1?(y=l-1,v=gt(y)):v>gt(l)?(y=l+1,v=1):y=l,u({weekYear:y,weekNumber:v,weekday:d},jt(i))}function rl(i){var l=i.weekYear,o=i.weekNumber,r=i.weekday,s=el(l,1,4),d=P(l),v=o*7+r-s-3,y;v<1?(y=l-1,v+=P(y)):v>d?(y=l+1,v-=P(l)):y=l;var b=nl(y,v),O=b.month,L=b.day;return u({year:y,month:O,day:L},jt(i))}function Ca(i){var l=i.year,o=i.month,r=i.day,s=tl(l,o,r);return u({year:l,ordinal:s},jt(i))}function il(i){var l=i.year,o=i.ordinal,r=nl(l,o),s=r.month,d=r.day;return u({year:l,month:s,day:d},jt(i))}function Oh(i){var l=Ae(i.weekYear),o=mt(i.weekNumber,1,gt(i.weekYear)),r=mt(i.weekday,1,7);return l?o?r?!1:wt("weekday",i.weekday):wt("week",i.week):wt("weekYear",i.weekYear)}function Mh(i){var l=Ae(i.year),o=mt(i.ordinal,1,P(i.year));return l?o?!1:wt("ordinal",i.ordinal):wt("year",i.year)}function al(i){var l=Ae(i.year),o=mt(i.month,1,12),r=mt(i.day,1,Mt(i.year,i.month));return l?o?r?!1:wt("day",i.day):wt("month",i.month):wt("year",i.year)}function ol(i){var l=i.hour,o=i.minute,r=i.second,s=i.millisecond,d=mt(l,0,23)||l===24&&o===0&&r===0&&s===0,v=mt(o,0,59),y=mt(r,0,59),b=mt(s,0,999);return d?v?y?b?!1:wt("millisecond",s):wt("second",r):wt("minute",o):wt("hour",l)}var Ia="Invalid DateTime",sl=864e13;function Ei(i){return new Ze("unsupported zone",'the zone "'+i.name+'" is not supported')}function Aa(i){return i.weekData===null&&(i.weekData=Na(i.c)),i.weekData}function Zr(i,l){var o={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new Re(u({},o,l,{old:o}))}function ll(i,l,o){var r=i-l*60*1e3,s=o.offset(r);if(l===s)return[r,l];r-=(s-l)*60*1e3;var d=o.offset(r);return s===d?[r,s]:[i-Math.min(s,d)*60*1e3,Math.max(s,d)]}function ul(i,l){i+=l*60*1e3;var o=new Date(i);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function xi(i,l,o){return ll(Xt(i),l,o)}function cl(i,l){var o=i.o,r=i.c.year+Math.trunc(l.years),s=i.c.month+Math.trunc(l.months)+Math.trunc(l.quarters)*3,d=u({},i.c,{year:r,month:s,day:Math.min(i.c.day,Mt(r,s))+Math.trunc(l.days)+Math.trunc(l.weeks)*7}),v=Je.fromObject({years:l.years-Math.trunc(l.years),quarters:l.quarters-Math.trunc(l.quarters),months:l.months-Math.trunc(l.months),weeks:l.weeks-Math.trunc(l.weeks),days:l.days-Math.trunc(l.days),hours:l.hours,minutes:l.minutes,seconds:l.seconds,milliseconds:l.milliseconds}).as("milliseconds"),y=Xt(d),b=ll(y,o,i.zone),O=b[0],L=b[1];return v!==0&&(O+=v,L=i.zone.offset(O)),{ts:O,o:L}}function jr(i,l,o,r,s,d){var v=o.setZone,y=o.zone;if(i&&Object.keys(i).length!==0){var b=l||y,O=Re.fromObject(i,u({},o,{zone:b,specificOffset:d}));return v?O:O.setZone(y)}else return Re.invalid(new Ze("unparsable",'the input "'+s+`" can't be parsed as `+r))}function sr(i,l,o){return o===void 0&&(o=!0),i.isValid?vt.create(Ue.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(i,l):null}function fl(i,l){var o=l.suppressSeconds,r=o===void 0?!1:o,s=l.suppressMilliseconds,d=s===void 0?!1:s,v=l.includeOffset,y=l.includePrefix,b=y===void 0?!1:y,O=l.includeZone,L=O===void 0?!1:O,N=l.spaceZone,C=N===void 0?!1:N,q=l.format,ae=q===void 0?"extended":q,ce=ae==="basic"?"HHmm":"HH:mm";(!r||i.second!==0||i.millisecond!==0)&&(ce+=ae==="basic"?"ss":":ss",(!d||i.millisecond!==0)&&(ce+=".SSS")),(L||v)&&C&&(ce+=" "),L?ce+="z":v&&(ce+=ae==="basic"?"ZZZ":"ZZ");var fe=sr(i,ce);return b&&(fe="T"+fe),fe}var dl={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Dh={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Eh={ordinal:1,hour:0,minute:0,second:0,millisecond:0},hl=["year","month","day","hour","minute","second","millisecond"],xh=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Nh=["year","ordinal","hour","minute","second","millisecond"];function ml(i){var l={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!l)throw new se(i);return l}function gl(i,l){var o=ze(l.zone,xe.defaultZone),r=Ue.fromObject(l),s=xe.now(),d,v;if(W(i.year))d=s;else{for(var y=j(hl),b;!(b=y()).done;){var O=b.value;W(i[O])&&(i[O]=dl[O])}var L=al(i)||ol(i);if(L)return Re.invalid(L);var N=o.offset(s),C=xi(i,N,o);d=C[0],v=C[1]}return new Re({ts:d,zone:o,loc:r,o:v})}function vl(i,l,o){var r=W(o.round)?!0:o.round,s=function(N,C){N=Nn(N,r||o.calendary?0:2,!0);var q=l.loc.clone(o).relFormatter(o);return q.format(N,C)},d=function(N){return o.calendary?l.hasSame(i,N)?0:l.startOf(N).diff(i.startOf(N),N).get(N):l.diff(i,N).get(N)};if(o.unit)return s(d(o.unit),o.unit);for(var v=j(o.units),y;!(y=v()).done;){var b=y.value,O=d(b);if(Math.abs(O)>=1)return s(O,b)}return s(i>l?-0:0,o.units[o.units.length-1])}function _l(i){var l={},o;return i.length>0&&typeof i[i.length-1]=="object"?(l=i[i.length-1],o=Array.from(i).slice(0,i.length-1)):o=Array.from(i),[l,o]}var Re=function(){function i(o){var r=o.zone||xe.defaultZone,s=o.invalid||(Number.isNaN(o.ts)?new Ze("invalid input"):null)||(r.isValid?null:Ei(r));this.ts=W(o.ts)?xe.now():o.ts;var d=null,v=null;if(!s){var y=o.old&&o.old.ts===this.ts&&o.old.zone.equals(r);if(y){var b=[o.old.c,o.old.o];d=b[0],v=b[1]}else{var O=r.offset(this.ts);d=ul(this.ts,O),s=Number.isNaN(d.year)?new Ze("invalid input"):null,d=s?null:d,v=s?null:O}}this._zone=r,this.loc=o.loc||Ue.create(),this.invalid=s,this.weekData=null,this.c=d,this.o=v,this.isLuxonDateTime=!0}i.now=function(){return new i({})},i.local=function(){var r=_l(arguments),s=r[0],d=r[1],v=d[0],y=d[1],b=d[2],O=d[3],L=d[4],N=d[5],C=d[6];return gl({year:v,month:y,day:b,hour:O,minute:L,second:N,millisecond:C},s)},i.utc=function(){var r=_l(arguments),s=r[0],d=r[1],v=d[0],y=d[1],b=d[2],O=d[3],L=d[4],N=d[5],C=d[6];return s.zone=Ke.utcInstance,gl({year:v,month:y,day:b,hour:O,minute:L,second:N,millisecond:C},s)},i.fromJSDate=function(r,s){s===void 0&&(s={});var d=ht(r)?r.valueOf():NaN;if(Number.isNaN(d))return i.invalid("invalid input");var v=ze(s.zone,xe.defaultZone);return v.isValid?new i({ts:d,zone:v,loc:Ue.fromObject(s)}):i.invalid(Ei(v))},i.fromMillis=function(r,s){if(s===void 0&&(s={}),le(r))return r<-sl||r>sl?i.invalid("Timestamp out of range"):new i({ts:r,zone:ze(s.zone,xe.defaultZone),loc:Ue.fromObject(s)});throw new F("fromMillis requires a numerical input, but received a "+typeof r+" with value "+r)},i.fromSeconds=function(r,s){if(s===void 0&&(s={}),le(r))return new i({ts:r*1e3,zone:ze(s.zone,xe.defaultZone),loc:Ue.fromObject(s)});throw new F("fromSeconds requires a numerical input")},i.fromObject=function(r,s){s===void 0&&(s={}),r=r||{};var d=ze(s.zone,xe.defaultZone);if(!d.isValid)return i.invalid(Ei(d));var v=xe.now(),y=W(s.specificOffset)?d.offset(v):s.specificOffset,b=In(r,ml),O=!W(b.ordinal),L=!W(b.year),N=!W(b.month)||!W(b.day),C=L||N,q=b.weekYear||b.weekNumber,ae=Ue.fromObject(s);if((C||O)&&q)throw new ue("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(N&&O)throw new ue("Can't mix ordinal dates with month/day");var ce=q||b.weekday&&!C,fe,ie,Ge=ul(v,y);ce?(fe=xh,ie=Dh,Ge=Na(Ge)):O?(fe=Nh,ie=Eh,Ge=Ca(Ge)):(fe=hl,ie=dl);for(var Ni=!1,Fa=j(fe),yl;!(yl=Fa()).done;){var Br=yl.value,Ih=b[Br];W(Ih)?Ni?b[Br]=ie[Br]:b[Br]=Ge[Br]:Ni=!0}var Ah=ce?Oh(b):O?Mh(b):al(b),pl=Ah||ol(b);if(pl)return i.invalid(pl);var Fh=ce?rl(b):O?il(b):b,bl=xi(Fh,y,d),Lh=bl[0],Ph=bl[1],La=new i({ts:Lh,zone:d,o:Ph,loc:ae});return b.weekday&&C&&r.weekday!==La.weekday?i.invalid("mismatched weekday","you can't specify both a weekday of "+b.weekday+" and a date of "+La.toISO()):La},i.fromISO=function(r,s){s===void 0&&(s={});var d=Zd(r),v=d[0],y=d[1];return jr(v,y,s,"ISO 8601",r)},i.fromRFC2822=function(r,s){s===void 0&&(s={});var d=jd(r),v=d[0],y=d[1];return jr(v,y,s,"RFC 2822",r)},i.fromHTTP=function(r,s){s===void 0&&(s={});var d=Yd(r),v=d[0],y=d[1];return jr(v,y,s,"HTTP",s)},i.fromFormat=function(r,s,d){if(d===void 0&&(d={}),W(r)||W(s))throw new F("fromFormat requires an input string and a format");var v=d,y=v.locale,b=y===void 0?null:y,O=v.numberingSystem,L=O===void 0?null:O,N=Ue.fromOpts({locale:b,numberingSystem:L,defaultToEN:!0}),C=Th(N,r,s),q=C[0],ae=C[1],ce=C[2],fe=C[3];return fe?i.invalid(fe):jr(q,ae,d,"format "+s,r,ce)},i.fromString=function(r,s,d){return d===void 0&&(d={}),i.fromFormat(r,s,d)},i.fromSQL=function(r,s){s===void 0&&(s={});var d=$d(r),v=d[0],y=d[1];return jr(v,y,s,"SQL",r)},i.invalid=function(r,s){if(s===void 0&&(s=null),!r)throw new F("need to specify a reason the DateTime is invalid");var d=r instanceof Ze?r:new Ze(r,s);if(xe.throwOnInvalid)throw new H(d);return new i({invalid:d})},i.isDateTime=function(r){return r&&r.isLuxonDateTime||!1};var l=i.prototype;return l.get=function(r){return this[r]},l.resolvedLocaleOptions=function(r){r===void 0&&(r={});var s=vt.create(this.loc.clone(r),r).resolvedOptions(this),d=s.locale,v=s.numberingSystem,y=s.calendar;return{locale:d,numberingSystem:v,outputCalendar:y}},l.toUTC=function(r,s){return r===void 0&&(r=0),s===void 0&&(s={}),this.setZone(Ke.instance(r),s)},l.toLocal=function(){return this.setZone(xe.defaultZone)},l.setZone=function(r,s){var d=s===void 0?{}:s,v=d.keepLocalTime,y=v===void 0?!1:v,b=d.keepCalendarTime,O=b===void 0?!1:b;if(r=ze(r,xe.defaultZone),r.equals(this.zone))return this;if(r.isValid){var L=this.ts;if(y||O){var N=r.offset(this.ts),C=this.toObject(),q=xi(C,N,r);L=q[0]}return Zr(this,{ts:L,zone:r})}else return i.invalid(Ei(r))},l.reconfigure=function(r){var s=r===void 0?{}:r,d=s.locale,v=s.numberingSystem,y=s.outputCalendar,b=this.loc.clone({locale:d,numberingSystem:v,outputCalendar:y});return Zr(this,{loc:b})},l.setLocale=function(r){return this.reconfigure({locale:r})},l.set=function(r){if(!this.isValid)return this;var s=In(r,ml),d=!W(s.weekYear)||!W(s.weekNumber)||!W(s.weekday),v=!W(s.ordinal),y=!W(s.year),b=!W(s.month)||!W(s.day),O=y||b,L=s.weekYear||s.weekNumber;if((O||v)&&L)throw new ue("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&v)throw new ue("Can't mix ordinal dates with month/day");var N;d?N=rl(u({},Na(this.c),s)):W(s.ordinal)?(N=u({},this.toObject(),s),W(s.day)&&(N.day=Math.min(Mt(N.year,N.month),N.day))):N=il(u({},Ca(this.c),s));var C=xi(N,this.o,this.zone),q=C[0],ae=C[1];return Zr(this,{ts:q,o:ae})},l.plus=function(r){if(!this.isValid)return this;var s=Je.fromDurationLike(r);return Zr(this,cl(this,s))},l.minus=function(r){if(!this.isValid)return this;var s=Je.fromDurationLike(r).negate();return Zr(this,cl(this,s))},l.startOf=function(r){if(!this.isValid)return this;var s={},d=Je.normalizeUnit(r);switch(d){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(d==="weeks"&&(s.weekday=1),d==="quarters"){var v=Math.ceil(this.month/3);s.month=(v-1)*3+1}return this.set(s)},l.endOf=function(r){var s;return this.isValid?this.plus((s={},s[r]=1,s)).startOf(r).minus(1):this},l.toFormat=function(r,s){return s===void 0&&(s={}),this.isValid?vt.create(this.loc.redefaultToEN(s)).formatDateTimeFromString(this,r):Ia},l.toLocaleString=function(r,s){return r===void 0&&(r=B),s===void 0&&(s={}),this.isValid?vt.create(this.loc.clone(s),r).formatDateTime(this):Ia},l.toLocaleParts=function(r){return r===void 0&&(r={}),this.isValid?vt.create(this.loc.clone(r),r).formatDateTimeParts(this):[]},l.toISO=function(r){return r===void 0&&(r={}),this.isValid?this.toISODate(r)+"T"+this.toISOTime(r):null},l.toISODate=function(r){var s=r===void 0?{}:r,d=s.format,v=d===void 0?"extended":d,y=v==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(y="+"+y),sr(this,y)},l.toISOWeekDate=function(){return sr(this,"kkkk-'W'WW-c")},l.toISOTime=function(r){var s=r===void 0?{}:r,d=s.suppressMilliseconds,v=d===void 0?!1:d,y=s.suppressSeconds,b=y===void 0?!1:y,O=s.includeOffset,L=O===void 0?!0:O,N=s.includePrefix,C=N===void 0?!1:N,q=s.format,ae=q===void 0?"extended":q;return fl(this,{suppressSeconds:b,suppressMilliseconds:v,includeOffset:L,includePrefix:C,format:ae})},l.toRFC2822=function(){return sr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},l.toHTTP=function(){return sr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},l.toSQLDate=function(){return sr(this,"yyyy-MM-dd")},l.toSQLTime=function(r){var s=r===void 0?{}:r,d=s.includeOffset,v=d===void 0?!0:d,y=s.includeZone,b=y===void 0?!1:y;return fl(this,{includeOffset:v,includeZone:b,spaceZone:!0})},l.toSQL=function(r){return r===void 0&&(r={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(r):null},l.toString=function(){return this.isValid?this.toISO():Ia},l.valueOf=function(){return this.toMillis()},l.toMillis=function(){return this.isValid?this.ts:NaN},l.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},l.toJSON=function(){return this.toISO()},l.toBSON=function(){return this.toJSDate()},l.toObject=function(r){if(r===void 0&&(r={}),!this.isValid)return{};var s=u({},this.c);return r.includeConfig&&(s.outputCalendar=this.outputCalendar,s.numberingSystem=this.loc.numberingSystem,s.locale=this.loc.locale),s},l.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},l.diff=function(r,s,d){if(s===void 0&&(s="milliseconds"),d===void 0&&(d={}),!this.isValid||!r.isValid)return Je.invalid("created by diffing an invalid DateTime");var v=u({locale:this.locale,numberingSystem:this.numberingSystem},d),y=vi(s).map(Je.normalizeUnit),b=r.valueOf()>this.valueOf(),O=b?this:r,L=b?r:this,N=lh(O,L,y,v);return b?N.negate():N},l.diffNow=function(r,s){return r===void 0&&(r="milliseconds"),s===void 0&&(s={}),this.diff(i.now(),r,s)},l.until=function(r){return this.isValid?Hr.fromDateTimes(this,r):this},l.hasSame=function(r,s){if(!this.isValid)return!1;var d=r.valueOf(),v=this.setZone(r.zone,{keepLocalTime:!0});return v.startOf(s)<=d&&d<=v.endOf(s)},l.equals=function(r){return this.isValid&&r.isValid&&this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this.loc.equals(r.loc)},l.toRelative=function(r){if(r===void 0&&(r={}),!this.isValid)return null;var s=r.base||i.fromObject({},{zone:this.zone}),d=r.padding?this<s?-r.padding:r.padding:0,v=["years","months","days","hours","minutes","seconds"],y=r.unit;return Array.isArray(r.unit)&&(v=r.unit,y=void 0),vl(s,this.plus(d),u({},r,{numeric:"always",units:v,unit:y}))},l.toRelativeCalendar=function(r){return r===void 0&&(r={}),this.isValid?vl(r.base||i.fromObject({},{zone:this.zone}),this,u({},r,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},i.min=function(){for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];if(!s.every(i.isDateTime))throw new F("min requires all arguments be DateTimes");return Nr(s,function(v){return v.valueOf()},Math.min)},i.max=function(){for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];if(!s.every(i.isDateTime))throw new F("max requires all arguments be DateTimes");return Nr(s,function(v){return v.valueOf()},Math.max)},i.fromFormatExplain=function(r,s,d){d===void 0&&(d={});var v=d,y=v.locale,b=y===void 0?null:y,O=v.numberingSystem,L=O===void 0?null:O,N=Ue.fromOpts({locale:b,numberingSystem:L,defaultToEN:!0});return Xs(N,r,s)},i.fromStringExplain=function(r,s,d){return d===void 0&&(d={}),i.fromFormatExplain(r,s,d)},a(i,[{key:"isValid",get:function(){return this.invalid===null}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Aa(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Aa(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Aa(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?Ca(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Wr.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Wr.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Wr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Wr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",get:function(){return Cn(this.year)}},{key:"daysInMonth",get:function(){return Mt(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?P(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?gt(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return B}},{key:"DATE_MED",get:function(){return me}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return De}},{key:"DATE_FULL",get:function(){return Oe}},{key:"DATE_HUGE",get:function(){return Ye}},{key:"TIME_SIMPLE",get:function(){return Be}},{key:"TIME_WITH_SECONDS",get:function(){return et}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Se}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return Ce}},{key:"TIME_24_SIMPLE",get:function(){return Ht}},{key:"TIME_24_WITH_SECONDS",get:function(){return Me}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return Ie}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return Ne}},{key:"DATETIME_SHORT",get:function(){return dt}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Tt}},{key:"DATETIME_MED",get:function(){return tt}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return we}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return dn}},{key:"DATETIME_FULL",get:function(){return R}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return K}},{key:"DATETIME_HUGE",get:function(){return D}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return T}}]),i}();function Yr(i){if(Re.isDateTime(i))return i;if(i&&i.valueOf&&le(i.valueOf()))return Re.fromJSDate(i);if(i&&typeof i=="object")return Re.fromObject(i);throw new F("Unknown datetime argument: "+i+", of type "+typeof i)}var Ch="2.2.0";e.DateTime=Re,e.Duration=Je,e.FixedOffsetZone=Ke,e.IANAZone=Ct,e.Info=Wr,e.Interval=Hr,e.InvalidZone=yt,e.Settings=xe,e.SystemZone=wi,e.VERSION=Ch,e.Zone=_t});function Ba(t,e){const n=_r.DateTime.fromJSDate(t).toLocaleString(_r.DateTime.TIME_SIMPLE).replace(/\./g,"");try{const a=_r.DateTime.fromJSDate(t,{zone:e});return!a.isValid&&(a.invalidReason==="unsupported zone"||!e)?n:a.toLocaleString(_r.DateTime.TIME_SIMPLE).replace(/\./g,"")}catch(a){return n}}function qa(t,e=void 0){const n=_r.DateTime.fromJSDate(t,{zone:e});return!n.isValid&&(n.invalidReason==="unsupported zone"||!e)?"":n.offsetNameShort}const Wn=[];function Rl(t,e){return{subscribe:Bt(t,e).subscribe}}function Bt(t,e=de){let n;const a=new Set;function u(h){if(sn(t,h)&&(t=h,n)){const m=!Wn.length;for(const g of a)g[1](),Wn.push(g,t);if(m){for(let g=0;g<Wn.length;g+=2)Wn[g][0](Wn[g+1]);Wn.length=0}}}function c(h){u(h(t))}function f(h,m=de){const g=[h,m];return a.add(g),a.size===1&&(n=e(u)||de),h(t),()=>{a.delete(g),a.size===0&&(n(),n=null)}}return{set:u,update:c,subscribe:f}}function zl(t,e,n){const a=!Array.isArray(t),u=a?[t]:t,c=e.length<2;return Rl(n,f=>{let h=!1;const m=[];let g=0,p=de;const w=()=>{if(g)return;p();const E=e(a?m[0]:m,f);c?f(E):p=ur(E)?E:de},S=u.map((E,A)=>za(E,j=>{m[A]=j,g&=~(1<<A),h&&w()},()=>{g|=1<<A}));return h=!0,w(),function(){Lt(S),p()}})}function Vl(){return Bt({})}const Pi=Vl();var Hl=Object.defineProperty,Wl=Object.defineProperties,Zl=Object.getOwnPropertyDescriptors,Ja=Object.getOwnPropertySymbols,jl=Object.prototype.hasOwnProperty,Yl=Object.prototype.propertyIsEnumerable,Ga=(t,e,n)=>e in t?Hl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bl=(t,e)=>{for(var n in e||(e={}))jl.call(e,n)&&Ga(t,n,e[n]);if(Ja)for(var n of Ja(e))Yl.call(e,n)&&Ga(t,n,e[n]);return t},ql=(t,e)=>Wl(t,Zl(e));async function lt(t){if(!t.ok){const e=await t.json().then(a=>a),n=new Error(e.message);return n.name=e.name,Promise.reject({message:n,statusCode:t.status})}return t.json()}function ut(t={component_id:""}){return{method:t.method||"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Component-Id":t.component_id||"","X-Access-Token":t.access_token||""},body:t.body?JSON.stringify(t.body):void 0}}function ct(t,e){throw console.error(e),Pi.update(n=>ql(Bl({},n),{[t]:e})),e}const Qa={"001":"","002":"ireland-","003":"canada-"};function ft(t){let e="";if(t.substring(3,4)==="-"){const a=t.substring(0,3);typeof Qa[a]!="undefined"&&(e=Qa[a])}return`https://${e}web-components.nylas.com/middleware`}function Zn(t){}const Jl=async t=>t.calendarIDs.length?Promise.allSettled(t.calendarIDs.map(e=>fetch(`${ft(t.component_id||"")}/calendars/${e}`,ut({component_id:t.component_id,access_token:t.access_token})).then(n=>lt(n)).then(n=>n.response))).then(e=>e.filter(a=>a.status==="fulfilled").map(a=>a.value).flat()).catch(e=>ct(t.component_id||"unknown",e)):fetch(`${ft(t.component_id||"")}/calendars`,ut({component_id:t.component_id,access_token:t.access_token})).then(e=>lt(e)).then(e=>e.response),Gl=async(t,e,n)=>{const a=await fetch(`${ft(t.component_id)}/contact-list/contacts?limit=${n}&offset=${e}`,ut({component_id:t.component_id,access_token:t.access_token})).then(u=>lt(u)).then(u=>u.response).catch(u=>ct(t.component_id,u));return a!=null?a:[]},Ql=async t=>{const e=await fetch(`${ft(t.component_id)}/contacts${t.query}`,ut({component_id:t.component_id,access_token:t.access_token})).then(n=>lt(n)).then(n=>n.response).catch(n=>ct(t.component_id,n));return e!=null?e:[]},Xl=async(t,e)=>await fetch(`${ft(t.component_id)}/contacts/${e}/picture`,ut({component_id:t.component_id,access_token:t.access_token})).then(n=>lt(n)).then(n=>n.response).catch(n=>ct(t.component_id,n)),Xa=(t,e,n)=>{let a=`${ft(t.component_id)}/threads?view=expanded&not_in=trash&limit=${e}&offset=${n}`;return t.query&&Object.entries(t.query).forEach(u=>a=a.concat(`&${u[0]}=${u[1]}`)),fetch(a,ut(t)).then(u=>lt(u)).then(u=>u.response).catch(u=>ct(t.component_id,u))};function Ka(t){let e=`${ft(t.component_id)}/threads?view=expanded&not_in=trash&view=count`;return t.query&&Object.entries(t.query).forEach(n=>e=e.concat(`&${n[0]}=${n[1]}`)),t.keywordToSearch&&(e+=`&q=${t.keywordToSearch}`),fetch(e,ut(t)).then(n=>lt(n)).then(n=>n.response.count)}const Kl=t=>{const e=`${ft(t.component_id)}/threads/search?q=${t.keywordToSearch}&view=expanded`;return fetch(e,ut(t)).then(async n=>lt(n)).then(n=>n.response).catch(n=>ct(t.component_id,n))},$l=(t,e)=>fetch(`${ft(t.component_id)}/threads/${e.id}`,ut({method:"PUT",component_id:t.component_id,access_token:t.access_token,body:{unread:e.unread,starred:e.starred,folder_id:e.folder_id,label_ids:e.label_ids}})).then(n=>lt(n)).then(n=>n.response).catch(n=>ct(t.component_id,n)),eu=async(t,e)=>await fetch(`${ft(t)}/manifest`,ut({access_token:e,component_id:t})).then(lt).then(n=>n.component.theming).catch(n=>ct(t,n));var tu=Object.defineProperty,$a=Object.getOwnPropertySymbols,nu=Object.prototype.hasOwnProperty,ru=Object.prototype.propertyIsEnumerable,eo=(t,e,n)=>e in t?tu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,to=(t,e)=>{for(var n in e||(e={}))nu.call(e,n)&&eo(t,n,e[n]);if($a)for(var n of $a(e))ru.call(e,n)&&eo(t,n,e[n]);return t};const iu=async t=>fetch(`${ft(t.component_id)}/calendars/availability`,ut({method:"POST",component_id:t.component_id,access_token:t.access_token,body:t.body})).then(async e=>{const n=await lt(e);return n.response.time_slots=n.response.time_slots.map(a=>(a.start_time=a.start||0,a.end_time=a.end||0,delete a.start,delete a.end,a)),n.response}).catch(e=>ct(t.component_id,e)),au=async t=>fetch(`${ft(t.component_id)}/calendars/availability/consecutive`,ut({method:"POST",component_id:t.component_id,access_token:t.access_token,body:t.body})).then(async e=>{var n;let u=((n=(await lt(e)).response)==null?void 0:n.map(h=>(h=h.map(m=>(m.start_time=new Date(m.start_time*1e3),m.end_time=new Date(m.end_time*1e3),m)),h)))||[];const c=ou(u,t.body.events);return su(c)}).catch(e=>ct(t.component_id,e));function ou(t,e){return t.map(n=>n.map(a=>to(to({},a),e.find(u=>u.participantEmails.length===a.emails.length&&u.participantEmails.every(c=>a.emails.includes(c))))))}function su(t){const e=new Set;return t.filter(n=>{const a=`${n[0].start_time}_${n[n.length-1].end_time}`;return e.has(a)?!1:(e.add(a),!0)})}var lu=Object.defineProperty,no=Object.getOwnPropertySymbols,uu=Object.prototype.hasOwnProperty,cu=Object.prototype.propertyIsEnumerable,ro=(t,e,n)=>e in t?lu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fu=(t,e)=>{for(var n in e||(e={}))uu.call(e,n)&&ro(t,n,e[n]);if(no)for(var n of no(e))cu.call(e,n)&&ro(t,n,e[n]);return t};function du(){const t=(n,a)=>{var u,c;const f=JSON.parse(a),h=fu({},f);if(delete h.forceReload,a=JSON.stringify(h),!(!f.component_id||!((u=f==null?void 0:f.body)==null?void 0:u.start_time)||!((c=f==null?void 0:f.body)==null?void 0:c.end_time))){if(!n[a]||f.forceReload){const m=iu(f);e.update(g=>(g[a]=m,g)),n[a]=m}return n[a]}},e=Bt(new Proxy({},{get:t}));return e}const hu=du();var mu=Object.defineProperty,io=Object.getOwnPropertySymbols,gu=Object.prototype.hasOwnProperty,vu=Object.prototype.propertyIsEnumerable,ao=(t,e,n)=>e in t?mu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_u=(t,e)=>{for(var n in e||(e={}))gu.call(e,n)&&ao(t,n,e[n]);if(io)for(var n of io(e))vu.call(e,n)&&ao(t,n,e[n]);return t};function yu(){const t=(n,a)=>{var u,c;const f=JSON.parse(a),h=_u({},f);if(delete h.forceReload,a=JSON.stringify(h),!(!f.component_id||!((u=f==null?void 0:f.body)==null?void 0:u.start_time)||!((c=f==null?void 0:f.body)==null?void 0:c.end_time))){if(!n[a]||f.forceReload){const m=au(f);e.update(g=>(g[a]=m,g)),n[a]=m}return n[a]}},e=Bt(new Proxy({},{get:t}));return e}const pu=yu();var bu=Object.defineProperty,oo=Object.getOwnPropertySymbols,wu=Object.prototype.hasOwnProperty,ku=Object.prototype.propertyIsEnumerable,so=(t,e,n)=>e in t?bu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Su=(t,e)=>{for(var n in e||(e={}))wu.call(e,n)&&so(t,n,e[n]);if(oo)for(var n of oo(e))ku.call(e,n)&&so(t,n,e[n]);return t};function Tu(){const{subscribe:t,update:e,set:n}=Bt({});let a={};return{subscribe:t,getCalendars:async u=>{const c=JSON.stringify(u);return!a[c]&&(u.component_id||u.access_token)&&(a[c]=Jl(u),e(f=>(f[c]=a[c],Su({},f)))),await a[c]},reset:()=>{a={},n({})}}}const Ou=Tu();var Mu=Object.defineProperty,lo=Object.getOwnPropertySymbols,Du=Object.prototype.hasOwnProperty,Eu=Object.prototype.propertyIsEnumerable,uo=(t,e,n)=>e in t?Mu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,co=(t,e)=>{for(var n in e||(e={}))Du.call(e,n)&&uo(t,n,e[n]);if(lo)for(var n of lo(e))Eu.call(e,n)&&uo(t,n,e[n]);return t};let it={};function fo(t){return t.filter(e=>!!e.given_name||!!e.surname||Array.isArray(e.emails)&&e.emails.length>0).map(e=>((!Array.isArray(e.emails)||e.emails.length===0)&&(e.emails=[{email:""}]),e))}function xu(){const{subscribe:t,set:e,update:n}=Bt({});return{subscribe:t,addContacts:async(a,u,c)=>{var f;const h=JSON.stringify(a);if(!it[h]&&(a.component_id||a.access_token)){u===0&&ho.reset();const m=(f=await Gl(a,u,c).then(g=>fo(g)).catch(()=>[]))!=null?f:[];return it[h]=it[h]?[...it[h],...m]:m,n(g=>(g[h]=it[h],co({},g))),it[h]}},addContact:async a=>{var u;const c=JSON.stringify(a);if(!it[c]&&(a.component_id||a.access_token)){const f=(u=await Ql(a).then(h=>fo(h)).catch(()=>[]))!=null?u:[];it[c]=it[c]?[...it[c],...f]:f,n(h=>(h[c]=it[c],co({},h)))}return it[c]},reset:()=>{it={},e({})}}}const ho=xu(),Ui={};function Nu(){const{subscribe:t,set:e}=Bt({});return{subscribe:t,getContactAvatar:async(n,a,u=!1)=>{if(!Ui[a]||u){const c=await Xl(n,a).then(f=>f).catch(()=>"");c&&(Ui[a]=c)}return Ui[a]},reset:()=>e({})}}const Cu=Nu();var Iu=Object.defineProperty,mo=Object.getOwnPropertySymbols,Au=Object.prototype.hasOwnProperty,Fu=Object.prototype.propertyIsEnumerable,go=(t,e,n)=>e in t?Iu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yr=(t,e)=>{for(var n in e||(e={}))Au.call(e,n)&&go(t,n,e[n]);if(mo)for(var n of mo(e))Fu.call(e,n)&&go(t,n,e[n]);return t};async function vo(t){const e=[];for(let n=0;n<t;n++)e.push({isLoaded:!1,threads:[]});return e}function Lu(){const{subscribe:t,set:e,update:n}=Bt({});let a={},u;return{subscribe:t,set:e,getThreads:async(c,f,h,m=!1)=>{const g=JSON.stringify(c);if(!c.component_id&&!c.access_token)return[];if(u===void 0||m){const p=await Ka(c).catch(Zn);p&&(u=p)}if(!Array.isArray(a[g])||m){const p=Math.ceil(u/h);a[g]=await vo(p)}if(typeof a[g][f]=="undefined")return[];if(!a[g][f].isLoaded){const p=await Xa(c,h,f*h).catch(Zn);p&&(a[g][f].threads=p,a[g][f].isLoaded=!0)}return n(p=>(p[g]=a[g],yr({},p))),a[g][f].threads},getNumberOfItems:async c=>{if(!c.component_id&&!c.access_token)return 0;if(typeof u=="undefined"){const f=await Ka(c).catch(Zn);f&&(u=f)}return u},getThreadsWithSearchKeyword:async(c,f=!1)=>{if(!c.component_id&&!c.access_token)return[];const h=JSON.stringify(c);if((!Array.isArray(a[h])||f)&&(a[h]=await vo(1)),!a[h][0].isLoaded||f){const m=await Kl(c).catch(Zn);m&&(a[h][0].threads=m,a[h][0].isLoaded=!0)}return n(m=>(m[h]=a[h],yr({},m))),a[h][0].threads},updateThread:async(c,f,h,m,g)=>{const p=await $l(c,h).catch(Zn);if(!a[f][m].isLoaded){const w=await Xa(JSON.parse(f),g,m*g).catch(Zn);w&&(a[f][m].threads=w,a[f][m].isLoaded=!0)}return a[f][m].threads=a[f][m].threads.map(w=>(p&&w.id===p.id&&(w=Object.assign(w,p)),w)),n(w=>(w[f]=a[f],yr({},w))),a[f][m].threads},updateThreadSelection:(c,f,h)=>{const m=a[c][f].threads;if(h){const g=m.find(p=>p.id===h);g&&(g.selected=!g.selected)}else{const g=m.some(p=>p.selected);for(const p of m)p.selected=!g}return n(g=>(g[c]=a[c],yr({},g))),a[c][f].threads},reset:()=>{a={},e({})},hydrateMessageInThread:(c,f,h)=>{var m,g,p;const w=JSON.stringify(f),S=(g=(m=a[w][h])==null?void 0:m.threads)==null?void 0:g.find(E=>E.id===c.thread_id);if(S){const E=(p=S.messages)==null?void 0:p.find(A=>A.id===c.id);E&&(E.body=c.body,n(A=>{if(c.thread_id){let j=A[w][h].threads.find(z=>z.id===S.id);j&&(j=JSON.parse(JSON.stringify(S)))}return yr({},A)}))}return a[w][h].threads}}}const Pu=Lu();zl(Pu,t=>{const e={};return Object.entries(t).forEach(([n,a])=>e[n]=a.map(u=>u.threads).flat()),e});function Uu(){const t=(n,a)=>{const u=JSON.parse(a);if(!!u.component_id){if(!n[a]){const c=eu(u.component_id,u.access_token);e.update(f=>(f[a]=c,f)),n[a]=c}return n[a]}},e=Bt(new Proxy({},{get:t}));return e}const Ru=Uu();function zu(t){return(e,n)=>{t.dispatchEvent&&t.dispatchEvent(new CustomEvent(e,{detail:n,composed:!0}))}}function Ri(t,e,n){return new Proxy(t,{get:(a,u)=>u==="toString"||u==="toJSON"?()=>JSON.stringify(a):Reflect.get(a,u)!==void 0?_o(Reflect.get(a,u),n[u]):e&&u in e?_o(e[u],n[u]):n[u],ownKeys:a=>{const u=new Set([...Reflect.ownKeys(a),...Object.keys(e),...Object.keys(n)]);return Array.from(u)},getOwnPropertyDescriptor:(a,u)=>{var c,f;let h=Reflect.getOwnPropertyDescriptor(a,u);return h||(h=(f=(c=e&&Object.getOwnPropertyDescriptor(e,u))!=null?c:n&&Object.getOwnPropertyDescriptor(n,u))!=null?f:{configurable:!0,enumerable:!0,writable:!0},Reflect.defineProperty(a,u,h)),h}})}function _o(t,e){if(t){if(typeof e=="boolean")return Vu(t);if(typeof e=="number")return Number(t);if(e instanceof Date)return new Date(t)}return t===void 0?e!=null?e:null:t}function Vu(t){return[!0,"true","1"].includes(t)}function yo(t,e){return e.every(n=>t.includes(n))}function po(t){let e,n,a,u,c,f;function h(p,w){if(p[2]==="HostDomainNotAllowedError")return Wu;if(p[2]==="IncompatibleProperties")return Hu}let m=h(t),g=m&&m(t);return{c(){var p,w;e=J("div"),g&&g.c(),n=_e(),a=J("span"),a.textContent="Debug info:",u=_e(),c=J("textarea"),I(a,"class","details"),I(c,"class","details"),c.readOnly=!0,c.value=f=`
      `+t[2]+": "+t[0]+`
      `+((w=(p=t[1].message)==null?void 0:p.message)!=null?w:"")+`
    `,I(e,"class","message-container")},m(p,w){oe(p,e,w),g&&g.m(e,null),U(e,n),U(e,a),U(e,u),U(e,c)},p(p,w){var S,E;m===(m=h(p))&&g?g.p(p,w):(g&&g.d(1),g=m&&m(p),g&&(g.c(),g.m(e,n))),w&7&&f!==(f=`
      `+p[2]+": "+p[0]+`
      `+((E=(S=p[1].message)==null?void 0:S.message)!=null?E:"")+`
    `)&&(c.value=f)},d(p){p&&$(e),g&&g.d()}}}function Hu(t){let e;return{c(){e=J("h3"),e.textContent="Your component properties do not work with each other."},m(n,a){oe(n,e,a)},p:de,d(n){n&&$(e)}}}function Wu(t){let e,n,a,u,c,f;return{c(){e=J("h3"),n=be(`You are trying to access this component from\xA0
        `),a=J("code"),a.textContent=`${window.location.hostname}`,u=be(`. The component's settings do not
        allow access from this domain.`),c=_e(),f=J("h4"),f.innerHTML=`The list of allowed domains can be modified in your\xA0
        <a href="https://dashboard.nylas.com">Dashboard</a>.`},m(h,m){oe(h,e,m),U(e,n),U(e,a),U(e,u),oe(h,c,m),oe(h,f,m)},p:de,d(h){h&&$(e),h&&$(c),h&&$(f)}}}function Zu(t){let e,n=t[2]&&t[3]&&po(t);return{c(){n&&n.c(),e=Ii(),this.c=de},m(a,u){n&&n.m(a,u),oe(a,e,u)},p(a,[u]){a[2]&&a[3]?n?n.p(a,u):(n=po(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:de,o:de,d(a){n&&n.d(a),a&&$(e)}}}function ju(t,e,n){let a;Vn(t,Pi,S=>n(8,a=S));var u,c,f,h;let{id:m}=e,g,p;const w=window.location.href.includes("localhost")||window.location.href.includes("127.0.0.1");return t.$$set=S=>{"id"in S&&n(0,m=S.id)},t.$$.update=()=>{t.$$.dirty&499&&(n(1,g=n(4,u=a[m])!==null&&u!==void 0?u:{name:""}),n(2,p=n(7,h=n(5,c=g.name)!==null&&c!==void 0?c:n(6,f=g.message)===null||f===void 0?void 0:f.name)!==null&&h!==void 0?h:""))},[m,g,p,w,u,c,f,h,a]}class Yu extends vr{constructor(e){super();this.shadowRoot.innerHTML=`<style>.message-container{background:#fff6f6;border-radius:5px;box-shadow:0 0 0 1px #aa92a0 inset, 0 0 0 0 transparent;color:#9f3a38;font-size:1.25rem;padding:10px;margin:0 auto;transition:opacity 500ms ease, color 500ms ease,
      background-color 500ms ease, box-shadow 500ms ease,
      -webkit-box-shadow 500ms ease}.message-container *:focus{outline:5px auto Highlight;outline:5px auto -webkit-focus-ring-color}.details{color:#494949;font-size:0.75rem;width:100%}</style>`,un(this,{target:this.shadowRoot,props:Kr(this.attributes),customElement:!0},ju,Zu,wl,{id:0},null),e&&(e.target&&oe(e.target,this,e.anchor),e.props&&(this.$set(e.props),te()))}static get observedAttributes(){return["id"]}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),te()}}customElements.define("nylas-error",Yu);var zi=new Date,Vi=new Date;function $e(t,e,n,a){function u(c){return t(c=arguments.length===0?new Date:new Date(+c)),c}return u.floor=function(c){return t(c=new Date(+c)),c},u.ceil=function(c){return t(c=new Date(c-1)),e(c,1),t(c),c},u.round=function(c){var f=u(c),h=u.ceil(c);return c-f<h-c?f:h},u.offset=function(c,f){return e(c=new Date(+c),f==null?1:Math.floor(f)),c},u.range=function(c,f,h){var m=[],g;if(c=u.ceil(c),h=h==null?1:Math.floor(h),!(c<f)||!(h>0))return m;do m.push(g=new Date(+c)),e(c,h),t(c);while(g<c&&c<f);return m},u.filter=function(c){return $e(function(f){if(f>=f)for(;t(f),!c(f);)f.setTime(f-1)},function(f,h){if(f>=f)if(h<0)for(;++h<=0;)for(;e(f,-1),!c(f););else for(;--h>=0;)for(;e(f,1),!c(f););})},n&&(u.count=function(c,f){return zi.setTime(+c),Vi.setTime(+f),t(zi),t(Vi),Math.floor(n(zi,Vi))},u.every=function(c){return c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?u.filter(a?function(f){return a(f)%c==0}:function(f){return u.count(0,f)%c==0}):u}),u}var Hi=$e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Hi.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Hi};const qt=1e3,Rt=qt*60,Mn=Rt*60,Dn=Mn*24,Wi=Dn*7,bo=Dn*30,Zi=Dn*365;var pr=$e(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*qt)},function(t,e){return(e-t)/qt},function(t){return t.getUTCSeconds()}),Jt=$e(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*qt)},function(t,e){t.setTime(+t+e*Rt)},function(t,e){return(e-t)/Rt},function(t){return t.getMinutes()}),Gt=$e(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*qt-t.getMinutes()*Rt)},function(t,e){t.setTime(+t+e*Mn)},function(t,e){return(e-t)/Mn},function(t){return t.getHours()}),je=$e(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Rt)/Dn,t=>t.getDate()-1);function En(t){return $e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Rt)/Wi})}var jn=En(0),ji=En(1);En(2),En(3);var br=En(4);En(5),En(6);var wo=$e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),cn=$e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});cn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:$e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var ko=$e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Dn},function(t){return t.getUTCDate()-1});function xn(t){return $e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/Wi})}var Bu=xn(0),Yi=xn(1);xn(2),xn(3);var wr=xn(4);xn(5),xn(6);var Yn=$e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Yn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:$e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};function Bi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qi(t){let e=t,n=t,a=t;t.length!==2&&(e=(h,m)=>t(h)-m,n=Bi,a=(h,m)=>Bi(t(h),m));function u(h,m,g=0,p=h.length){if(g<p){if(n(m,m)!==0)return p;do{const w=g+p>>>1;a(h[w],m)<0?g=w+1:p=w}while(g<p)}return g}function c(h,m,g=0,p=h.length){if(g<p){if(n(m,m)!==0)return p;do{const w=g+p>>>1;a(h[w],m)<=0?g=w+1:p=w}while(g<p)}return g}function f(h,m,g=0,p=h.length){const w=u(h,m,g,p-1);return w>g&&e(h[w-1],m)>-e(h[w],m)?w-1:w}return{left:u,center:f,right:c}}function qu(t){return t===null?NaN:+t}const Ju=qi(Bi).right;qi(qu).center;var Ji=Math.sqrt(50),Gi=Math.sqrt(10),Qi=Math.sqrt(2);function Gu(t,e,n){var a,u=-1,c,f,h;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((a=e<t)&&(c=t,t=e,e=c),(h=So(t,e,n))===0||!isFinite(h))return[];if(h>0){let m=Math.round(t/h),g=Math.round(e/h);for(m*h<t&&++m,g*h>e&&--g,f=new Array(c=g-m+1);++u<c;)f[u]=(m+u)*h}else{h=-h;let m=Math.round(t*h),g=Math.round(e*h);for(m/h<t&&++m,g/h>e&&--g,f=new Array(c=g-m+1);++u<c;)f[u]=(m+u)/h}return a&&f.reverse(),f}function So(t,e,n){var a=(e-t)/Math.max(0,n),u=Math.floor(Math.log(a)/Math.LN10),c=a/Math.pow(10,u);return u>=0?(c>=Ji?10:c>=Gi?5:c>=Qi?2:1)*Math.pow(10,u):-Math.pow(10,-u)/(c>=Ji?10:c>=Gi?5:c>=Qi?2:1)}function Xi(t,e,n){var a=Math.abs(e-t)/Math.max(0,n),u=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),c=a/u;return c>=Ji?u*=10:c>=Gi?u*=5:c>=Qi&&(u*=2),e<t?-u:u}function Qu(t,e,n,a,u,c){const f=[[pr,1,qt],[pr,5,5*qt],[pr,15,15*qt],[pr,30,30*qt],[c,1,Rt],[c,5,5*Rt],[c,15,15*Rt],[c,30,30*Rt],[u,1,Mn],[u,3,3*Mn],[u,6,6*Mn],[u,12,12*Mn],[a,1,Dn],[a,2,2*Dn],[n,1,Wi],[e,1,bo],[e,3,3*bo],[t,1,Zi]];function h(g,p,w){const S=p<g;S&&([g,p]=[p,g]);const E=w&&typeof w.range=="function"?w:m(g,p,w),A=E?E.range(g,+p+1):[];return S?A.reverse():A}function m(g,p,w){const S=Math.abs(p-g)/w,E=qi(([,,z])=>z).right(f,S);if(E===f.length)return t.every(Xi(g/Zi,p/Zi,w));if(E===0)return Hi.every(Math.max(Xi(g,p,w),1));const[A,j]=f[S/f[E-1][2]<f[E][2]/S?E-1:E];return A.every(j)}return[h,m]}const[Xu,Ku]=Qu(cn,wo,jn,je,Gt,Jt);function To(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ki(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Oo(t,e){var n=Object.create(t.prototype);for(var a in e)n[a]=e[a];return n}function kr(){}var Sr=.7,li=1/Sr,Bn="\\s*([+-]?\\d+)\\s*",Tr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$u=/^#([0-9a-f]{3,8})$/,ec=new RegExp("^rgb\\("+[Bn,Bn,Bn]+"\\)$"),tc=new RegExp("^rgb\\("+[zt,zt,zt]+"\\)$"),nc=new RegExp("^rgba\\("+[Bn,Bn,Bn,Tr]+"\\)$"),rc=new RegExp("^rgba\\("+[zt,zt,zt,Tr]+"\\)$"),ic=new RegExp("^hsl\\("+[Tr,zt,zt]+"\\)$"),ac=new RegExp("^hsla\\("+[Tr,zt,zt,Tr]+"\\)$"),Mo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ki(kr,Or,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Do,formatHex:Do,formatHsl:oc,formatRgb:Eo,toString:Eo});function Do(){return this.rgb().formatHex()}function oc(){return Ao(this).formatHsl()}function Eo(){return this.rgb().formatRgb()}function Or(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$u.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xo(e):n===3?new at(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ui(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ui(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ec.exec(t))?new at(e[1],e[2],e[3],1):(e=tc.exec(t))?new at(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nc.exec(t))?ui(e[1],e[2],e[3],e[4]):(e=rc.exec(t))?ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ic.exec(t))?Io(e[1],e[2]/100,e[3]/100,1):(e=ac.exec(t))?Io(e[1],e[2]/100,e[3]/100,e[4]):Mo.hasOwnProperty(t)?xo(Mo[t]):t==="transparent"?new at(NaN,NaN,NaN,0):null}function xo(t){return new at(t>>16&255,t>>8&255,t&255,1)}function ui(t,e,n,a){return a<=0&&(t=e=n=NaN),new at(t,e,n,a)}function sc(t){return t instanceof kr||(t=Or(t)),t?(t=t.rgb(),new at(t.r,t.g,t.b,t.opacity)):new at}function $i(t,e,n,a){return arguments.length===1?sc(t):new at(t,e,n,a==null?1:a)}function at(t,e,n,a){this.r=+t,this.g=+e,this.b=+n,this.opacity=+a}Ki(at,$i,Oo(kr,{brighter:function(t){return t=t==null?li:Math.pow(li,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Sr:Math.pow(Sr,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:No,formatHex:No,formatRgb:Co,toString:Co}));function No(){return"#"+ea(this.r)+ea(this.g)+ea(this.b)}function Co(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function ea(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Io(t,e,n,a){return a<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vt(t,e,n,a)}function Ao(t){if(t instanceof Vt)return new Vt(t.h,t.s,t.l,t.opacity);if(t instanceof kr||(t=Or(t)),!t)return new Vt;if(t instanceof Vt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,a=t.b/255,u=Math.min(e,n,a),c=Math.max(e,n,a),f=NaN,h=c-u,m=(c+u)/2;return h?(e===c?f=(n-a)/h+(n<a)*6:n===c?f=(a-e)/h+2:f=(e-n)/h+4,h/=m<.5?c+u:2-c-u,f*=60):h=m>0&&m<1?0:f,new Vt(f,h,m,t.opacity)}function lc(t,e,n,a){return arguments.length===1?Ao(t):new Vt(t,e,n,a==null?1:a)}function Vt(t,e,n,a){this.h=+t,this.s=+e,this.l=+n,this.opacity=+a}Ki(Vt,lc,Oo(kr,{brighter:function(t){return t=t==null?li:Math.pow(li,t),new Vt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Sr:Math.pow(Sr,t),new Vt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,u=2*n-a;return new at(ta(t>=240?t-240:t+120,u,a),ta(t,u,a),ta(t<120?t+240:t-120,u,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function ta(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var na=t=>()=>t;function uc(t,e){return function(n){return t+n*e}}function cc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(a){return Math.pow(t+a*e,n)}}function fc(t){return(t=+t)==1?Fo:function(e,n){return n-e?cc(e,n,t):na(isNaN(e)?n:e)}}function Fo(t,e){var n=e-t;return n?uc(t,n):na(isNaN(t)?e:t)}var Lo=function t(e){var n=fc(e);function a(u,c){var f=n((u=$i(u)).r,(c=$i(c)).r),h=n(u.g,c.g),m=n(u.b,c.b),g=Fo(u.opacity,c.opacity);return function(p){return u.r=f(p),u.g=h(p),u.b=m(p),u.opacity=g(p),u+""}}return a.gamma=t,a}(1);function dc(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,a=e.slice(),u;return function(c){for(u=0;u<n;++u)a[u]=t[u]*(1-c)+e[u]*c;return a}}function hc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mc(t,e){var n=e?e.length:0,a=t?Math.min(n,t.length):0,u=new Array(a),c=new Array(n),f;for(f=0;f<a;++f)u[f]=aa(t[f],e[f]);for(;f<n;++f)c[f]=e[f];return function(h){for(f=0;f<a;++f)c[f]=u[f](h);return c}}function gc(t,e){var n=new Date;return t=+t,e=+e,function(a){return n.setTime(t*(1-a)+e*a),n}}function ci(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vc(t,e){var n={},a={},u;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(u in e)u in t?n[u]=aa(t[u],e[u]):a[u]=e[u];return function(c){for(u in n)a[u]=n[u](c);return a}}var ra=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ia=new RegExp(ra.source,"g");function _c(t){return function(){return t}}function yc(t){return function(e){return t(e)+""}}function pc(t,e){var n=ra.lastIndex=ia.lastIndex=0,a,u,c,f=-1,h=[],m=[];for(t=t+"",e=e+"";(a=ra.exec(t))&&(u=ia.exec(e));)(c=u.index)>n&&(c=e.slice(n,c),h[f]?h[f]+=c:h[++f]=c),(a=a[0])===(u=u[0])?h[f]?h[f]+=u:h[++f]=u:(h[++f]=null,m.push({i:f,x:ci(a,u)})),n=ia.lastIndex;return n<e.length&&(c=e.slice(n),h[f]?h[f]+=c:h[++f]=c),h.length<2?m[0]?yc(m[0].x):_c(e):(e=m.length,function(g){for(var p=0,w;p<e;++p)h[(w=m[p]).i]=w.x(g);return h.join("")})}function aa(t,e){var n=typeof e,a;return e==null||n==="boolean"?na(e):(n==="number"?ci:n==="string"?(a=Or(e))?(e=a,Lo):pc:e instanceof Or?Lo:e instanceof Date?gc:hc(e)?dc:Array.isArray(e)?mc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vc:ci)(t,e)}function bc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function wc(t){return function(){return t}}function kc(t){return+t}var Po=[0,1];function qn(t){return t}function oa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wc(isNaN(e)?NaN:.5)}function Sc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(a){return Math.max(t,Math.min(e,a))}}function Tc(t,e,n){var a=t[0],u=t[1],c=e[0],f=e[1];return u<a?(a=oa(u,a),c=n(f,c)):(a=oa(a,u),c=n(c,f)),function(h){return c(a(h))}}function Oc(t,e,n){var a=Math.min(t.length,e.length)-1,u=new Array(a),c=new Array(a),f=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++f<a;)u[f]=oa(t[f],t[f+1]),c[f]=n(e[f],e[f+1]);return function(h){var m=Ju(t,h,1,a)-1;return c[m](u[m](h))}}function Uo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mc(){var t=Po,e=Po,n=aa,a,u,c,f=qn,h,m,g;function p(){var S=Math.min(t.length,e.length);return f!==qn&&(f=Sc(t[0],t[S-1])),h=S>2?Oc:Tc,m=g=null,w}function w(S){return S==null||isNaN(S=+S)?c:(m||(m=h(t.map(a),e,n)))(a(f(S)))}return w.invert=function(S){return f(u((g||(g=h(e,t.map(a),ci)))(S)))},w.domain=function(S){return arguments.length?(t=Array.from(S,kc),p()):t.slice()},w.range=function(S){return arguments.length?(e=Array.from(S),p()):e.slice()},w.rangeRound=function(S){return e=Array.from(S),n=bc,p()},w.clamp=function(S){return arguments.length?(f=S?!0:qn,p()):f!==qn},w.interpolate=function(S){return arguments.length?(n=S,p()):n},w.unknown=function(S){return arguments.length?(c=S,w):c},function(S,E){return a=S,u=E,p()}}function Ro(){return Mc()(qn,qn)}function Dc(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,a=t.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+t.slice(n+1)]}function Jn(t){return t=fi(Math.abs(t)),t?t[1]:NaN}function Ec(t,e){return function(n,a){for(var u=n.length,c=[],f=0,h=t[0],m=0;u>0&&h>0&&(m+h+1>a&&(h=Math.max(1,a-m)),c.push(n.substring(u-=h,u+h)),!((m+=h+1)>a));)h=t[f=(f+1)%t.length];return c.reverse().join(e)}}function xc(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Nc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function di(t){if(!(e=Nc.exec(t)))throw new Error("invalid format: "+t);var e;return new sa({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}di.prototype=sa.prototype;function sa(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}sa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cc(t){e:for(var e=t.length,n=1,a=-1,u;n<e;++n)switch(t[n]){case".":a=u=n;break;case"0":a===0&&(a=n),u=n;break;default:if(!+t[n])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(u+1):t}var zo;function Ic(t,e){var n=fi(t,e);if(!n)return t+"";var a=n[0],u=n[1],c=u-(zo=Math.max(-8,Math.min(8,Math.floor(u/3)))*3)+1,f=a.length;return c===f?a:c>f?a+new Array(c-f+1).join("0"):c>0?a.slice(0,c)+"."+a.slice(c):"0."+new Array(1-c).join("0")+fi(t,Math.max(0,e+c-1))[0]}function Vo(t,e){var n=fi(t,e);if(!n)return t+"";var a=n[0],u=n[1];return u<0?"0."+new Array(-u).join("0")+a:a.length>u+1?a.slice(0,u+1)+"."+a.slice(u+1):a+new Array(u-a.length+2).join("0")}var Ho={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Dc,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Vo(t*100,e),r:Vo,s:Ic,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Wo(t){return t}var Zo=Array.prototype.map,jo=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Ac(t){var e=t.grouping===void 0||t.thousands===void 0?Wo:Ec(Zo.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",u=t.decimal===void 0?".":t.decimal+"",c=t.numerals===void 0?Wo:xc(Zo.call(t.numerals,String)),f=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"\u2212":t.minus+"",m=t.nan===void 0?"NaN":t.nan+"";function g(w){w=di(w);var S=w.fill,E=w.align,A=w.sign,j=w.symbol,z=w.zero,H=w.width,X=w.comma,Q=w.precision,ue=w.trim,se=w.type;se==="n"?(X=!0,se="g"):Ho[se]||(Q===void 0&&(Q=12),ue=!0,se="g"),(z||S==="0"&&E==="=")&&(z=!0,S="0",E="=");var F=j==="$"?n:j==="#"&&/[boxX]/.test(se)?"0"+se.toLowerCase():"",ee=j==="$"?a:/[%p]/.test(se)?f:"",M=Ho[se],ne=/[defgprs%]/.test(se);Q=Q===void 0?6:/[gprs]/.test(se)?Math.max(1,Math.min(21,Q)):Math.max(0,Math.min(20,Q));function re(B){var me=F,De=ee,Oe,Ye,Be;if(se==="c")De=M(B)+De,B="";else{B=+B;var et=B<0||1/B<0;if(B=isNaN(B)?m:M(Math.abs(B),Q),ue&&(B=Cc(B)),et&&+B==0&&A!=="+"&&(et=!1),me=(et?A==="("?A:h:A==="-"||A==="("?"":A)+me,De=(se==="s"?jo[8+zo/3]:"")+De+(et&&A==="("?")":""),ne){for(Oe=-1,Ye=B.length;++Oe<Ye;)if(Be=B.charCodeAt(Oe),48>Be||Be>57){De=(Be===46?u+B.slice(Oe+1):B.slice(Oe))+De,B=B.slice(0,Oe);break}}}X&&!z&&(B=e(B,1/0));var Se=me.length+B.length+De.length,Ce=Se<H?new Array(H-Se+1).join(S):"";switch(X&&z&&(B=e(Ce+B,Ce.length?H-De.length:1/0),Ce=""),E){case"<":B=me+B+De+Ce;break;case"=":B=me+Ce+B+De;break;case"^":B=Ce.slice(0,Se=Ce.length>>1)+me+B+De+Ce.slice(Se);break;default:B=Ce+me+B+De;break}return c(B)}return re.toString=function(){return w+""},re}function p(w,S){var E=g((w=di(w),w.type="f",w)),A=Math.max(-8,Math.min(8,Math.floor(Jn(S)/3)))*3,j=Math.pow(10,-A),z=jo[8+A/3];return function(H){return E(j*H)+z}}return{format:g,formatPrefix:p}}var hi,Yo,Bo;Fc({thousands:",",grouping:[3],currency:["$",""]});function Fc(t){return hi=Ac(t),Yo=hi.format,Bo=hi.formatPrefix,hi}function Lc(t){return Math.max(0,-Jn(Math.abs(t)))}function Pc(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jn(e)/3)))*3-Jn(Math.abs(t)))}function Uc(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jn(e)-Jn(t))+1}function Rc(t,e,n,a){var u=Xi(t,e,n),c;switch(a=di(a==null?",f":a),a.type){case"s":{var f=Math.max(Math.abs(t),Math.abs(e));return a.precision==null&&!isNaN(c=Pc(u,f))&&(a.precision=c),Bo(a,f)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(c=Uc(u,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=c-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(c=Lc(u))&&(a.precision=c-(a.type==="%")*2);break}}return Yo(a)}function zc(t){var e=t.domain;return t.ticks=function(n){var a=e();return Gu(a[0],a[a.length-1],n==null?10:n)},t.tickFormat=function(n,a){var u=e();return Rc(u[0],u[u.length-1],n==null?10:n,a)},t.nice=function(n){n==null&&(n=10);var a=e(),u=0,c=a.length-1,f=a[u],h=a[c],m,g,p=10;for(h<f&&(g=f,f=h,h=g,g=u,u=c,c=g);p-- >0;){if(g=So(f,h,n),g===m)return a[u]=f,a[c]=h,e(a);if(g>0)f=Math.floor(f/g)*g,h=Math.ceil(h/g)*g;else if(g<0)f=Math.ceil(f*g)/g,h=Math.floor(h*g)/g;else break;m=g}return t},t}function qo(){var t=Ro();return t.copy=function(){return Uo(t,qo())},To.apply(t,arguments),zc(t)}function Vc(t,e){t=t.slice();var n=0,a=t.length-1,u=t[n],c=t[a],f;return c<u&&(f=n,n=a,a=f,f=u,u=c,c=f),t[n]=e.floor(u),t[a]=e.ceil(c),t}function la(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ua(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Hc(t){var e=t.dateTime,n=t.date,a=t.time,u=t.periods,c=t.days,f=t.shortDays,h=t.months,m=t.shortMonths,g=Dr(u),p=Er(u),w=Dr(c),S=Er(c),E=Dr(f),A=Er(f),j=Dr(h),z=Er(h),H=Dr(m),X=Er(m),Q={a:et,A:Se,b:Ce,B:Ht,c:null,d:$o,e:$o,f:ff,g:wf,G:Sf,H:lf,I:uf,j:cf,L:es,m:df,M:hf,p:Me,q:Ie,Q:os,s:ss,S:mf,u:gf,U:vf,V:_f,w:yf,W:pf,x:null,X:null,y:bf,Y:kf,Z:Tf,"%":as},ue={a:Ne,A:dt,b:Tt,B:tt,c:null,d:ns,e:ns,f:Ef,g:Rf,G:Vf,H:Of,I:Mf,j:Df,L:rs,m:xf,M:Nf,p:we,q:dn,Q:os,s:ss,S:Cf,u:If,U:Af,V:Ff,w:Lf,W:Pf,x:null,X:null,y:Uf,Y:zf,Z:Hf,"%":as},se={a:re,A:B,b:me,B:De,c:Oe,d:Xo,e:Xo,f:rf,g:Qo,G:Go,H:Ko,I:Ko,j:$c,L:nf,m:Kc,M:ef,p:ne,q:Xc,Q:of,s:sf,S:tf,u:Bc,U:qc,V:Jc,w:Yc,W:Gc,x:Ye,X:Be,y:Qo,Y:Go,Z:Qc,"%":af};Q.x=F(n,Q),Q.X=F(a,Q),Q.c=F(e,Q),ue.x=F(n,ue),ue.X=F(a,ue),ue.c=F(e,ue);function F(R,K){return function(D){var T=[],W=-1,le=0,Ae=R.length,We,ht,hn;for(D instanceof Date||(D=new Date(+D));++W<Ae;)R.charCodeAt(W)===37&&(T.push(R.slice(le,W)),(ht=Jo[We=R.charAt(++W)])!=null?We=R.charAt(++W):ht=We==="e"?" ":"0",(hn=K[We])&&(We=hn(D,ht)),T.push(We),le=W+1);return T.push(R.slice(le,W)),T.join("")}}function ee(R,K){return function(D){var T=Mr(1900,void 0,1),W=M(T,R,D+="",0),le,Ae;if(W!=D.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(K&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(le=ua(Mr(T.y,0,1)),Ae=le.getUTCDay(),le=Ae>4||Ae===0?Yi.ceil(le):Yi(le),le=ko.offset(le,(T.V-1)*7),T.y=le.getUTCFullYear(),T.m=le.getUTCMonth(),T.d=le.getUTCDate()+(T.w+6)%7):(le=la(Mr(T.y,0,1)),Ae=le.getDay(),le=Ae>4||Ae===0?ji.ceil(le):ji(le),le=je.offset(le,(T.V-1)*7),T.y=le.getFullYear(),T.m=le.getMonth(),T.d=le.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),Ae="Z"in T?ua(Mr(T.y,0,1)).getUTCDay():la(Mr(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(Ae+5)%7:T.w+T.U*7-(Ae+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,ua(T)):la(T)}}function M(R,K,D,T){for(var W=0,le=K.length,Ae=D.length,We,ht;W<le;){if(T>=Ae)return-1;if(We=K.charCodeAt(W++),We===37){if(We=K.charAt(W++),ht=se[We in Jo?K.charAt(W++):We],!ht||(T=ht(R,D,T))<0)return-1}else if(We!=D.charCodeAt(T++))return-1}return T}function ne(R,K,D){var T=g.exec(K.slice(D));return T?(R.p=p.get(T[0].toLowerCase()),D+T[0].length):-1}function re(R,K,D){var T=E.exec(K.slice(D));return T?(R.w=A.get(T[0].toLowerCase()),D+T[0].length):-1}function B(R,K,D){var T=w.exec(K.slice(D));return T?(R.w=S.get(T[0].toLowerCase()),D+T[0].length):-1}function me(R,K,D){var T=H.exec(K.slice(D));return T?(R.m=X.get(T[0].toLowerCase()),D+T[0].length):-1}function De(R,K,D){var T=j.exec(K.slice(D));return T?(R.m=z.get(T[0].toLowerCase()),D+T[0].length):-1}function Oe(R,K,D){return M(R,e,K,D)}function Ye(R,K,D){return M(R,n,K,D)}function Be(R,K,D){return M(R,a,K,D)}function et(R){return f[R.getDay()]}function Se(R){return c[R.getDay()]}function Ce(R){return m[R.getMonth()]}function Ht(R){return h[R.getMonth()]}function Me(R){return u[+(R.getHours()>=12)]}function Ie(R){return 1+~~(R.getMonth()/3)}function Ne(R){return f[R.getUTCDay()]}function dt(R){return c[R.getUTCDay()]}function Tt(R){return m[R.getUTCMonth()]}function tt(R){return h[R.getUTCMonth()]}function we(R){return u[+(R.getUTCHours()>=12)]}function dn(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var K=F(R+="",Q);return K.toString=function(){return R},K},parse:function(R){var K=ee(R+="",!1);return K.toString=function(){return R},K},utcFormat:function(R){var K=F(R+="",ue);return K.toString=function(){return R},K},utcParse:function(R){var K=ee(R+="",!0);return K.toString=function(){return R},K}}}var Jo={"-":"",_:" ","0":"0"},He=/^\s*\d+/,Wc=/^%/,Zc=/[\\^$*+?|[\]().{}]/g;function ye(t,e,n){var a=t<0?"-":"",u=(a?-t:t)+"",c=u.length;return a+(c<n?new Array(n-c+1).join(e)+u:u)}function jc(t){return t.replace(Zc,"\\$&")}function Dr(t){return new RegExp("^(?:"+t.map(jc).join("|")+")","i")}function Er(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Yc(t,e,n){var a=He.exec(e.slice(n,n+1));return a?(t.w=+a[0],n+a[0].length):-1}function Bc(t,e,n){var a=He.exec(e.slice(n,n+1));return a?(t.u=+a[0],n+a[0].length):-1}function qc(t,e,n){var a=He.exec(e.slice(n,n+2));return a?(t.U=+a[0],n+a[0].length):-1}function Jc(t,e,n){var a=He.exec(e.slice(n,n+2));return a?(t.V=+a[0],n+a[0].length):-1}function Gc(t,e,n){var a=He.exec(e.slice(n,n+2));return a?(t.W=+a[0],n+a[0].length):-1}function Go(t,e,n){var a=He.exec(e.slice(n,n+4));return a?(t.y=+a[0],n+a[0].length):-1}function Qo(t,e,n){var a=He.exec(e.slice(n,n+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function Qc(t,e,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function Xc(t,e,n){var a=He.exec(e.slice(n,n+1));return a?(t.q=a[0]*3-3,n+a[0].length):-1}function Kc(t,e,n){var a=He.exec(e.slice(n,n+2));return a?(t.m=a[0]-1,n+a[0].length):-1}function Xo(t,e,n){var a=He.exec(e.slice(n,n+2));return a?(t.d=+a[0],n+a[0].length):-1}function $c(t,e,n){var a=He.exec(e.slice(n,n+3));return a?(t.m=0,t.d=+a[0],n+a[0].length):-1}function Ko(t,e,n){var a=He.exec(e.slice(n,n+2));return a?(t.H=+a[0],n+a[0].length):-1}function ef(t,e,n){var a=He.exec(e.slice(n,n+2));return a?(t.M=+a[0],n+a[0].length):-1}function tf(t,e,n){var a=He.exec(e.slice(n,n+2));return a?(t.S=+a[0],n+a[0].length):-1}function nf(t,e,n){var a=He.exec(e.slice(n,n+3));return a?(t.L=+a[0],n+a[0].length):-1}function rf(t,e,n){var a=He.exec(e.slice(n,n+6));return a?(t.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function af(t,e,n){var a=Wc.exec(e.slice(n,n+1));return a?n+a[0].length:-1}function of(t,e,n){var a=He.exec(e.slice(n));return a?(t.Q=+a[0],n+a[0].length):-1}function sf(t,e,n){var a=He.exec(e.slice(n));return a?(t.s=+a[0],n+a[0].length):-1}function $o(t,e){return ye(t.getDate(),e,2)}function lf(t,e){return ye(t.getHours(),e,2)}function uf(t,e){return ye(t.getHours()%12||12,e,2)}function cf(t,e){return ye(1+je.count(cn(t),t),e,3)}function es(t,e){return ye(t.getMilliseconds(),e,3)}function ff(t,e){return es(t,e)+"000"}function df(t,e){return ye(t.getMonth()+1,e,2)}function hf(t,e){return ye(t.getMinutes(),e,2)}function mf(t,e){return ye(t.getSeconds(),e,2)}function gf(t){var e=t.getDay();return e===0?7:e}function vf(t,e){return ye(jn.count(cn(t)-1,t),e,2)}function ts(t){var e=t.getDay();return e>=4||e===0?br(t):br.ceil(t)}function _f(t,e){return t=ts(t),ye(br.count(cn(t),t)+(cn(t).getDay()===4),e,2)}function yf(t){return t.getDay()}function pf(t,e){return ye(ji.count(cn(t)-1,t),e,2)}function bf(t,e){return ye(t.getFullYear()%100,e,2)}function wf(t,e){return t=ts(t),ye(t.getFullYear()%100,e,2)}function kf(t,e){return ye(t.getFullYear()%1e4,e,4)}function Sf(t,e){var n=t.getDay();return t=n>=4||n===0?br(t):br.ceil(t),ye(t.getFullYear()%1e4,e,4)}function Tf(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ye(e/60|0,"0",2)+ye(e%60,"0",2)}function ns(t,e){return ye(t.getUTCDate(),e,2)}function Of(t,e){return ye(t.getUTCHours(),e,2)}function Mf(t,e){return ye(t.getUTCHours()%12||12,e,2)}function Df(t,e){return ye(1+ko.count(Yn(t),t),e,3)}function rs(t,e){return ye(t.getUTCMilliseconds(),e,3)}function Ef(t,e){return rs(t,e)+"000"}function xf(t,e){return ye(t.getUTCMonth()+1,e,2)}function Nf(t,e){return ye(t.getUTCMinutes(),e,2)}function Cf(t,e){return ye(t.getUTCSeconds(),e,2)}function If(t){var e=t.getUTCDay();return e===0?7:e}function Af(t,e){return ye(Bu.count(Yn(t)-1,t),e,2)}function is(t){var e=t.getUTCDay();return e>=4||e===0?wr(t):wr.ceil(t)}function Ff(t,e){return t=is(t),ye(wr.count(Yn(t),t)+(Yn(t).getUTCDay()===4),e,2)}function Lf(t){return t.getUTCDay()}function Pf(t,e){return ye(Yi.count(Yn(t)-1,t),e,2)}function Uf(t,e){return ye(t.getUTCFullYear()%100,e,2)}function Rf(t,e){return t=is(t),ye(t.getUTCFullYear()%100,e,2)}function zf(t,e){return ye(t.getUTCFullYear()%1e4,e,4)}function Vf(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wr(t):wr.ceil(t),ye(t.getUTCFullYear()%1e4,e,4)}function Hf(){return"+0000"}function as(){return"%"}function os(t){return+t}function ss(t){return Math.floor(+t/1e3)}var Gn,ls;Wf({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wf(t){return Gn=Hc(t),ls=Gn.format,Gn.parse,Gn.utcFormat,Gn.utcParse,Gn}function Zf(t){return new Date(t)}function jf(t){return t instanceof Date?+t:+new Date(+t)}function us(t,e,n,a,u,c,f,h,m,g){var p=Ro(),w=p.invert,S=p.domain,E=g(".%L"),A=g(":%S"),j=g("%I:%M"),z=g("%I %p"),H=g("%a %d"),X=g("%b %d"),Q=g("%B"),ue=g("%Y");function se(F){return(m(F)<F?E:h(F)<F?A:f(F)<F?j:c(F)<F?z:a(F)<F?u(F)<F?H:X:n(F)<F?Q:ue)(F)}return p.invert=function(F){return new Date(w(F))},p.domain=function(F){return arguments.length?S(Array.from(F,jf)):S().map(Zf)},p.ticks=function(F){var ee=S();return t(ee[0],ee[ee.length-1],F==null?10:F)},p.tickFormat=function(F,ee){return ee==null?se:g(ee)},p.nice=function(F){var ee=S();return(!F||typeof F.range!="function")&&(F=e(ee[0],ee[ee.length-1],F==null?10:F)),F?S(Vc(ee,F)):p},p.copy=function(){return Uo(p,us(t,e,n,a,u,c,f,h,m,g))},p}function mi(){return To.apply(us(Xu,Ku,cn,wo,jn,je,Gt,Jt,pr,ls).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Yf=Bf;function Bf(t,e,n){var a=null,u=null,c=n&&n.leading,f=n&&n.trailing;c==null&&(c=!0),f==null&&(f=!c),c==!0&&(f=!1);var h=function(){a&&(clearTimeout(a),a=null)},m=function(){var p=u;h(),p&&p()},g=function(){var p=c&&!a,w=this,S=arguments;if(u=function(){return t.apply(w,S)},a||(a=setTimeout(function(){if(a=null,f)return u()},e)),p)return p=!1,u()};return g.cancel=h,g.flush=m,g}function Qn(t,e){if(!t)return"";let n=0,a=0,u=0;t.length==4?(n="0x"+t[1]+t[1],a="0x"+t[2]+t[2],u="0x"+t[3]+t[3]):(n="0x"+t[1]+t[2],a="0x"+t[3]+t[4],u="0x"+t[5]+t[6]),n/=255,a/=255,u/=255;const c=Math.min(n,a,u),f=Math.max(n,a,u),h=f-c;let m=0,g=0,p=0;return h==0?m=0:f==n?m=(a-u)/h%6:f==a?m=(u-n)/h+2:m=(n-a)/h+4,m=Math.round(m*60),m<0&&(m+=360),p=(f+c)/2,g=h==0?0:h/(1-Math.abs(2*p-1)),g=+(g*100).toFixed(1),p=+(p*100).toFixed(1),"hsl("+m+","+g/2+"%,"+e+"%)"}var ge;(function(t){t.FREE="free",t.BUSY="busy",t.PARTIAL="partial",t.CLOSED="closed"})(ge||(ge={}));var Pe;(function(t){t.UNSELECTED="unselected",t.SELECTED="selected"})(Pe||(Pe={}));var cs;(function(t){t.VERIFY="verify",t.CHOOSE="choose"})(cs||(cs={}));function qf(t){let e,n=(t[0].given_name&&t[0].surname?t[0].given_name.charAt(0)+t[0].surname.charAt(0):t[0].name?t[0].name.charAt(0):t[0].email?t[0].email.charAt(0):"?")+"",a;return{c(){e=J("p"),a=be(n),ke(e,"margin","0")},m(u,c){oe(u,e,c),U(e,a)},p(u,c){c&1&&n!==(n=(u[0].given_name&&u[0].surname?u[0].given_name.charAt(0)+u[0].surname.charAt(0):u[0].name?u[0].name.charAt(0):u[0].email?u[0].email.charAt(0):"?")+"")&&Le(a,n)},d(u){u&&$(e)}}}function Jf(t){let e,n;return{c(){e=J("img"),I(e,"alt",""),ke(e,"height",t[1]),ke(e,"width",t[2]),ke(e,"border-radius","50%"),Ua(e.src,n="data:image/jpg;base64,"+t[3])||I(e,"src",n)},m(a,u){oe(a,e,u)},p(a,u){u&2&&ke(e,"height",a[1]),u&4&&ke(e,"width",a[2]),u&8&&!Ua(e.src,n="data:image/jpg;base64,"+a[3])&&I(e,"src",n)},d(a){a&&$(e)}}}function Gf(t){let e;function n(c,f){if(c[3])return Jf;if(c[0])return qf}let a=n(t),u=a&&a(t);return{c(){u&&u.c(),e=Ii(),this.c=de},m(c,f){u&&u.m(c,f),oe(c,e,f)},p(c,[f]){a===(a=n(c))&&u?u.p(c,f):(u&&u.d(1),u=a&&a(c),u&&(u.c(),u.m(e.parentNode,e)))},i:de,o:de,d(c){u&&u.d(c),c&&$(e)}}}function Qf(t,e,n){let a,{contact:u}=e,{contact_query:c}=e,{height:f="32px"}=e,{width:h="32px"}=e;return Cl(async()=>{u&&u.picture_url?n(3,a=await Cu.getContactAvatar(c,u.id)):n(3,a=null)}),t.$$set=m=>{"contact"in m&&n(0,u=m.contact),"contact_query"in m&&n(4,c=m.contact_query),"height"in m&&n(1,f=m.height),"width"in m&&n(2,h=m.width)},n(3,a=null),[u,f,h,a,c]}class Xf extends vr{constructor(e){super();un(this,{target:this.shadowRoot,props:Kr(this.attributes),customElement:!0},Qf,Gf,sn,{contact:0,contact_query:4,height:1,width:2},null),e&&(e.target&&oe(e.target,this,e.anchor),e.props&&(this.$set(e.props),te()))}static get observedAttributes(){return["contact","contact_query","height","width"]}get contact(){return this.$$.ctx[0]}set contact(e){this.$$set({contact:e}),te()}get contact_query(){return this.$$.ctx[4]}set contact_query(e){this.$$set({contact_query:e}),te()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),te()}get width(){return this.$$.ctx[2]}set width(e){this.$$set({width:e}),te()}}customElements.define("nylas-contact-image",Xf);function Kf(t){let e,n,a,u,c,f,h;return{c(){e=J("div"),n=J("p"),a=be(t[0]),u=_e(),c=J("button"),c.textContent="Refresh your page",this.c=de,I(c,"type","button")},m(m,g){oe(m,e,g),U(e,n),U(n,a),U(e,u),U(e,c),f||(h=Ve(c,"click",t[1]),f=!0)},p(m,[g]){g&1&&Le(a,m[0])},i:de,o:de,d(m){m&&$(e),f=!1,h()}}}function $f(t,e,n){let{error_message:a="Uh oh! Looks like an error occurred"}=e;const u=()=>location.reload();return t.$$set=c=>{"error_message"in c&&n(0,a=c.error_message)},[a,u]}class ed extends vr{constructor(e){super();this.shadowRoot.innerHTML="<style>*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}div{background:var(--red-lighter);bottom:0;color:var(--red);font-size:1rem;line-height:24px;min-height:85px;padding:20px 24px;position:fixed;right:0;min-width:240px;z-index:2}button{background:transparent;color:var(--blue);cursor:pointer;font-style:italic;text-decoration:underline;margin-top:10px}</style>",un(this,{target:this.shadowRoot,props:Kr(this.attributes),customElement:!0},$f,Kf,sn,{error_message:0},null),e&&(e.target&&oe(e.target,this,e.anchor),e.props&&(this.$set(e.props),te()))}static get observedAttributes(){return["error_message"]}get error_message(){return this.$$.ctx[0]}set error_message(e){this.$$set({error_message:e}),te()}}customElements.define("nylas-message-error",ed);function fs(t){if(!Array.isArray(t)||t.length===0)return"";const e=t[0].timestamp,n=t[t.length-1].timestamp;return n.getMonth()!==e.getMonth()?n.getFullYear()!==e.getFullYear()?`${xr(e,!0)} - ${xr(n,!0)}`:`${xr(e)} - ${xr(n,!0)}`:xr(e,!0)}function Xn(t){const e=t.toLocaleTimeString([],{timeStyle:"short"});return t.getMinutes()===0?t.toLocaleTimeString([],{hour:"numeric",hour12:!0}).replaceAll(/\./g,""):e.replaceAll(/\./g,"")}function fn(t){const e=t.toLocaleTimeString([],{timeStyle:"short"});return e==="12:00 p.m."?"Noon":e.replace(/\./g,"")}function xr(t,e=!1){return t.toLocaleDateString("default",{month:"short",year:e?"numeric":void 0}).replaceAll(/\./g,"")}function td(t){let e,n,a,u=[{width:"17"},{height:"17"},{viewBox:"0 0 17 17"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],c={};for(let f=0;f<u.length;f+=1)c=rt(c,u[f]);return{c(){e=kt("svg"),n=kt("circle"),a=kt("path"),this.h()},l(f){e=Ut(f,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var h=St(e);n=Ut(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),St(n).forEach($),a=Ut(h,"path",{d:!0,fill:!0}),St(a).forEach($),h.forEach($),this.h()},h(){I(n,"cx","8.5"),I(n,"cy","8.5"),I(n,"r","8.5"),I(n,"fill","#078365"),I(a,"d","M7.05469 13.8125C7.28906 14.0469 7.6875 14.0469 7.92188 13.8125L14.8125 6.92188C15.0469 6.6875 15.0469 6.28906 14.8125 6.05469L13.9688 5.21094C13.7344 4.97656 13.3594 4.97656 13.125 5.21094L7.5 10.8359L4.85156 8.21094C4.61719 7.97656 4.24219 7.97656 4.00781 8.21094L3.16406 9.05469C2.92969 9.28906 2.92969 9.6875 3.16406 9.92188L7.05469 13.8125Z"),I(a,"fill","white"),ln(e,c)},m(f,h){Gr(f,e,h),Sn(e,n),Sn(e,a)},p(f,[h]){ln(e,c=ai(u,[{width:"17"},{height:"17"},{viewBox:"0 0 17 17"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},h&1&&f[0]]))},i:de,o:de,d(f){f&&$(e)}}}function nd(t,e,n){return t.$$set=a=>{n(0,e=rt(rt({},e),Pt(a)))},e=Pt(e),[e]}class rd extends si{constructor(e){super();un(this,e,nd,td,sn,{})}}function id(t){let e,n,a,u=[{width:"17"},{height:"17"},{viewBox:"0 0 17 17"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],c={};for(let f=0;f<u.length;f+=1)c=rt(c,u[f]);return{c(){e=kt("svg"),n=kt("circle"),a=kt("path"),this.h()},l(f){e=Ut(f,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var h=St(e);n=Ut(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),St(n).forEach($),a=Ut(h,"path",{d:!0,fill:!0}),St(a).forEach($),h.forEach($),this.h()},h(){I(n,"cx","8.5"),I(n,"cy","8.5"),I(n,"r","8.5"),I(n,"fill","#EB001B"),I(a,"d","M10.6172 8.75L13.3516 6.01562C13.707 5.6875 13.707 5.14062 13.3516 4.8125L12.75 4.21094C12.4219 3.85547 11.875 3.85547 11.5469 4.21094L8.8125 6.94531L6.05078 4.21094C5.72266 3.85547 5.17578 3.85547 4.84766 4.21094L4.24609 4.8125C3.89062 5.14062 3.89062 5.6875 4.24609 6.01562L6.98047 8.75L4.24609 11.5117C3.89062 11.8398 3.89062 12.3867 4.24609 12.7148L4.84766 13.3164C5.17578 13.6719 5.72266 13.6719 6.05078 13.3164L8.8125 10.582L11.5469 13.3164C11.875 13.6719 12.4219 13.6719 12.75 13.3164L13.3516 12.7148C13.707 12.3867 13.707 11.8398 13.3516 11.5117L10.6172 8.75Z"),I(a,"fill","white"),ln(e,c)},m(f,h){Gr(f,e,h),Sn(e,n),Sn(e,a)},p(f,[h]){ln(e,c=ai(u,[{width:"17"},{height:"17"},{viewBox:"0 0 17 17"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},h&1&&f[0]]))},i:de,o:de,d(f){f&&$(e)}}}function ad(t,e,n){return t.$$set=a=>{n(0,e=rt(rt({},e),Pt(a)))},e=Pt(e),[e]}class od extends si{constructor(e){super();un(this,e,ad,id,sn,{})}}function sd(t){let e,n,a=[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],u={};for(let c=0;c<a.length;c+=1)u=rt(u,a[c]);return{c(){e=kt("svg"),n=kt("path"),this.h()},l(c){e=Ut(c,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var f=St(e);n=Ut(f,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),St(n).forEach($),f.forEach($),this.h()},h(){I(n,"d","M14 16L9.77612 12.0014L14 8"),I(n,"stroke","#6A7285"),I(n,"stroke-width","1.5"),I(n,"stroke-miterlimit","10"),ln(e,u)},m(c,f){Gr(c,e,f),Sn(e,n)},p(c,[f]){ln(e,u=ai(a,[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},f&1&&c[0]]))},i:de,o:de,d(c){c&&$(e)}}}function ld(t,e,n){return t.$$set=a=>{n(0,e=rt(rt({},e),Pt(a)))},e=Pt(e),[e]}class ud extends si{constructor(e){super();un(this,e,ld,sd,sn,{})}}function cd(t){let e,n,a=[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t[0]],u={};for(let c=0;c<a.length;c+=1)u=rt(u,a[c]);return{c(){e=kt("svg"),n=kt("path"),this.h()},l(c){e=Ut(c,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var f=St(e);n=Ut(f,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),St(n).forEach($),f.forEach($),this.h()},h(){I(n,"d","M10 8L14.2239 11.9986L10 16"),I(n,"stroke","#6A7285"),I(n,"stroke-width","1.5"),I(n,"stroke-miterlimit","10"),ln(e,u)},m(c,f){Gr(c,e,f),Sn(e,n)},p(c,[f]){ln(e,u=ai(a,[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},f&1&&c[0]]))},i:de,o:de,d(c){c&&$(e)}}}function fd(t,e,n){return t.$$set=a=>{n(0,e=rt(rt({},e),Pt(a)))},e=Pt(e),[e]}class dd extends si{constructor(e){super();un(this,e,fd,cd,sn,{})}}const ds=t=>t.availability===ge.CLOSED||t.availability===ge.BUSY,gi=t=>t.availability!==ge.BUSY&&t.availability!==ge.CLOSED;function hd(t,e,n){return[{emails:n.flatMap(a=>a.participantEmails),days:[...Array(7).keys()],start:`${t}:00`,end:`${e}:00`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,object_type:"open_hours"}]}async function md(t){const{events:e,dayRange:n,startHour:a,endHour:u,openHours:c}=t,f=n[0],h=n[n.length-1],m=e.reduce((w,S)=>(w.push(S.participantEmails),w),[]);return{duration_minutes:e[0].slot_size,interval_minutes:e[0].slot_size,start_time:Gt(new Date(new Date(f).setHours(a))).getTime()/1e3,end_time:Gt(new Date(new Date(h).setHours(u))).getTime()/1e3,free_busy:[],open_hours:c,emails:m,events:e}}const gd=(t,e,n,a,u)=>{const c=Gt(new Date(new Date(t).setHours(u.start_hour))),f=Gt(new Date(new Date(t).setHours(u.end_hour)));return mi().domain([c,f]).ticks(Jt.every(u.slot_size)).slice(0,-1).map(h=>{var m,g,p;const w=Jt.offset(h,u.slot_size),S=[];let E=ge.FREE;if(e.length){const j={start_time:h,end_time:w,available_calendars:[],expirySelection:"",recurrence_cadence:"",recurrence_expiry:"",isBookable:!1};for(const z of e){const H=z.availability===ge.BUSY?z.timeslots.map(Q=>({start_time:Jt.offset(Q.start_time,-u.event_buffer),end_time:Jt.offset(Q.end_time,u.event_buffer)})):z.timeslots.map(Q=>({start_time:Jt.offset(Q.start_time,Q===z.timeslots[0]?0:u.event_buffer),end_time:Jt.offset(Q.end_time,Q===z.timeslots[z.timeslots.length-1]?0:-u.event_buffer)}));let X=0;z.availability===ge.BUSY?X=vd(H,j):z.availability===ge.FREE&&(X=H.some(Q=>j.start_time>=Q.start_time&&j.end_time<=Q.end_time)?1:0),z.availability===ge.BUSY?u.capacity&&u.capacity>=1&&X<u.capacity?S.push(((m=z==null?void 0:z.account)==null?void 0:m.emailAddress)||""):X||S.push(((g=z==null?void 0:z.account)==null?void 0:g.emailAddress)||""):(z.availability===ge.FREE||!z.availability)&&X&&S.push(((p=z==null?void 0:z.account)==null?void 0:p.emailAddress)||"")}S.length?S.length===e.length?E=ge.FREE:E=ge.PARTIAL:E=ge.BUSY}if(E===ge.PARTIAL&&S.length<e.length*u.partial_bookable_ratio&&(E=ge.BUSY),E===ge.BUSY&&u.partial_bookable_ratio===0&&(E=ge.PARTIAL),E===ge.PARTIAL&&u.required_participants.length&&(yo(a,S)||(E=ge.BUSY)),u.mandate_top_of_hour&&h.getMinutes()!==0&&(E=ge.BUSY,S.length=0),u.open_hours.length&&E!==ge.BUSY){let j=[];j=u.open_hours.filter(H=>!Object.prototype.hasOwnProperty.call(H,"startWeekday")||H.startWeekday===h.getDay()||H.endWeekday===h.getDay()),j.some((H,X)=>{let Q=Object.prototype.hasOwnProperty.call(H,"startWeekday")?je.offset(h,H.startWeekday-h.getDay()):new Date(h);Q.setHours(H.startHour),Q.setMinutes(H.startMinute);let ue=Object.prototype.hasOwnProperty.call(H,"startWeekday")?je.offset(h,H.endWeekday-h.getDay()):new Date(h);return ue.setHours(H.endHour),ue.setMinutes(H.endMinute),h>=Q&&w<=ue})||(E=ge.CLOSED,S.length=0)}const A=(new Date(h).getTime()-new Date().getTime())/(1e3*60*60*24);return{selectionStatus:Pe.UNSELECTED,calendar_id:n,availability:E,available_calendars:S,start_time:h,end_time:w,isBookable:A>=0&&A>=u.min_book_ahead_days&&A<=u.max_book_ahead_days}})};function vd(t,e){return t.reduce((n,a)=>(e.start_time<a.end_time&&a.start_time<e.end_time&&n++,n),0)}function hs(t,e,n){const a=t.slice();return a[156]=e[n],a[158]=n,a}function ms(t,e,n){const a=t.slice();return a[159]=e[n],a[160]=e,a[161]=n,a}function gs(t,e,n){const a=t.slice();return a[162]=e[n],a}function vs(t,e,n){const a=t.slice();return a[162]=e[n],a[163]=e,a[164]=n,a}function _s(t,e,n){const a=t.slice();return a[165]=e[n],a}function ys(t,e,n){const a=t.slice();return a[170]=e[n],a}function ps(t,e,n){const a=t.slice();return a[170]=e[n],a}function _d(t){let e,n,a,u=fs(t[7])+"",c,f,h,m,g,p,w,S,E,A,j,z,H,X=[],Q=new Map,ue,se,F,ee,M=t[15].filter(Vs).length+"",ne,re,B=t[9].length+"",me,De,Oe,Ye,Be,et,Se,Ce,Ht,Me=t[1].allow_date_change&&bs(t),Ie=t[1].busy_color!==t[1].closed_color&&ws(),Ne=t[1].show_ticks&&t[1].view_as==="schedule"&&ks(t),dt=t[7];const Tt=D=>D[159].timestamp.toISOString();for(let D=0;D<dt.length;D+=1){let T=ms(t,dt,D),W=Tt(T);Q.set(W,X[D]=Ls(W,T))}let tt=t[16],we=[];for(let D=0;D<tt.length;D+=1)we[D]=Ps(hs(t,tt,D));const dn=D=>st(we[D],1,1,()=>{we[D]=null});let R=t[15].length>t[1].attendees_to_show&&Us(t),K=t[22]&&Rs();return{c(){e=J("main"),n=J("header"),a=J("h2"),c=be(u),f=_e(),Me&&Me.c(),h=_e(),m=J("div"),g=J("span"),g.textContent="Not available",p=_e(),w=J("span"),w.textContent="Partially available",S=_e(),E=J("span"),E.textContent="Available",A=_e(),Ie&&Ie.c(),j=_e(),Ne&&Ne.c(),z=_e(),H=J("div");for(let D=0;D<X.length;D+=1)X[D].c();se=_e(),F=J("div"),ee=J("span"),ne=be(M),re=be(` of
        `),me=be(B),De=_e(),Oe=J("div");for(let D=0;D<we.length;D+=1)we[D].c();Ye=_e(),R&&R.c(),Be=_e(),K&&K.c(),I(a,"class","month"),I(g,"class","not-available"),I(w,"class","partially-available"),I(E,"class","available"),I(m,"class","legend"),Te(n,"dated",t[1].allow_date_change),I(H,"class","days"),mr(()=>t[120].call(H)),Te(H,"schedule",t[1].view_as==="schedule"),Te(H,"list",t[1].view_as==="list"),Te(H,"loading",t[10]),Te(H,"timezone",t[1].timezone),Te(H,"error",t[22]),I(Oe,"class","attendee-list"),I(F,"class","attendee-overlay"),ke(e,"--busy-color-lightened",Qn(t[1].busy_color,90)),ke(e,"--closed-color-lightened",Qn(t[1].closed_color,90)),ke(e,"--selected-color-lightened",Qn(t[1].selected_color,60)),ke(e,"--free-color",t[1].free_color),ke(e,"--busy-color",t[1].busy_color),ke(e,"--closed-color",t[1].closed_color),ke(e,"--partial-color",t[1].partial_color),ke(e,"--selected-color",t[1].selected_color),mr(()=>t[123].call(e)),Te(e,"ticked",t[1].show_ticks&&t[1].view_as==="schedule"),Te(e,"timezone",t[1].timezone),Te(e,"allow_booking",t[1].allow_booking),Te(e,"hide-header",!t[1].show_header)},m(D,T){oe(D,e,T),U(e,n),U(n,a),U(a,c),U(n,f),Me&&Me.m(n,null),U(n,h),U(n,m),U(m,g),U(m,p),U(m,w),U(m,S),U(m,E),U(m,A),Ie&&Ie.m(m,null),U(e,j),Ne&&Ne.m(e,null),U(e,z),U(e,H);for(let W=0;W<X.length;W+=1)X[W].m(H,null);t[119](H),ue=Va(H,t[120].bind(H)),U(e,se),U(e,F),U(F,ee),U(ee,ne),U(ee,re),U(ee,me),U(F,De),U(F,Oe);for(let W=0;W<we.length;W+=1)we[W].m(Oe,null);U(Oe,Ye),R&&R.m(Oe,null),t[121](F),U(e,Be),K&&K.m(e,null),t[122](e),et=Va(e,t[123].bind(e)),Se=!0,Ce||(Ht=Ve(e,"mouseleave",t[124]),Ce=!0)},p(D,T){if((!Se||T[0]&128)&&u!==(u=fs(D[7])+"")&&Le(c,u),D[1].allow_date_change?Me?(Me.p(D,T),T[0]&2&&Qe(Me,1)):(Me=bs(D),Me.c(),Qe(Me,1),Me.m(n,h)):Me&&(ri(),st(Me,1,1,()=>{Me=null}),ii()),D[1].busy_color!==D[1].closed_color?Ie||(Ie=ws(),Ie.c(),Ie.m(m,null)):Ie&&(Ie.d(1),Ie=null),T[0]&2&&Te(n,"dated",D[1].allow_date_change),D[1].show_ticks&&D[1].view_as==="schedule"?Ne?Ne.p(D,T):(Ne=ks(D),Ne.c(),Ne.m(e,z)):Ne&&(Ne.d(1),Ne=null),T[0]&1673398922|T[1]&63|T[5]&32768&&(dt=D[7],X=Ya(X,T,Tt,1,D,dt,Q,H,ja,Ls,null,ms)),T[0]&2&&Te(H,"schedule",D[1].view_as==="schedule"),T[0]&2&&Te(H,"list",D[1].view_as==="list"),T[0]&1024&&Te(H,"loading",D[10]),T[0]&2&&Te(H,"timezone",D[1].timezone),T[0]&4194304&&Te(H,"error",D[22]),(!Se||T[0]&32768)&&M!==(M=D[15].filter(Vs).length+"")&&Le(ne,M),(!Se||T[0]&512)&&B!==(B=D[9].length+"")&&Le(me,B),T[0]&67174400){tt=D[16];let W;for(W=0;W<tt.length;W+=1){const le=hs(D,tt,W);we[W]?(we[W].p(le,T),Qe(we[W],1)):(we[W]=Ps(le),we[W].c(),Qe(we[W],1),we[W].m(Oe,Ye))}for(ri(),W=tt.length;W<we.length;W+=1)dn(W);ii()}D[15].length>D[1].attendees_to_show?R?R.p(D,T):(R=Us(D),R.c(),R.m(Oe,null)):R&&(R.d(1),R=null),D[22]?K||(K=Rs(),K.c(),K.m(e,null)):K&&(K.d(1),K=null),(!Se||T[0]&2)&&ke(e,"--busy-color-lightened",Qn(D[1].busy_color,90)),(!Se||T[0]&2)&&ke(e,"--closed-color-lightened",Qn(D[1].closed_color,90)),(!Se||T[0]&2)&&ke(e,"--selected-color-lightened",Qn(D[1].selected_color,60)),(!Se||T[0]&2)&&ke(e,"--free-color",D[1].free_color),(!Se||T[0]&2)&&ke(e,"--busy-color",D[1].busy_color),(!Se||T[0]&2)&&ke(e,"--closed-color",D[1].closed_color),(!Se||T[0]&2)&&ke(e,"--partial-color",D[1].partial_color),(!Se||T[0]&2)&&ke(e,"--selected-color",D[1].selected_color),T[0]&2&&Te(e,"ticked",D[1].show_ticks&&D[1].view_as==="schedule"),T[0]&2&&Te(e,"timezone",D[1].timezone),T[0]&2&&Te(e,"allow_booking",D[1].allow_booking),T[0]&2&&Te(e,"hide-header",!D[1].show_header)},i(D){if(!Se){Qe(Me);for(let T=0;T<tt.length;T+=1)Qe(we[T]);Se=!0}},o(D){st(Me),we=we.filter(Boolean);for(let T=0;T<we.length;T+=1)st(we[T]);Se=!1},d(D){D&&$(e),Me&&Me.d(),Ie&&Ie.d(),Ne&&Ne.d();for(let T=0;T<X.length;T+=1)X[T].d();t[119](null),ue(),cr(we,D),R&&R.d(),t[121](null),K&&K.d(),t[122](null),et(),Ce=!1,Ht()}}}function yd(t){let e;return{c(){e=J("nylas-error"),Qr(e,"id",t[0])},m(n,a){oe(n,e,a)},p(n,a){a[0]&1&&Qr(e,"id",n[0])},i:de,o:de,d(n){n&&$(e)}}}function bs(t){let e,n,a,u,c,f,h,m,g;return a=new ud({props:{style:"height:32px;width:32px;"}}),f=new dd({props:{style:"height:32px;width:32px;"}}),{c(){e=J("div"),n=J("button"),oi(a.$$.fragment),u=_e(),c=J("button"),oi(f.$$.fragment),I(n,"aria-label","Previous date"),I(c,"aria-label","Next date"),I(e,"class","change-dates")},m(p,w){oe(p,e,w),U(e,n),gr(a,n,null),U(e,u),U(e,c),gr(f,c,null),h=!0,m||(g=[Ve(n,"click",t[28]),Ve(c,"click",t[27])],m=!0)},p:de,i(p){h||(Qe(a.$$.fragment,p),Qe(f.$$.fragment,p),h=!0)},o(p){st(a.$$.fragment,p),st(f.$$.fragment,p),h=!1},d(p){p&&$(e),Hn(a),Hn(f),m=!1,Lt(g)}}}function ws(t){let e;return{c(){e=J("span"),e.textContent="Closed",I(e,"class","closed")},m(n,a){oe(n,e,a)},d(n){n&&$(e)}}}function ks(t){let e,n,a=t[1].timezone&&Ss(t),u=t[14],c=[];for(let f=0;f<u.length;f+=1)c[f]=Os(ys(t,u,f));return{c(){a&&a.c(),e=_e(),n=J("ul");for(let f=0;f<c.length;f+=1)c[f].c();I(n,"class","ticks")},m(f,h){a&&a.m(f,h),oe(f,e,h),oe(f,n,h);for(let m=0;m<c.length;m+=1)c[m].m(n,null);t[107](n)},p(f,h){if(f[1].timezone?a?a.p(f,h):(a=Ss(f),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),h[0]&16384){u=f[14];let m;for(m=0;m<u.length;m+=1){const g=ys(f,u,m);c[m]?c[m].p(g,h):(c[m]=Os(g),c[m].c(),c[m].m(n,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=u.length}},d(f){a&&a.d(f),f&&$(e),f&&$(n),cr(c,f),t[107](null)}}}function Ss(t){let e,n,a=qa(t[14][0],t[1].timezone)+"",u,c,f,h=t[14],m=[];for(let g=0;g<h.length;g+=1)m[g]=Ts(ps(t,h,g));return{c(){e=J("div"),n=J("p"),u=be(a),c=_e(),f=J("ul");for(let g=0;g<m.length;g+=1)m[g].c();I(n,"class","timezone"),I(f,"class","ticks"),I(e,"class","timezone-ticks")},m(g,p){oe(g,e,p),U(e,n),U(n,u),U(e,c),U(e,f);for(let w=0;w<m.length;w+=1)m[w].m(f,null)},p(g,p){if(p[0]&16386&&a!==(a=qa(g[14][0],g[1].timezone)+"")&&Le(u,a),p[0]&16386){h=g[14];let w;for(w=0;w<h.length;w+=1){const S=ps(g,h,w);m[w]?m[w].p(S,p):(m[w]=Ts(S),m[w].c(),m[w].m(f,null))}for(;w<m.length;w+=1)m[w].d(1);m.length=h.length}},d(g){g&&$(e),cr(m,g)}}}function Ts(t){let e,n=Ba(t[170],t[1].timezone)+"",a,u;return{c(){e=J("li"),a=be(n),u=_e(),I(e,"class","tick")},m(c,f){oe(c,e,f),U(e,a),U(e,u)},p(c,f){f[0]&16386&&n!==(n=Ba(c[170],c[1].timezone)+"")&&Le(a,n)},d(c){c&&$(e)}}}function Os(t){let e,n=fn(t[170])+"",a,u;return{c(){e=J("li"),a=be(n),u=_e(),I(e,"class","tick")},m(c,f){oe(c,e,f),U(e,a),U(e,u)},p(c,f){f[0]&16384&&n!==(n=fn(c[170])+"")&&Le(a,n)},d(c){c&&$(e)}}}function Ms(t){let e,n=new Date(t[159].timestamp).toLocaleString("default",{day:"numeric"})+"",a;return{c(){e=J("span"),a=be(n),I(e,"class","date")},m(u,c){oe(u,e,c),U(e,a)},p(u,c){c[0]&128&&n!==(n=new Date(u[159].timestamp).toLocaleString("default",{day:"numeric"})+"")&&Le(a,n)},d(u){u&&$(e)}}}function Ds(t){let e,n=new Date(t[159].timestamp).toLocaleString("default",{weekday:"short"})+"",a;return{c(){e=J("span"),a=be(n)},m(u,c){oe(u,e,c),U(e,a)},p(u,c){c[0]&128&&n!==(n=new Date(u[159].timestamp).toLocaleString("default",{weekday:"short"})+"")&&Le(a,n)},d(u){u&&$(e)}}}function pd(t){let e,n=t[20](t[159]),a=[];for(let u=0;u<n.length;u+=1)a[u]=xs(gs(t,n,u));return{c(){e=J("div");for(let u=0;u<a.length;u+=1)a[u].c();I(e,"class","slot-list")},m(u,c){oe(u,e,c);for(let f=0;f<a.length;f+=1)a[f].m(e,null)},p(u,c){if(c[0]&1049216|c[1]&1){n=u[20](u[159]);let f;for(f=0;f<n.length;f+=1){const h=gs(u,n,f);a[f]?a[f].p(h,c):(a[f]=xs(h),a[f].c(),a[f].m(e,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=n.length}},d(u){u&&$(e),cr(a,u)}}}function bd(t){let e,n,a,u=[],c=new Map,f=t[159].epochs,h=[];for(let p=0;p<f.length;p+=1)h[p]=Cs(_s(t,f,p));let m=t[159].slots;const g=p=>p[162].start_time.toISOString();for(let p=0;p<m.length;p+=1){let w=vs(t,m,p),S=g(w);c.set(S,u[p]=Fs(S,w))}return{c(){e=J("div");for(let p=0;p<h.length;p+=1)h[p].c();n=_e(),a=J("div");for(let p=0;p<u.length;p+=1)u[p].c();I(e,"class","epochs"),I(a,"class","slots")},m(p,w){oe(p,e,w);for(let S=0;S<h.length;S+=1)h[S].m(e,null);oe(p,n,w),oe(p,a,w);for(let S=0;S<u.length;S+=1)u[S].m(a,null)},p(p,w){if(w[0]&52429442){f=p[159].epochs;let S;for(S=0;S<f.length;S+=1){const E=_s(p,f,S);h[S]?h[S].p(E,w):(h[S]=Cs(E),h[S].c(),h[S].m(e,null))}for(;S<h.length;S+=1)h[S].d(1);h.length=f.length}w[0]&1619921024|w[1]&62|w[5]&32768&&(m=p[159].slots,u=Ya(u,w,g,1,p,m,c,a,ja,Fs,null,vs))},d(p){p&&$(e),cr(h,p),p&&$(n),p&&$(a);for(let w=0;w<u.length;w+=1)u[w].d()}}}function Es(t){let e,n,a=t[162].available_calendars.length+"",u,c,f=t[9].length+"",h,m;return{c(){e=J("span"),n=be("("),u=be(a),c=be(" of "),h=be(f),m=be(`
                      available)`),I(e,"class","partial")},m(g,p){oe(g,e,p),U(e,n),U(e,u),U(e,c),U(e,h),U(e,m)},p(g,p){p[0]&1048704&&a!==(a=g[162].available_calendars.length+"")&&Le(u,a),p[0]&512&&f!==(f=g[9].length+"")&&Le(h,f)},d(g){g&&$(e)}}}function xs(t){let e,n=fn(new Date(t[162].start_time))+"",a,u,c,f,h,m,g,p,w,S,E=t[162].availability===ge.PARTIAL&&Es(t);function A(){return t[117](t[162])}return{c(){e=J("button"),a=be(n),u=_e(),E&&E.c(),c=_e(),I(e,"data-available-calendars",f=t[162].available_calendars.toString()),I(e,"aria-label",h=""+(fn(new Date(t[162].start_time))+" to "+fn(new Date(t[162].end_time))+"; Free calendars: "+t[162].available_calendars.toString())),I(e,"class",m="slot "+t[162].selectionStatus+" "+t[162].availability),I(e,"data-start-time",g=new Date(t[162].start_time).toLocaleString()),I(e,"data-end-time",p=new Date(t[162].end_time).toLocaleString()),Te(e,"pending",t[162].selectionPending)},m(j,z){oe(j,e,z),U(e,a),U(e,u),E&&E.m(e,null),U(e,c),w||(S=Ve(e,"click",A),w=!0)},p(j,z){t=j,z[0]&1048704&&n!==(n=fn(new Date(t[162].start_time))+"")&&Le(a,n),t[162].availability===ge.PARTIAL?E?E.p(t,z):(E=Es(t),E.c(),E.m(e,c)):E&&(E.d(1),E=null),z[0]&1048704&&f!==(f=t[162].available_calendars.toString())&&I(e,"data-available-calendars",f),z[0]&1048704&&h!==(h=""+(fn(new Date(t[162].start_time))+" to "+fn(new Date(t[162].end_time))+"; Free calendars: "+t[162].available_calendars.toString()))&&I(e,"aria-label",h),z[0]&1048704&&m!==(m="slot "+t[162].selectionStatus+" "+t[162].availability)&&I(e,"class",m),z[0]&1048704&&g!==(g=new Date(t[162].start_time).toLocaleString())&&I(e,"data-start-time",g),z[0]&1048704&&p!==(p=new Date(t[162].end_time).toLocaleString())&&I(e,"data-end-time",p),z[0]&1048704&&Te(e,"pending",t[162].selectionPending)},d(j){j&&$(e),E&&E.d(),w=!1,S()}}}function Ns(t){let e,n,a=t[165].available_calendars.length+"",u,c,f=t[9].length+"",h,m,g;function p(...w){return t[108](t[165],...w)}return{c(){e=J("div"),n=J("span"),u=be(a),c=be(" of "),h=be(f),I(e,"class","available-calendars")},m(w,S){oe(w,e,S),U(e,n),U(n,u),U(n,c),U(n,h),m||(g=[Ve(n,"mouseenter",p),Ve(n,"mouseleave",t[25])],m=!0)},p(w,S){t=w,S[0]&128&&a!==(a=t[165].available_calendars.length+"")&&Le(u,a),S[0]&512&&f!==(f=t[9].length+"")&&Le(h,f)},d(w){w&&$(e),m=!1,Lt(g)}}}function Cs(t){let e,n,a,u,c,f,h,m=t[1].show_hosts==="show"&&Ns(t);return{c(){e=J("div"),n=J("div"),m&&m.c(),a=_e(),I(n,"class","inner"),ke(n,"background-color",t[21](t[165].available_calendars.length)),I(e,"class",u="epoch "+t[165].status),ke(e,"height",t[165].height+"%"),ke(e,"top",t[165].offset+"%"),I(e,"data-available-calendars",c=t[165].available_calendars.toString()),I(e,"data-start-time",f=new Date(t[165].start_time).toLocaleString()),I(e,"data-end-time",h=new Date(t[165].end_time).toLocaleString())},m(g,p){oe(g,e,p),U(e,n),m&&m.m(n,null),U(e,a)},p(g,p){g[1].show_hosts==="show"?m?m.p(g,p):(m=Ns(g),m.c(),m.m(n,null)):m&&(m.d(1),m=null),p[0]&2097280&&ke(n,"background-color",g[21](g[165].available_calendars.length)),p[0]&128&&u!==(u="epoch "+g[165].status)&&I(e,"class",u),p[0]&128&&ke(e,"height",g[165].height+"%"),p[0]&128&&ke(e,"top",g[165].offset+"%"),p[0]&128&&c!==(c=g[165].available_calendars.toString())&&I(e,"data-available-calendars",c),p[0]&128&&f!==(f=new Date(g[165].start_time).toLocaleString())&&I(e,"data-start-time",f),p[0]&128&&h!==(h=new Date(g[165].end_time).toLocaleString())&&I(e,"data-end-time",h)},d(g){g&&$(e),m&&m.d()}}}function Is(t){let e,n=t[23](t[162],t[159])+"",a;return{c(){e=J("span"),a=be(n),I(e,"class","selected-heading")},m(u,c){oe(u,e,c),U(e,a)},p(u,c){c[0]&128&&n!==(n=u[23](u[162],u[159])+"")&&Le(a,n)},d(u){u&&$(e)}}}function As(t){let e,n=Xn(t[162].start_time)+"",a;return{c(){e=J("span"),a=be(n),I(e,"class","selected-heading")},m(u,c){oe(u,e,c),U(e,a)},p(u,c){c[0]&128&&n!==(n=Xn(u[162].start_time)+"")&&Le(a,n)},d(u){u&&$(e)}}}function Fs(t,e){let n,a=e[23](e[162],e[159]),u,c,f,h,m,g,p,w,S,E,A=a&&Is(e),j=e[162].hovering&&As(e);function z(...M){return e[109](e[162],e[159],...M)}function H(...M){return e[110](e[162],e[159],...M)}function X(){return e[111](e[162],e[163],e[164])}function Q(){return e[112](e[159])}function ue(...M){return e[113](e[162],e[159],...M)}function se(...M){return e[114](e[159],e[164],...M)}function F(...M){return e[115](e[162],e[159],...M)}function ee(...M){return e[116](e[159],e[162],...M)}return{key:t,first:null,c(){n=J("button"),A&&A.c(),u=_e(),j&&j.c(),c=_e(),I(n,"data-available-calendars",f=e[162].available_calendars.toString()),I(n,"aria-label",h=""+(new Date(e[162].start_time).toLocaleString()+" to "+new Date(e[162].end_time).toLocaleString()+"; Free calendars: "+e[162].available_calendars.toString())),I(n,"class",m="slot "+e[162].selectionStatus+" "+e[162].availability),I(n,"data-start-time",g=new Date(e[162].start_time).toLocaleString()),I(n,"data-end-time",p=new Date(e[162].end_time).toLocaleString()),Te(n,"pending",e[162].selectionPending),Te(n,"hovering",e[162].hovering),this.first=n},m(M,ne){oe(M,n,ne),A&&A.m(n,null),U(n,u),j&&j.m(n,null),U(n,c),S||(E=[kl(w=e[37].call(null,n,{dateKey:e[159].timestamp.toLocaleDateString(),slotIndex:e[164],startTime:new Date(e[162].start_time).toLocaleString()})),Ve(n,"mousedown",z),Ve(n,"mouseenter",H),Ve(n,"mouseleave",X),Ve(n,"mouseup",Q),Ve(n,"keypress",ue),Ve(n,"keydown",se),Ve(n,"touchstart",F),Ve(n,"touchmove",e[35]),Ve(n,"touchend",ee)],S=!0)},p(M,ne){e=M,ne[0]&128&&(a=e[23](e[162],e[159])),a?A?A.p(e,ne):(A=Is(e),A.c(),A.m(n,u)):A&&(A.d(1),A=null),e[162].hovering?j?j.p(e,ne):(j=As(e),j.c(),j.m(n,c)):j&&(j.d(1),j=null),ne[0]&128&&f!==(f=e[162].available_calendars.toString())&&I(n,"data-available-calendars",f),ne[0]&128&&h!==(h=""+(new Date(e[162].start_time).toLocaleString()+" to "+new Date(e[162].end_time).toLocaleString()+"; Free calendars: "+e[162].available_calendars.toString()))&&I(n,"aria-label",h),ne[0]&128&&m!==(m="slot "+e[162].selectionStatus+" "+e[162].availability)&&I(n,"class",m),ne[0]&128&&g!==(g=new Date(e[162].start_time).toLocaleString())&&I(n,"data-start-time",g),ne[0]&128&&p!==(p=new Date(e[162].end_time).toLocaleString())&&I(n,"data-end-time",p),w&&ur(w.update)&&ne[0]&128&&w.update.call(null,{dateKey:e[159].timestamp.toLocaleDateString(),slotIndex:e[164],startTime:new Date(e[162].start_time).toLocaleString()}),ne[0]&128&&Te(n,"pending",e[162].selectionPending),ne[0]&128&&Te(n,"hovering",e[162].hovering)},d(M){M&&$(n),A&&A.d(),j&&j.d(),S=!1,Lt(E)}}}function Ls(t,e){let n,a,u,c,f,h,m,g=e[161],p=(e[1].date_format==="date"||e[1].date_format==="full")&&Ms(e),w=(e[1].date_format==="weekday"||e[1].date_format==="full")&&Ds(e);function S(H,X){if(H[1].view_as==="schedule")return bd;if(H[1].view_as==="list")return pd}let E=S(e),A=E&&E(e);const j=()=>e[118](n,g),z=()=>e[118](null,g);return{key:t,first:null,c(){n=J("div"),a=J("header"),u=J("h2"),p&&p.c(),c=_e(),w&&w.c(),f=_e(),A&&A.c(),h=_e(),I(n,"class","day"),I(n,"data-timestamp",m=e[159].timestamp.toISOString()),this.first=n},m(H,X){oe(H,n,X),U(n,a),U(a,u),p&&p.m(u,null),U(u,c),w&&w.m(u,null),U(n,f),A&&A.m(n,null),U(n,h),j()},p(H,X){e=H,e[1].date_format==="date"||e[1].date_format==="full"?p?p.p(e,X):(p=Ms(e),p.c(),p.m(u,c)):p&&(p.d(1),p=null),e[1].date_format==="weekday"||e[1].date_format==="full"?w?w.p(e,X):(w=Ds(e),w.c(),w.m(u,null)):w&&(w.d(1),w=null),E===(E=S(e))&&A?A.p(e,X):(A&&A.d(1),A=E&&E(e),A&&(A.c(),A.m(n,h))),X[0]&128&&m!==(m=e[159].timestamp.toISOString())&&I(n,"data-timestamp",m),g!==e[161]&&(z(),g=e[161],j())},d(H){H&&$(n),p&&p.d(),w&&w.d(),A&&A.d(),z()}}}function wd(t){let e,n;return e=new od({}),{c(){oi(e.$$.fragment)},m(a,u){gr(e,a,u),n=!0},i(a){n||(Qe(e.$$.fragment,a),n=!0)},o(a){st(e.$$.fragment,a),n=!1},d(a){Hn(e,a)}}}function kd(t){let e,n;return e=new rd({}),{c(){oi(e.$$.fragment)},m(a,u){gr(e,a,u),n=!0},i(a){n||(Qe(e.$$.fragment,a),n=!0)},o(a){st(e.$$.fragment,a),n=!1},d(a){Hn(e,a)}}}function Ps(t){var ee,M,ne;let e,n,a,u,c,f,h,m=`${(M=(ee=t[156])==null?void 0:ee.firstName)!=null?M:""} ${(ne=t[156].lastName)!=null?ne:""}`,g,p,w,S=t[156].emailAddress+"",E,A,j,z,H,X,Q;const ue=[kd,wd],se=[];function F(re,B){return re[156].isAvailable?0:1}return H=F(t),X=se[H]=ue[H](t),{c(){e=J("div"),n=J("div"),a=J("nylas-contact-image"),c=_e(),f=J("div"),h=J("span"),g=be(m),p=_e(),w=J("span"),E=be(S),j=_e(),z=J("div"),X.c(),Qr(a,"contact",u=t[156]),I(n,"class","default-avatar"),I(h,"class","name"),I(w,"class","email"),I(f,"class","contact-details"),I(e,"class",A=t[26](t[156],t[158])),I(z,"class","icon")},m(re,B){oe(re,e,B),U(e,n),U(n,a),U(e,c),U(e,f),U(f,h),U(h,g),U(f,p),U(f,w),U(w,E),oe(re,j,B),oe(re,z,B),se[H].m(z,null),Q=!0},p(re,B){var De,Oe,Ye;(!Q||B[0]&65536&&u!==(u=re[156]))&&Qr(a,"contact",u),(!Q||B[0]&65536)&&m!==(m=`${(Oe=(De=re[156])==null?void 0:De.firstName)!=null?Oe:""} ${(Ye=re[156].lastName)!=null?Ye:""}`)&&Le(g,m),(!Q||B[0]&65536)&&S!==(S=re[156].emailAddress+"")&&Le(E,S),(!Q||B[0]&65536&&A!==(A=re[26](re[156],re[158])))&&I(e,"class",A);let me=H;H=F(re),H!==me&&(ri(),st(se[me],1,1,()=>{se[me]=null}),ii(),X=se[H],X||(X=se[H]=ue[H](re),X.c()),Qe(X,1),X.m(z,null))},i(re){Q||(Qe(X),Q=!0)},o(re){st(X),Q=!1},d(re){re&&$(e),re&&$(j),re&&$(z),se[H].d()}}}function Us(t){let e,n=`+${t[15].length-t[1].attendees_to_show} more`,a;return{c(){e=J("span"),a=be(n),I(e,"class","more-attendees")},m(u,c){oe(u,e,c),U(e,a)},p(u,c){c[0]&32770&&n!==(n=`+${u[15].length-u[1].attendees_to_show} more`)&&Le(a,n)},d(u){u&&$(e)}}}function Rs(t){let e;return{c(){e=J("nylas-message-error")},m(n,a){oe(n,e,a)},d(n){n&&$(e)}}}function Sd(t){let e,n,a,u;const c=[yd,_d],f=[];function h(m,g){return m[2]&&m[2].error?0:1}return e=h(t),n=f[e]=c[e](t),{c(){n.c(),a=Ii(),this.c=de},m(m,g){f[e].m(m,g),oe(m,a,g),u=!0},p(m,g){let p=e;e=h(m),e===p?f[e].p(m,g):(ri(),st(f[p],1,1,()=>{f[p]=null}),ii(),n=f[e],n?n.p(m,g):(n=f[e]=c[e](m),n.c()),Qe(n,1),n.m(a.parentNode,a))},i(m){u||(Qe(n),u=!0)},o(m){st(n),u=!1},d(m){f[e].d(m),m&&$(a)}}}const Td=100,Od=30;function zs(t){return t?t.reduce((e,n,a)=>(n&&(e[a]=n.getBoundingClientRect()),e),{}):{}}function Md(t=[]){return t.reduce((e,n)=>{const a=e[e.length-1];return a&&a.end_time===n.start_time?a.end_time=n.end_time:e.push(Object.assign({},n)),e},[])}const Vs=t=>t.isAvailable;function Dd(t,e,n){let a,u,c,f,h,m,g,p,w,S,E,A,j;Vn(t,pu,_=>n(105,S=_)),Vn(t,hu,_=>n(136,E=_)),Vn(t,Pi,_=>n(106,A=_)),Vn(t,ho,_=>n(137,_)),Vn(t,Ru,_=>n(138,j=_));var z=this&&this.__awaiter||function(_,k,x,V){function Z(Y){return Y instanceof x?Y:new x(function(G){G(Y)})}return new(x||(x=Promise))(function(Y,G){function ve(Fe){try{ot(V.next(Fe))}catch(zr){G(zr)}}function qe(Fe){try{ot(V.throw(Fe))}catch(zr){G(zr)}}function ot(Fe){Fe.done?Y(Fe.value):Z(Fe.value).then(ve,qe)}ot((V=V.apply(_,k||[])).next())})},H,X,Q,ue,se,F,ee,M;let{id:ne=""}=e,{access_token:re=""}=e,{event_to_hover:B=null}=e,{event_to_select:me=null}=e,{allow_booking:De}=e,{allow_date_change:Oe}=e,{attendees_to_show:Ye}=e,{booking_user_email:Be}=e,{booking_user_token:et}=e,{busy_color:Se}=e,{calendars:Ce}=e,{capacity:Ht}=e,{closed_color:Me}=e,{date_format:Ie}=e,{dates_to_show:Ne}=e,{participants:dt}=e,{end_hour:Tt}=e,{event_buffer:tt}=e,{free_color:we}=e,{mandate_top_of_hour:dn}=e,{max_bookable_slots:R}=e,{max_book_ahead_days:K}=e,{min_book_ahead_days:D}=e,{open_hours:T}=e,{overbooked_threshold:W}=e,{partial_bookable_ratio:le}=e,{partial_color:Ae}=e,{required_participants:We}=e,{selected_color:ht}=e,{show_as_week:hn}=e,{show_header:vi}=e,{show_hosts:Nr}=e,{show_ticks:_i}=e,{show_weekends:Qt}=e,{slot_size:mt}=e,{start_date:yi}=e,{start_hour:Wt}=e,{timezone:Ot}=e,{view_as:Zt}=e,{events:Kn}=e;const Nn={allow_booking:!1,allow_date_change:!0,attendees_to_show:5,busy_color:"#EE3248cc",calendars:[],closed_color:"#EE3248cc",date_format:"full",dates_to_show:1,participants:[],end_hour:24,event_buffer:0,free_color:"#078351cc",mandate_top_of_hour:!1,max_bookable_slots:1,max_book_ahead_days:30,min_book_ahead_days:0,open_hours:[],overbooked_threshold:100,partial_bookable_ratio:.01,partial_color:"#FECA7Ccc",required_participants:[],selected_color:"#002db4",show_as_week:!1,show_header:!0,show_hosts:"show",show_ticks:!0,show_weekends:!0,slot_size:15,start_date:new Date,start_hour:0,timezone:"",view_as:"schedule",events:[]};function Cn(_=!1,k=!1){return z(this,void 0,void 0,function*(){if(yield er(!0),k){const x=[];for(const V of he)x.push(...V==null?void 0:V.slots.filter(Z=>Z.selectionStatus===Pe.SELECTED).map(Z=>({status:"busy",start_time:new Date(Z.start_time).getTime()/1e3,end_time:new Date(Z.end_time).getTime()/1e3})));for(const V of m)V.timeslots.push(...x)}if(_&&Array.isArray(he)){for(const x of he)for(const V of x.slots)V.selectionStatus=Pe.UNSELECTED;n(7,he=[...he])}})}let P=Ri({},{},Nn),Mt={},Xt,gt=[],Xe={},Dt=[],Kt={},$n=!1,In={},mn=!1;Il(()=>z(void 0,void 0,void 0,function*(){var _;yield Fi(),n(10,Xt=!0),n(6,gn=nt==null?void 0:nt.getBoundingClientRect().height),n(5,en=nt==null?void 0:nt.getBoundingClientRect().height);const k=JSON.stringify({component_id:ne,access_token:re});n(2,Mt=(yield j[k])||{}),n(1,P=Ri(e,Mt,Nn));const x={access_token:re,component_id:ne,calendarIDs:[]},V=yield Ou.getCalendars(x);n(10,Xt=!1),n(103,u=((_=V==null?void 0:V.find(Z=>Z.is_primary))===null||_===void 0?void 0:_.id)||"")}));let jt=e;Al(()=>{$n&&(n(11,Kt=zs(Object.values(Xe)[0])),$n=!1),mn&&gt&&(In=zs(gt),mn=!1)});const $t=zu($r());let nt,An,Cr,en=0,gn,Et,xt,vn,Ir=[];const pi=[15,30,60,180,360],bi=(_,k,x=0)=>{if(_===void 0||k===void 0)return[];const V=pi[x];let Z=V>60?Gt.every(V/60):Jt.every(V);k=mi().domain(k).ticks(Z);const Y=_/k.length;return V<P.slot_size||Y<Od&&x<pi.length?bi(_,k,x+1):k};function ca(_,k){const x=mi().domain([_[0].start_time,_[_.length-1].end_time]);return _.reduce((Z,Y)=>{const G=Z[Z.length-1];return G&&JSON.stringify(G[0].available_calendars)===JSON.stringify(Y.available_calendars)&&G[0].availability===Y.availability?G.push(Y):Z.push([Y]),Z},[]).map(Z=>{let Y="free";const G=Z[0].available_calendars.length,ve=G!==m.length&&G<m.length*k;return G===0||ve||P.required_participants.length&&!yo(_t,Z[0].available_calendars)?Z[0].availability===ge.CLOSED?Y="closed":Y="busy":G>0&&G<m.length&&(Y="partial"),{start_time:Z[0].start_time,offset:x(Z[0].start_time)*100,status:Y,height:(x(Z[Z.length-1].end_time)-x(Z[0].start_time))*100,end_time:Z[Z.length-1].end_time,slots:Z.length,available_calendars:Z[0].available_calendars}})}function Fn(_,k,x){let V=mi().domain([_,k]).ticks(je).filter(Z=>P.show_weekends?!0:Z.getDay()!==6&&Z.getDay()!==0);return!P.show_as_week&&!P.show_weekends&&V.length<Et?x?Fn(je.offset(_,-1),k,!0):Fn(_,je.offset(k,1)):V}function fa(_){return m.forEach(k=>{let x=_.filter(V=>{var Z;return V.available_calendars.includes((Z=k.account)===null||Z===void 0?void 0:Z.emailAddress)});_.length-x.length>P.overbooked_threshold*_.length/100&&x.forEach(V=>{V.available_calendars=V.available_calendars.filter(Z=>{var Y;return Z!==((Y=k.account)===null||Y===void 0?void 0:Y.emailAddress)}),V.available_calendars.length?V.availability===ge.FREE&&V.available_calendars.length!==m.length&&(V.availability=ge.PARTIAL):V.availability=ge.BUSY})}),_}let he,tn=[],Nt=[],Ar,nn=[],rn=[];function vt(_=rn,k=re){return{body:{emails:_,free_busy:[],duration_minutes:5,interval_minutes:5,start_time:Gt(new Date(new Date(xt).setHours(P.start_hour))).getTime()/1e3,end_time:Gt(new Date(new Date(vn).setHours(P.end_hour))).getTime()/1e3,round_robin:"max-availability"},component_id:ne,access_token:k}}let Ze=[],_t=[];function er(_=!1){var k;return z(this,void 0,void 0,function*(){n(10,Xt=!0);let x=[],V=rn.map(Z=>({email:Z}));if(P.booking_user_email&&P.booking_user_token&&V.push({email:P.booking_user_email,token:P.booking_user_token}),Array.isArray(V)&&V.length>0){const Z=yield E[JSON.stringify(Object.assign(Object.assign({},vt(V.map(G=>G.email),re)),{forceReload:_}))];if(n(10,Xt=!1),je(new Date(vt().body.start_time*1e3)).getTime()!==je(new Date(((k=Z.time_slots[0])===null||k===void 0?void 0:k.start_time)*1e3)).getTime())return;const Y={};for(const G of Z==null?void 0:Z.order)Y[G]=[];for(const G of Z.time_slots)G.emails.forEach(ve=>Y[ve].push(G));return Z==null||Z.order.forEach(G=>{x.push({emailAddress:G,account:{emailAddress:G},availability:ge.FREE,timeslots:Md(Y[G]).map(ve=>({start_time:new Date(ve.start_time*1e3),end_time:new Date(ve.end_time*1e3)}))})}),n(94,Ze=[...x]),Ze}})}function wi(_,k){var x;let V=k.slots.indexOf(_),Z=Nt.find(ve=>ve.start_time===_.start_time);const Y=k.slots[V-1],G=Y?ds(Y):!1;if(_.selectionPending&&gi(_)&&(!(Y==null?void 0:Y.selectionPending)||G)){let ve=((x=k.slots.find(Fe=>Fe.start_time>_.start_time&&(!Fe.selectionPending||ds(Fe))))===null||x===void 0?void 0:x.start_time)||k.slots[k.slots.length-1].end_time,qe=Xn(_.start_time).replace(" ",""),ot=Xn(ve).replace(" ","");return`${qe} - ${ot}`}else if(Z){let ve=Xn(Z.start_time),qe=Xn(Z.end_time);return`${ve.replace(" ","")} - ${qe.replace(" ","")}`}else return null}let Ee,_n=[],Fr=[];function ki(_,k){const x=_.target.closest(".epoch"),V=_.target.closest(".epochs");if(!x||!V||!Ee)return;n(15,_n=m.map(G=>{var ve,qe;return Object.assign(Object.assign({},G.account),{given_name:(ve=G.account)===null||ve===void 0?void 0:ve.firstName,surname:(qe=G.account)===null||qe===void 0?void 0:qe.lastName,isAvailable:!!k.available_calendars.find(ot=>{var Fe;return ot===((Fe=G==null?void 0:G.account)===null||Fe===void 0?void 0:Fe.emailAddress)})})}).sort((G,ve)=>G.isAvailable===ve.isAvailable?G.emailAddress.localeCompare(ve.emailAddress):G.isAvailable?-1:1)),P.attendees_to_show>0&&n(16,Fr=_n.slice(0,P.attendees_to_show));const Z=An.getBoundingClientRect(),Y=_.target.getBoundingClientRect();n(8,Ee.style.left=`${Y.left-Y.width/2-(Z.left+Z.width)}px`,Ee),n(8,Ee.style.top=`${x.offsetTop+V.offsetTop+_.target.offsetHeight+_.target.offsetTop+5}px`,Ee),n(8,Ee.style.display="block",Ee)}function da(){Ee&&(n(8,Ee.style.display="none",Ee),Ee.classList.remove("invert-y"))}function ha(_,k){const x=["contact"];return _.isAvailable||x.push("unavailable"),k!==Fr.length-1&&x.push("divider"),x.join(" ")}function tr(){P.show_as_week&&!f?n(1,P.start_date=jn.offset(vn,1),P):n(1,P.start_date=je.offset(vn,1),P),pt&&$t("eventOptionsReady",{slots:[]})}function Ct(){if(P.show_as_week&&!f)n(1,P.start_date=jn.offset(xt,-1),P);else{let _=Fn(je.offset(xt,-Et),je.offset(vn,-Et),!0);n(1,P.start_date=_[0],P)}pt&&$t("eventOptionsReady",{slots:[]})}let It=!1,Ke=!1,yt=null,ze=null,Ln=!1,yn=null,pn=!1;function Lr(){he.forEach(_=>_.slots.filter(k=>k.selectionPending).forEach(k=>{k.selectionPending=!1}))}function Si(){Lr(),n(17,It=!1),Ke=!1,n(96,ze=null),yt=null,Ln=!1,n(97,an=null)}let an=null;function xe(_,k){P.allow_booking&&_.isBookable&&(yt=_,n(96,ze=k),_.selectionStatus===Pe.SELECTED?(Ln=!0,n(97,an=Nt.find(x=>_.start_time>=x.start_time&&_.end_time<=x.end_time)||null)):tn.length<P.max_bookable_slots&&gi(_)&&(_.selectionPending=!0))}function ma(_,k){if(_.isBookable&&(It||Ke)){if(Ln&&yt&&ze){let x=k.slots.indexOf(_)-ze.slots.indexOf(yt);Lr(),g==null||g.forEach(V=>{let Z=k.slots[ze.slots.indexOf(V)+x];Z&&(Z.selectionPending=!0)})}else{let x="forward";if(P.allow_booking&&k===ze&&yt){_.start_time<yt.start_time&&(x="backward"),k.slots.forEach(Y=>{(x==="forward"?Y.start_time>=yt.start_time&&Y.start_time<=_.start_time:Y.start_time<=yt.start_time&&Y.start_time>=_.start_time)?Y.selectionPending=gi(Y):Y.selectionPending&&(Y.selectionPending=!1)});const V=P.max_bookable_slots-(tn.length+k.slots.filter(Y=>Y.selectionPending||Y.selectionStatus===Pe.SELECTED).length),Z=k.slots.filter(Y=>Y.selectionPending);V<0&&(x==="forward"?Z.slice(V).forEach(Y=>Y.selectionPending=!1):Z.slice(0,-V).forEach(Y=>Y.selectionPending=!1))}}n(7,he=[...he])}}function bn(_){Ln?_&&(g==null||g.forEach(k=>{k.selectionStatus=Pe.UNSELECTED}),he.forEach(k=>k.slots.forEach(x=>{x.selectionPending&&gi(x)&&(x.hovering=!1,x.selectionStatus=Pe.SELECTED)}))):pt?n(38,B=null):he.forEach(k=>k.slots.forEach(x=>{x.selectionPending&&(x.selectionStatus=Pe.SELECTED,x.hovering=!1)})),n(7,he=[...he]),Si()}function nr(_){pt?(_.selectionStatus===Pe.SELECTED?n(39,me=null):n(39,me=Yt(_)),he.flatMap(k=>k.slots).forEach(k=>{k.selectionPending=!1,k.selectionStatus=Pe.UNSELECTED})):_.selectionStatus===Pe.SELECTED?_.selectionStatus=Pe.UNSELECTED:tn.length<P.max_bookable_slots&&(_.selectionStatus=Pe.SELECTED),n(7,he=[...he])}function Pn({event:_,slot:k,day:x}){k&&(pt?(he.flatMap(V=>V.slots).forEach(V=>{V.selectionPending=!1,V.selectionStatus=Pe.UNSELECTED}),me===Yt(k)?(n(39,me=null),n(7,he=[...he])):n(39,me=Yt(k))):((tn.length<P.max_bookable_slots||k.selectionStatus===Pe.SELECTED)&&(_ instanceof MouseEvent?n(17,It=!0):_ instanceof TouchEvent&&(Ke=!0)),xe(k,x)))}function Pr({event:_,slot:k,day:x}){pt?(he.flatMap(V=>V.slots).forEach(V=>{V.selectionPending=!1}),k&&n(38,B=Yt(k))):k&&(ma(k,x),!It&&k.selectionStatus!==Pe.SELECTED&&_ instanceof MouseEvent&&(k.hovering=!0))}function Un(_){(It||Ke)&&(document.activeElement instanceof HTMLElement&&document.activeElement.blur(),bn(_))}function ga(_){if(_ instanceof TouchEvent&&_.touches.length===1&&_.changedTouches.length===1){const{pageX:k,pageY:x}=_.changedTouches[0],V=Object.entries(In).find(([Y,G])=>G.x>k),Z=Object.entries(Kt).find(([Y,G])=>G.y>x);if(Z){const Y=V?Number(V[0]):he.length,G=he[Y-1],[ve]=Z;n(18,yn=G.slots[Number(ve)-1]),Pr({event:_,slot:yn,day:G})}}}const Rn=Yf(ga,100);function Ti({code:_,currentDay:k,slotIndex:x}){var V,Z,Y,G,ve,qe;if(_==="ArrowDown")(V=Xe[k.toLocaleDateString()][x+1])===null||V===void 0||V.focus();else if(_==="ArrowUp")(Z=Xe[k.toLocaleDateString()][x-1])===null||Z===void 0||Z.focus();else if(_==="ArrowLeft"){const ot=Dt.indexOf(k.toLocaleDateString()),Fe=Dt[ot-1];(G=(Y=Xe[Fe])===null||Y===void 0?void 0:Y[x])===null||G===void 0||G.focus()}else if(_==="ArrowRight"){const ot=Dt.indexOf(k.toLocaleDateString()),Fe=Dt[ot+1];(qe=(ve=Xe[Fe])===null||ve===void 0?void 0:ve[x])===null||qe===void 0||qe.focus()}}function va(_,k){return typeof Xe[k.dateKey]=="undefined"&&(Dt=Dt.concat(k.dateKey).sort(),Xe[k.dateKey]=[]),Xe[k.dateKey][k.slotIndex]=_,{destroy(){const x=Xe[k.dateKey].indexOf(_);x>=0&&Xe[k.dateKey].splice(x,1),Xe[k.dateKey].length===0&&(Dt=Dt.filter(V=>V!==k.dateKey),delete Xe[k.dateKey])}}}let pt=!1,rr=[],ir=[];function Yt(_){var k;return(k=rr.find(x=>_.isBookable&&_.start_time>=x[0].start_time&&_.end_time<=x[x.length-1].end_time))!==null&&k!==void 0?k:null}function _a(_){Tn[_?"unshift":"push"](()=>{An=_,n(12,An)})}const ya=(_,k)=>ki(k,_),pa=(_,k,x)=>{pn||Pn({event:x,slot:_,day:k})},ba=(_,k,x)=>{pn||Pr({event:x,slot:_,day:k})},Ue=(_,k,x)=>n(7,k[x].hovering=!1,he),wn=_=>{!pn&&It&&Un(_)},on=(_,k,x)=>{(x.code==="Space"||x.code==="Enter")&&(xe(_,k),Fi().then(()=>bn(k)))},kn=(_,k,{code:x})=>{x.startsWith("Arrow")&&Ti({code:x,currentDay:_.timestamp,slotIndex:k})},Oi=(_,k,x)=>{x.touches.length===1&&x.changedTouches.length===1&&(n(19,pn=!0),Pn({event:x,slot:_,day:k}))},Mi=(_,k,x)=>{if(x.touches.length===0&&x.changedTouches.length===1){const{pageX:Z,pageY:Y}=x.changedTouches[0],G=Object.entries(Kt).find(([ve,qe])=>qe.y>Y);if(G){const[ve]=G;n(18,yn=_.slots[Number(ve)])}k!==yn&&Un(_)}},Ur=_=>nr(_);function Di(_,k){Tn[_?"unshift":"push"](()=>{gt[k]=_,n(3,gt),n(1,P),n(86,jt),n(155,e),n(2,Mt),n(7,he),n(101,h),n(9,m),n(103,u),n(95,_t),n(1,P),n(38,B),n(39,me),n(88,xt),n(102,f),n(87,Et),n(85,M),n(94,Ze),n(92,nn),n(44,Be),n(86,jt),n(155,e),n(2,Mt),n(104,c),n(80,Q),n(81,ue),n(82,se),n(83,F),n(84,ee),n(5,en)})}function Rr(_){Tn[_?"unshift":"push"](()=>{Cr=_,n(13,Cr)})}function wa(){en=this.clientWidth,n(5,en)}function ka(_){Tn[_?"unshift":"push"](()=>{Ee=_,n(8,Ee),n(139,z),n(4,nt)})}function Sa(_){Tn[_?"unshift":"push"](()=>{nt=_,n(4,nt)})}function Ta(){gn=this.clientHeight,n(6,gn)}const Oa=()=>bn(null);return t.$$set=_=>{n(155,e=rt(rt({},e),Pt(_))),"id"in _&&n(0,ne=_.id),"access_token"in _&&n(40,re=_.access_token),"event_to_hover"in _&&n(38,B=_.event_to_hover),"event_to_select"in _&&n(39,me=_.event_to_select),"allow_booking"in _&&n(41,De=_.allow_booking),"allow_date_change"in _&&n(42,Oe=_.allow_date_change),"attendees_to_show"in _&&n(43,Ye=_.attendees_to_show),"booking_user_email"in _&&n(44,Be=_.booking_user_email),"booking_user_token"in _&&n(45,et=_.booking_user_token),"busy_color"in _&&n(46,Se=_.busy_color),"calendars"in _&&n(47,Ce=_.calendars),"capacity"in _&&n(48,Ht=_.capacity),"closed_color"in _&&n(49,Me=_.closed_color),"date_format"in _&&n(50,Ie=_.date_format),"dates_to_show"in _&&n(51,Ne=_.dates_to_show),"participants"in _&&n(52,dt=_.participants),"end_hour"in _&&n(53,Tt=_.end_hour),"event_buffer"in _&&n(54,tt=_.event_buffer),"free_color"in _&&n(55,we=_.free_color),"mandate_top_of_hour"in _&&n(56,dn=_.mandate_top_of_hour),"max_bookable_slots"in _&&n(57,R=_.max_bookable_slots),"max_book_ahead_days"in _&&n(58,K=_.max_book_ahead_days),"min_book_ahead_days"in _&&n(59,D=_.min_book_ahead_days),"open_hours"in _&&n(60,T=_.open_hours),"overbooked_threshold"in _&&n(61,W=_.overbooked_threshold),"partial_bookable_ratio"in _&&n(62,le=_.partial_bookable_ratio),"partial_color"in _&&n(63,Ae=_.partial_color),"required_participants"in _&&n(64,We=_.required_participants),"selected_color"in _&&n(65,ht=_.selected_color),"show_as_week"in _&&n(66,hn=_.show_as_week),"show_header"in _&&n(67,vi=_.show_header),"show_hosts"in _&&n(68,Nr=_.show_hosts),"show_ticks"in _&&n(69,_i=_.show_ticks),"show_weekends"in _&&n(70,Qt=_.show_weekends),"slot_size"in _&&n(71,mt=_.slot_size),"start_date"in _&&n(72,yi=_.start_date),"start_hour"in _&&n(73,Wt=_.start_hour),"timezone"in _&&n(74,Ot=_.timezone),"view_as"in _&&n(75,Zt=_.view_as),"events"in _&&n(76,Kn=_.events)},t.$$.update=()=>{if(t.$$.dirty[3]&8192&&n(22,a=!!Object.keys(A).length),JSON.stringify(jt)!==JSON.stringify(e)&&(n(1,P=Ri(e,Mt,Nn)),n(86,jt=e)),t.$$.dirty[0]&10&&(P.dates_to_show||P.show_ticks||P.show_as_week||P.show_weekends)&&(n(3,gt=gt.filter(_=>!!_)),mn=!0),t.$$.dirty[0]&2&&(P.dates_to_show||P.show_as_week||P.show_weekends||P.start_hour||P.end_hour||P.slot_size||P.show_header||P.allow_date_change)&&($n=!0),t.$$.dirty[3]&8192&&Object.keys(A).length&&$t("onError",A),t.$$.dirty[0]&32&&n(104,c=Math.floor(en/Td)||1),t.$$.dirty[0]&2|t.$$.dirty[3]&2048&&n(87,Et=c<P.dates_to_show||P.show_as_week?c:P.dates_to_show),t.$$.dirty[0]&2|t.$$.dirty[3]&2048&&n(102,f=P.show_as_week&&c<7),t.$$.dirty[0]&2|t.$$.dirty[3]&512&&n(88,xt=(()=>P.show_as_week&&!f?jn.floor(P.start_date):je.floor(P.start_date))()),t.$$.dirty[0]&2|t.$$.dirty[2]&100663296|t.$$.dirty[3]&512&&n(101,h=(()=>(P.show_weekends||!P.show_weekends)&&Fn(xt,P.show_as_week?je.offset(xt,f?Et-1:6):je.offset(xt,Et-1)))()),t.$$.dirty[3]&256&&(vn=h[h.length-1]),t.$$.dirty[0]&2|t.$$.dirty[2]&8126464&&((n(80,Q=P.events)===null||Q===void 0?void 0:Q.length)&&(n(81,ue=P.events)===null||ue===void 0?void 0:ue.length)>1?(n(92,nn=n(82,se=P.events)===null||se===void 0?void 0:se.flatMap(_=>_.participantEmails)),n(93,rn=[]),n(94,Ze=[])):(n(83,F=P.events)===null||F===void 0?void 0:F.length)===1&&(n(93,rn=n(84,ee=P.events)===null||ee===void 0?void 0:ee.flatMap(_=>_.participantEmails)),n(92,nn=[]),$t("eventOptionsReady",{slots:[]}))),t.$$.dirty[0]&2|t.$$.dirty[2]&1082130432|t.$$.dirty[3]&2&&n(9,m=[...n(85,M=P.calendars)!==null&&M!==void 0?M:[],...Ze,...nn.map(_=>({emailAddress:_,account:{emailAddress:_},availability:ge.FREE,timeslots:[]}))]),t.$$.dirty[0]&2|t.$$.dirty[1]&8192&&n(95,_t=[...new Set([...P.required_participants,Be])]),t.$$.dirty[0]&514|t.$$.dirty[3]&1284&&n(7,he=h.map(_=>{const k=fa(gd(_,m,u,_t,P));return{epochs:ca(k,P.partial_bookable_ratio),slots:k,timestamp:_}})),t.$$.dirty[0]&128|t.$$.dirty[1]&128&&B&&(he.flatMap(_=>_.slots).filter(_=>B&&_.start_time>=B[0].start_time&&_.end_time<=B[B.length-1].end_time).forEach(_=>_.selectionPending=!0),n(7,he=[...he])),t.$$.dirty[0]&128|t.$$.dirty[1]&256&&me&&(n(100,ir=me),he.flatMap(_=>_.slots).filter(_=>me&&_.start_time>=me[0].start_time&&_.end_time<=me[me.length-1].end_time).forEach(_=>{_.selectionPending=!1,_.selectionStatus=Pe.SELECTED}),n(7,he=[...he])),t.$$.dirty[0]&192|t.$$.dirty[2]&196608&&n(14,Ir=bi(gn,n(79,X=(n(78,H=he[0])!==null&&H!==void 0?H:{}).slots)===null||X===void 0?void 0:X.map(_=>_.start_time))),t.$$.dirty[0]&128&&n(89,tn=(he!=null?he:[]).map(_=>_.slots.filter(k=>k.selectionStatus===Pe.SELECTED)).flat()),t.$$.dirty[2]&134217728&&n(90,Nt=tn.sort((_,k)=>_.start_time.getTime()-k.start_time.getTime()).reduce((_,k)=>{const x=_[_.length-1];return x&&k.start_time.getTime()===x.end_time.getTime()?x.end_time=k.end_time:_.push(Object.assign({},k)),_},[])),t.$$.dirty[0]&2|t.$$.dirty[2]&805306368|t.$$.dirty[3]&128&&JSON.stringify(Nt)!==JSON.stringify(Ar)){let _=Nt;Nt.length===1&&(ir.length?_=ir.map(k=>(k.available_calendars=k.emails,Object.assign(Object.assign({},Nt[0]),k))):_=_.map(k=>Object.assign(Object.assign({},P.events[0]),k))),$t("timeSlotChosen",{timeSlots:_.map(k=>Object.assign({},k))}),n(91,Ar=Nt)}if(t.$$.dirty[0]&2|t.$$.dirty[3]&1&&(()=>z(void 0,void 0,void 0,function*(){var _;(Array.isArray(rn)&&rn.length>0||P.booking_user_email&&P.booking_user_token)&&((_=P.events)===null||_===void 0?void 0:_.length)===1&&(yield er())}))(),t.$$.dirty[0]&1|t.$$.dirty[1]&512,t.$$.dirty[0]&272&&(()=>z(void 0,void 0,void 0,function*(){yield Fi();const _=nt==null?void 0:nt.getBoundingClientRect(),k=Ee==null?void 0:Ee.getBoundingClientRect();(k==null?void 0:k.bottom)>(_==null?void 0:_.bottom)&&(n(8,Ee.style.top=`${Ee.offsetTop-Ee.offsetHeight-30}px`,Ee),Ee.classList.add("invert-y"))}))(),t.$$.dirty[3]&24&&(g=an?ze==null?void 0:ze.slots.filter(_=>_.start_time>=an.start_time&&_.end_time<=an.end_time):[]),t.$$.dirty[0]&3|t.$$.dirty[2]&1073741824){if(ne&&nn.length&&P.capacity)try{ct(ne,{name:"IncompatibleProperties",message:"Setting `capacity` currently does not work when fetching availability directly from Nylas. Please pass `calendars` data directly to use `capacity`."})}catch(_){console.error(_)}else if(P.capacity&&P.capacity<1)try{ct(ne,{name:"IncompatibleProperties",message:"`capacity` must be an integer of 1 or more"})}catch(_){console.error(_)}}t.$$.dirty[0]&514&&n(21,p=qo().domain([0,m.length/2,m.length]).range([P.busy_color,P.partial_color,P.free_color])),t.$$.dirty[0]&2&&n(98,pt=P.events.length>1),t.$$.dirty[0]&3|t.$$.dirty[1]&4194816|t.$$.dirty[2]&2048|t.$$.dirty[3]&4384&&(()=>z(void 0,void 0,void 0,function*(){if(ne&&Array.isArray(P.events)&&pt&&h.length){let _=[];P.start_hour&&P.end_hour&&(_=hd(P.start_hour,P.end_hour,P.events));const k={events:P.events,dayRange:h,startHour:Wt,endHour:Tt,openHours:_};let x=yield md(k);const V=yield S[JSON.stringify(Object.assign({body:x,component_id:ne,access_token:re}))].then(Z=>(n(99,rr=Z),Z));return $t("eventOptionsReady",{slots:V}),V}}))(),t.$$.dirty[3]&96&&n(20,w=_=>pt?_.slots.filter(k=>rr.find(x=>Yt(k))):_.slots.filter(k=>k.availability===ge.FREE||k.availability===ge.PARTIAL))},n(103,u=""),e=Pt(e),[ne,P,Mt,gt,nt,en,gn,he,Ee,m,Xt,Kt,An,Cr,Ir,_n,Fr,It,yn,pn,w,p,a,wi,ki,da,ha,tr,Ct,xe,bn,nr,Pn,Pr,Un,Rn,Ti,va,B,me,re,De,Oe,Ye,Be,et,Se,Ce,Ht,Me,Ie,Ne,dt,Tt,tt,we,dn,R,K,D,T,W,le,Ae,We,ht,hn,vi,Nr,_i,Qt,mt,yi,Wt,Ot,Zt,Kn,Cn,H,X,Q,ue,se,F,ee,M,jt,Et,xt,tn,Nt,Ar,nn,rn,Ze,_t,ze,an,pt,rr,ir,h,f,u,c,S,A,_a,ya,pa,ba,Ue,wn,on,kn,Oi,Mi,Ur,Di,Rr,wa,ka,Sa,Ta,Oa]}class Hs extends vr{constructor(e){super();this.shadowRoot.innerHTML='<style>*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}main{--black:#161717;--grey-dark:#636671;--grey:#bdc0cb;--grey-lighter:#dfe1e8;--grey-dark-warm:#9fa4b5;--grey-lightest:#f7f7f8;--grey-background:#f0f1f5;--white:#ffffff;--blue:#002db4;--blue-lighter:#f0f3ff;--red:#ee3248;--red-lighter:#ffeef0;--fs-12:0.75rem;--fs-14:0.875rem;--fs-16:1rem;--black-90:#2c2e2e;--grey-light:#f7f7f8;--grey-warm:#cbcbcb}main{height:100%;overflow:hidden;display:grid;font-family:Arial, Helvetica, sans-serif;position:relative;z-index:1;grid-template-rows:auto 1fr;gap:1rem}main.ticked{grid-template-columns:70px 1fr}main.timezone{grid-template-columns:70px 70px 1fr}main.hide-header{grid-template-rows:auto}main.hide-header>header{display:none}main>header{grid-column:-1/1;display:grid;grid-template-columns:1fr;align-items:baseline}main>header.dated{grid-template-columns:1fr auto}main>header h2{font-size:1.5rem;font-weight:700}main>header .change-dates{display:grid;grid-template-columns:1fr 1fr;gap:1rem}main>header .change-dates button{background-color:#f7f7f8;border:1px solid #e3e8ee;cursor:pointer;display:flex}main>header .change-dates button:hover{background-color:#e3e8ee}main>header .legend{padding:0.5rem 0 0;color:#636671}main>header .legend span{display:inline-block;margin-right:1rem}main>header .legend span::before{content:"";border-radius:8px;height:12px;width:12px;margin-right:0.25rem;display:inline-block;background-color:black}main>header .legend span.available::before{background-color:var(--free-color, #36d2addf)}main>header .legend span.not-available::before{background-color:var(--busy-color, #36d2addf)}main>header .legend span.closed::before{background-color:var(--closed-color, #999)}main>header .legend span.partially-available::before{background-color:var(--partial-color, #ffff7566)}main .timezone-ticks{position:relative}main .timezone-ticks .timezone{font-size:0.8rem;left:25%;position:absolute;top:5px}main .days{display:grid;gap:0rem;grid-auto-flow:column;grid-auto-columns:1fr;height:100%;overflow:auto}@keyframes progress{0%{width:0}100%{width:100%}}main .days.loading::after{background-color:var(--blue-lighter);z-index:-1}main .days.loading::before{animation:progress 2s ease-in-out infinite;background-color:var(--blue)}main .days.loading::before,main .days.loading::after{top:36px;left:0;content:"";display:block;height:4px;position:absolute}main .days.timezone.loading::before,main .days.timezone.loading::after{left:180px}main .days.loading.error{animation:none}@keyframes progress{0%{width:0}100%{width:100%}}main .days.loading.error::after{background-color:var(--red);z-index:-1}main .days.loading.error::before{animation:progress 2s ease-in-out infinite;background-color:var(--red)}main .days.loading.error::before,main .days.loading.error::after{top:36px;left:0;content:"";display:block;height:4px;position:absolute}main .days.schedule{overflow:hidden}main .days.list .day{display:block}main .days.list .day header{position:sticky;top:0;margin-top:0;background-color:white;height:40px;z-index:2}main .ticks{display:grid;grid-auto-flow:row;grid-auto-rows:auto;height:calc(100% - 40px);list-style-type:none;margin:0;padding:40px 0 0 0;overflow:hidden;font-size:0.8rem;font-family:sans-serif}main .ticks li{display:block;position:relative;height:auto;overflow:hidden;padding:0 0.25rem;display:grid;justify-content:right}main .day{display:grid;grid-template-rows:40px 1fr;position:relative}main .day header{width:100%;overflow:hidden}main .day header h2{margin:0;padding:0;display:grid;grid-template-columns:auto 1fr;gap:0.5rem;height:30px;line-height:1.875;font-size:1rem;font-weight:200}main .day header h2 .date{border-radius:15px;background:var(--blue);color:white;font-weight:bold;display:block;width:30px;height:30px;line-height:1.875;text-align:center}main .day .epochs{position:absolute;top:40px;width:100%;height:calc(100% - 40px)}main .day .epochs .epoch{position:absolute;width:100%}main .day .epochs .epoch .inner{margin:0rem;height:calc(100% - 0.5rem);padding:0.25rem 0;width:8px;margin:0}main .day .epochs .epoch.busy{background-image:linear-gradient(45deg, var(--busy-color-lightened) 12.5%, white 12.5%, white 50%, var(--busy-color-lightened) 50%, var(--busy-color-lightened) 62.5%, white 62.5%, white 100%);background-size:5.66px 5.66px}main .day .epochs .epoch.closed{background-image:linear-gradient(45deg, var(--closed-color-lightened) 12.5%, white 12.5%, white 50%, var(--closed-color-lightened) 50%, var(--closed-color-lightened) 62.5%, white 62.5%, white 100%);background-size:5.66px 5.66px}main .day .epochs .epoch.busy .inner{background-color:var(--busy-color, #ff647566)}main .day .epochs .epoch.closed .inner{background-color:var(--closed-color, #ff647566)}main .day .epochs .epoch.partial .inner{background-color:var(--partial-color, #ffff7566)}main .day .epochs .epoch.free .inner{background-color:var(--free-color, #36d2addf)}main .day .epochs .epoch .available-calendars{display:none;position:absolute;z-index:2;left:10px}main .day .epochs .epoch .available-calendars span{background:rgba(0, 0, 0, 0.5);display:inline-block;margin:0;padding:0.25rem;color:white;border-radius:4px;font-size:0.6rem}main .day:hover .epoch.partial .available-calendars{display:block}main .day .slots{display:grid;grid-auto-flow:row;grid-auto-rows:auto;height:100%;list-style-type:none;margin:0;padding:0;border:1px solid rgba(0, 0, 0, 0.1);border-bottom:none}main .day .slots .slot{border:none;border-bottom:1px solid rgba(0, 0, 0, 0.05);background:transparent;position:relative;align-items:center;justify-content:center;align-content:center;font-family:sans-serif;touch-action:none}main .day .slots .slot.selected{background-color:var(--selected-color, var(--blue));box-shadow:none;border-bottom:1px solid transparent;z-index:3;margin-left:9px;margin-right:1px}main .day .slots .slot.pending{background-color:var(--selected-color-lightened);z-index:3;margin-left:9px;margin-right:1px}main .day .slots .slot.hovering{margin-left:9px;margin-right:1px;z-index:3}main .day .slots .slot.selected+.selected,main .day .slots .slot.pending+.pending{z-index:2}main .day .slots .slot.busy:not(.pending),main .day .slots .slot.closed:not(.pending){cursor:not-allowed;margin-left:8px}main .day .slots .slot .selected-heading{position:absolute;top:3px;left:0;color:white;text-shadow:1px 1px 2px #002db4ff;font-weight:300;padding:0 3px;font-size:0.8rem;z-index:3;text-align:left;font-family:system-ui, sans-serif}main .day .slots .slot.pending .selected-heading{width:auto}main .day .slots .slot.hovering:not(.selected) .selected-heading{color:var(--selected-color);text-shadow:none;top:0}main .day .slot-list{display:grid;grid-auto-rows:50px;grid-auto-flow:row;overflow:auto;gap:0.25rem;list-style-type:none;margin:0;padding:0}main .day .slot-list .slot{border-radius:4px;background:transparent;position:relative;align-items:center;justify-content:center;align-content:center;font-family:sans-serif;border:1px solid rgba(0, 0, 0, 0.1);box-shadow:none !important}@media(hover: hover) and (pointer: fine){main .day .slot-list .slot:hover{box-shadow:none;background-color:rgba(0, 0, 0, 0.1)}}main .day .slot-list .slot.selected{background:var(--blue);color:white}main .day .slot-list .slot .partial{display:block;font-size:0.6rem}main button.confirm{grid-column:-1/1}main.allow_booking .slot:not(.busy):hover,main.allow_booking .slot:not(.busy):focus,main.allow_booking .slot:not(.closed):hover,main.allow_booking .slot:not(.closed):focus{box-shadow:0 0 1px 0 var(--selected-color);cursor:pointer}main .attendee-overlay{background-color:white;border-radius:4px;box-shadow:0 4px 14px 0 black;display:none;font-size:14px;max-width:12rem;padding:1.2rem 1rem;position:absolute;z-index:3}main .attendee-overlay::before{content:"";width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid white;position:absolute;left:5.5rem;top:-10px}main .attendee-overlay.invert-y::before{display:none}main .attendee-overlay.invert-y::after{content:"";width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid white;position:absolute;left:5.5rem;bottom:-10px}main .attendee-overlay .attendee-list .contact{display:grid;grid-template-columns:40px auto;padding:0.6rem 0}main .attendee-overlay .attendee-list .contact.divider{border-bottom:1px solid #979797}main .attendee-overlay .attendee-list .contact.unavailable{filter:grayscale(80%);opacity:50%}main .attendee-overlay .attendee-list .contact .default-avatar{background:#002db4;border-radius:50%;color:#fff;font-family:sans-serif;font-size:1rem;font-weight:bold;height:32px;line-height:35px;text-align:center;text-transform:uppercase;width:32px}main .attendee-overlay .attendee-list .contact .contact-details{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}main .attendee-overlay .attendee-list .contact .contact-details .name{font-weight:bold;display:block}main .attendee-overlay .attendee-list .icon{position:relative;top:-1.3rem;left:1.2rem;height:0;width:0}main .attendee-overlay .more-attendees{font-weight:bold;display:inline-block;padding-top:1rem}</style>',un(this,{target:this.shadowRoot,props:Kr(this.attributes),customElement:!0},Dd,Sd,sn,{id:0,access_token:40,event_to_hover:38,event_to_select:39,allow_booking:41,allow_date_change:42,attendees_to_show:43,booking_user_email:44,booking_user_token:45,busy_color:46,calendars:47,capacity:48,closed_color:49,date_format:50,dates_to_show:51,participants:52,end_hour:53,event_buffer:54,free_color:55,mandate_top_of_hour:56,max_bookable_slots:57,max_book_ahead_days:58,min_book_ahead_days:59,open_hours:60,overbooked_threshold:61,partial_bookable_ratio:62,partial_color:63,required_participants:64,selected_color:65,show_as_week:66,show_header:67,show_hosts:68,show_ticks:69,show_weekends:70,slot_size:71,start_date:72,start_hour:73,timezone:74,view_as:75,events:76,reload:77},null,[-1,-1,-1,-1,-1,-1]),e&&(e.target&&oe(e.target,this,e.anchor),e.props&&(this.$set(e.props),te()))}static get observedAttributes(){return["id","access_token","event_to_hover","event_to_select","allow_booking","allow_date_change","attendees_to_show","booking_user_email","booking_user_token","busy_color","calendars","capacity","closed_color","date_format","dates_to_show","participants","end_hour","event_buffer","free_color","mandate_top_of_hour","max_bookable_slots","max_book_ahead_days","min_book_ahead_days","open_hours","overbooked_threshold","partial_bookable_ratio","partial_color","required_participants","selected_color","show_as_week","show_header","show_hosts","show_ticks","show_weekends","slot_size","start_date","start_hour","timezone","view_as","events","reload"]}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),te()}get access_token(){return this.$$.ctx[40]}set access_token(e){this.$$set({access_token:e}),te()}get event_to_hover(){return this.$$.ctx[38]}set event_to_hover(e){this.$$set({event_to_hover:e}),te()}get event_to_select(){return this.$$.ctx[39]}set event_to_select(e){this.$$set({event_to_select:e}),te()}get allow_booking(){return this.$$.ctx[41]}set allow_booking(e){this.$$set({allow_booking:e}),te()}get allow_date_change(){return this.$$.ctx[42]}set allow_date_change(e){this.$$set({allow_date_change:e}),te()}get attendees_to_show(){return this.$$.ctx[43]}set attendees_to_show(e){this.$$set({attendees_to_show:e}),te()}get booking_user_email(){return this.$$.ctx[44]}set booking_user_email(e){this.$$set({booking_user_email:e}),te()}get booking_user_token(){return this.$$.ctx[45]}set booking_user_token(e){this.$$set({booking_user_token:e}),te()}get busy_color(){return this.$$.ctx[46]}set busy_color(e){this.$$set({busy_color:e}),te()}get calendars(){return this.$$.ctx[47]}set calendars(e){this.$$set({calendars:e}),te()}get capacity(){return this.$$.ctx[48]}set capacity(e){this.$$set({capacity:e}),te()}get closed_color(){return this.$$.ctx[49]}set closed_color(e){this.$$set({closed_color:e}),te()}get date_format(){return this.$$.ctx[50]}set date_format(e){this.$$set({date_format:e}),te()}get dates_to_show(){return this.$$.ctx[51]}set dates_to_show(e){this.$$set({dates_to_show:e}),te()}get participants(){return this.$$.ctx[52]}set participants(e){this.$$set({participants:e}),te()}get end_hour(){return this.$$.ctx[53]}set end_hour(e){this.$$set({end_hour:e}),te()}get event_buffer(){return this.$$.ctx[54]}set event_buffer(e){this.$$set({event_buffer:e}),te()}get free_color(){return this.$$.ctx[55]}set free_color(e){this.$$set({free_color:e}),te()}get mandate_top_of_hour(){return this.$$.ctx[56]}set mandate_top_of_hour(e){this.$$set({mandate_top_of_hour:e}),te()}get max_bookable_slots(){return this.$$.ctx[57]}set max_bookable_slots(e){this.$$set({max_bookable_slots:e}),te()}get max_book_ahead_days(){return this.$$.ctx[58]}set max_book_ahead_days(e){this.$$set({max_book_ahead_days:e}),te()}get min_book_ahead_days(){return this.$$.ctx[59]}set min_book_ahead_days(e){this.$$set({min_book_ahead_days:e}),te()}get open_hours(){return this.$$.ctx[60]}set open_hours(e){this.$$set({open_hours:e}),te()}get overbooked_threshold(){return this.$$.ctx[61]}set overbooked_threshold(e){this.$$set({overbooked_threshold:e}),te()}get partial_bookable_ratio(){return this.$$.ctx[62]}set partial_bookable_ratio(e){this.$$set({partial_bookable_ratio:e}),te()}get partial_color(){return this.$$.ctx[63]}set partial_color(e){this.$$set({partial_color:e}),te()}get required_participants(){return this.$$.ctx[64]}set required_participants(e){this.$$set({required_participants:e}),te()}get selected_color(){return this.$$.ctx[65]}set selected_color(e){this.$$set({selected_color:e}),te()}get show_as_week(){return this.$$.ctx[66]}set show_as_week(e){this.$$set({show_as_week:e}),te()}get show_header(){return this.$$.ctx[67]}set show_header(e){this.$$set({show_header:e}),te()}get show_hosts(){return this.$$.ctx[68]}set show_hosts(e){this.$$set({show_hosts:e}),te()}get show_ticks(){return this.$$.ctx[69]}set show_ticks(e){this.$$set({show_ticks:e}),te()}get show_weekends(){return this.$$.ctx[70]}set show_weekends(e){this.$$set({show_weekends:e}),te()}get slot_size(){return this.$$.ctx[71]}set slot_size(e){this.$$set({slot_size:e}),te()}get start_date(){return this.$$.ctx[72]}set start_date(e){this.$$set({start_date:e}),te()}get start_hour(){return this.$$.ctx[73]}set start_hour(e){this.$$set({start_hour:e}),te()}get timezone(){return this.$$.ctx[74]}set timezone(e){this.$$set({timezone:e}),te()}get view_as(){return this.$$.ctx[75]}set view_as(e){this.$$set({view_as:e}),te()}get events(){return this.$$.ctx[76]}set events(e){this.$$set({events:e}),te()}get reload(){return this.$$.ctx[77]}}return customElements.define("nylas-availability",Hs),Hs});
//# sourceMappingURL=index.js.map
