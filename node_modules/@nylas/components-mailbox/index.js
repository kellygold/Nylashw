(function(oi,T){typeof exports=="object"&&typeof module!="undefined"?module.exports=T():typeof define=="function"&&define.amd?define(T):(oi=typeof globalThis!="undefined"?globalThis:oi||self,oi.app=T())})(this,function(){"use strict";const oi=window.customElements.define.bind(window.customElements);window.customElements.define=(i,...e)=>{if(!customElements.get(i))return oi(i,...e)};function T(){}function te(i,e){for(const t in e)i[t]=e[t];return i}function Hl(i){return i&&typeof i=="object"&&typeof i.then=="function"}function ji(i){return i()}function an(){return Object.create(null)}function st(i){i.forEach(ji)}function Fi(i){return typeof i=="function"}function ze(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let wi;function on(i,e){return wi||(wi=document.createElement("a")),wi.href=e,i===wi.href}function Bl(i,e){return i!=i?e==e:i!==e}function sn(i){return Object.keys(i).length===0}function cn(i,...e){if(i==null)return T;const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Pt(i,e,t){i.$$.on_destroy.push(cn(e,t))}function be(i){const e={};for(const t in i)t[0]!=="$"&&(e[t]=i[t]);return e}let yi=!1;function Ul(){yi=!0}function zl(){yi=!1}function Vl(i,e,t,n){for(;i<e;){const r=i+(e-i>>1);t(r)<=n?i=r+1:e=r}return i}function Gl(i){if(i.hydrate_init)return;i.hydrate_init=!0;let e=i.childNodes;if(i.nodeName==="HEAD"){const s=[];for(let c=0;c<e.length;c++){const d=e[c];d.claim_order!==void 0&&s.push(d)}e=s}const t=new Int32Array(e.length+1),n=new Int32Array(e.length);t[0]=-1;let r=0;for(let s=0;s<e.length;s++){const c=e[s].claim_order,d=(r>0&&e[t[r]].claim_order<=c?r+1:Vl(1,r,u=>e[t[u]].claim_order,c))-1;n[s]=t[d]+1;const m=d+1;t[m]=s,r=Math.max(m,r)}const a=[],l=[];let o=e.length-1;for(let s=t[r]+1;s!=0;s=n[s-1]){for(a.push(e[s-1]);o>=s;o--)l.push(e[o]);o--}for(;o>=0;o--)l.push(e[o]);a.reverse(),l.sort((s,c)=>s.claim_order-c.claim_order);for(let s=0,c=0;s<l.length;s++){for(;c<a.length&&l[s].claim_order>=a[c].claim_order;)c++;const d=c<a.length?a[c]:null;i.insertBefore(l[s],d)}}function b(i,e){i.appendChild(e)}function me(i,e){if(yi){for(Gl(i),(i.actual_end_child===void 0||i.actual_end_child!==null&&i.actual_end_child.parentElement!==i)&&(i.actual_end_child=i.firstChild);i.actual_end_child!==null&&i.actual_end_child.claim_order===void 0;)i.actual_end_child=i.actual_end_child.nextSibling;e!==i.actual_end_child?(e.claim_order!==void 0||e.parentNode!==i)&&i.insertBefore(e,i.actual_end_child):i.actual_end_child=e.nextSibling}else(e.parentNode!==i||e.nextSibling!==null)&&i.appendChild(e)}function k(i,e,t){i.insertBefore(e,t||null)}function $e(i,e,t){yi&&!t?me(i,e):(e.parentNode!==i||e.nextSibling!=t)&&i.insertBefore(e,t||null)}function h(i){i.parentNode.removeChild(i)}function mt(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function w(i){return document.createElement(i)}function X(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function J(i){return document.createTextNode(i)}function B(){return J(" ")}function Ze(){return J("")}function se(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function Wl(i){return function(e){return e.preventDefault(),i.call(this,e)}}function Et(i){return function(e){return e.stopPropagation(),i.call(this,e)}}function f(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Ae(i,e){for(const t in e)f(i,t,e[t])}function M(i,e,t){e in i?i[e]=typeof i[e]=="boolean"&&t===""?!0:t:f(i,e,t)}function q(i){return Array.from(i.childNodes)}function Zl(i){i.claim_info===void 0&&(i.claim_info={last_index:0,total_claimed:0})}function Jl(i,e,t,n,r=!1){Zl(i);const a=(()=>{for(let l=i.claim_info.last_index;l<i.length;l++){const o=i[l];if(e(o)){const s=t(o);return s===void 0?i.splice(l,1):i[l]=s,r||(i.claim_info.last_index=l),o}}for(let l=i.claim_info.last_index-1;l>=0;l--){const o=i[l];if(e(o)){const s=t(o);return s===void 0?i.splice(l,1):i[l]=s,r?s===void 0&&i.claim_info.last_index--:i.claim_info.last_index=l,o}}return n()})();return a.claim_order=i.claim_info.total_claimed,i.claim_info.total_claimed+=1,a}function Yl(i,e,t,n){return Jl(i,r=>r.nodeName===e,r=>{const a=[];for(let l=0;l<r.attributes.length;l++){const o=r.attributes[l];t[o.name]||a.push(o.name)}a.forEach(l=>r.removeAttribute(l))},()=>n(e))}function ee(i,e,t){return Yl(i,e,t,X)}function pe(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Zt(i,e,t,n){i.style.setProperty(e,t,n?"important":"")}function Le(i,e,t){i.classList[t?"add":"remove"](e)}class Hi{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=w(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)k(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(h)}}function zt(i){const e={};for(const t of i)e[t.name]=t.value;return e}let si;function At(i){si=i}function xt(){if(!si)throw new Error("Function called outside component initialization");return si}function Xl(i){xt().$$.before_update.push(i)}function Bi(i){xt().$$.on_mount.push(i)}const ci=[],ki=[],Ei=[],dn=[],fn=Promise.resolve();let Ui=!1;function un(){Ui||(Ui=!0,fn.then(ne))}function mn(){return un(),fn}function zi(i){Ei.push(i)}const Vi=new Set;let Ti=0;function ne(){const i=si;do{for(;Ti<ci.length;){const e=ci[Ti];Ti++,At(e),Kl(e.$$)}for(At(null),ci.length=0,Ti=0;ki.length;)ki.pop()();for(let e=0;e<Ei.length;e+=1){const t=Ei[e];Vi.has(t)||(Vi.add(t),t())}Ei.length=0}while(ci.length);for(;dn.length;)dn.pop()();Ui=!1,Vi.clear(),At(i)}function Kl(i){if(i.fragment!==null){i.update(),st(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(zi)}}const Ci=new Set;let Vt;function je(){Vt={r:0,c:[],p:Vt}}function Fe(){Vt.r||st(Vt.c),Vt=Vt.p}function N(i,e){i&&i.i&&(Ci.delete(i),i.i(e))}function j(i,e,t,n){if(i&&i.o){if(Ci.has(i))return;Ci.add(i),Vt.c.push(()=>{Ci.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}}function Gt(i,e){const t=e.token={};function n(r,a,l,o){if(e.token!==t)return;e.resolved=o;let s=e.ctx;l!==void 0&&(s=s.slice(),s[l]=o);const c=r&&(e.current=r)(s);let d=!1;e.block&&(e.blocks?e.blocks.forEach((m,u)=>{u!==a&&m&&(je(),j(m,1,1,()=>{e.blocks[u]===m&&(e.blocks[u]=null)}),Fe())}):e.block.d(1),c.c(),N(c,1),c.m(e.mount(),e.anchor),d=!0),e.block=c,e.blocks&&(e.blocks[a]=c),d&&ne()}if(Hl(i)){const r=xt();if(i.then(a=>{At(r),n(e.then,1,e.value,a),At(null)},a=>{if(At(r),n(e.catch,2,e.error,a),At(null),!e.hasCatch)throw a}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,i),!0;e.resolved=i}}function Ai(i,e,t){const n=e.slice(),{resolved:r}=i;i.current===i.then&&(n[i.value]=r),i.current===i.catch&&(n[i.error]=r),i.block.p(n,t)}function et(i,e){const t={},n={},r={$$scope:1};let a=i.length;for(;a--;){const l=i[a],o=e[a];if(o){for(const s in l)s in o||(n[s]=1);for(const s in o)r[s]||(t[s]=o[s],r[s]=1);i[a]=o}else for(const s in l)r[s]=1}for(const l in n)l in t||(t[l]=void 0);return t}function Ye(i){i&&i.c()}function Je(i,e,t,n){const{fragment:r,on_mount:a,on_destroy:l,after_update:o}=i.$$;r&&r.m(e,t),n||zi(()=>{const s=a.map(ji).filter(Fi);l?l.push(...s):st(s),i.$$.on_mount=[]}),o.forEach(zi)}function We(i,e){const t=i.$$;t.fragment!==null&&(st(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ql(i,e){i.$$.dirty[0]===-1&&(ci.push(i),un(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Ve(i,e,t,n,r,a,l,o=[-1]){const s=si;At(i);const c=i.$$={fragment:null,ctx:null,props:a,update:T,not_equal:r,bound:an(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:an(),dirty:o,skip_bound:!1,root:e.target||s.$$.root};l&&l(c.root);let d=!1;if(c.ctx=t?t(i,e.props||{},(m,u,...y)=>{const g=y.length?y[0]:u;return c.ctx&&r(c.ctx[m],c.ctx[m]=g)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](g),d&&Ql(i,m)),u}):[],c.update(),d=!0,st(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){Ul();const m=q(e.target);c.fragment&&c.fragment.l(m),m.forEach(h)}else c.fragment&&c.fragment.c();e.intro&&N(i.$$.fragment),Je(i,e.target,e.anchor,e.customElement),zl(),ne()}At(s)}let Rt;typeof HTMLElement=="function"&&(Rt=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:i}=this.$$;this.$$.on_disconnect=i.map(ji).filter(Fi);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(i,e,t){this[i]=t}disconnectedCallback(){st(this.$$.on_disconnect)}$destroy(){We(this,1),this.$destroy=T}$on(i,e){const t=this.$$.callbacks[i]||(this.$$.callbacks[i]=[]);return t.push(e),()=>{const n=t.indexOf(e);n!==-1&&t.splice(n,1)}}$set(i){this.$$set&&!sn(i)&&(this.$$.skip_bound=!0,this.$$set(i),this.$$.skip_bound=!1)}});class tt{$destroy(){We(this,1),this.$destroy=T}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!sn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Jt=[];function ql(i,e){return{subscribe:vt(i,e).subscribe}}function vt(i,e=T){let t;const n=new Set;function r(o){if(ze(i,o)&&(i=o,t)){const s=!Jt.length;for(const c of n)c[1](),Jt.push(c,i);if(s){for(let c=0;c<Jt.length;c+=2)Jt[c][0](Jt[c+1]);Jt.length=0}}}function a(o){r(o(i))}function l(o,s=T){const c=[o,s];return n.add(c),n.size===1&&(t=e(r)||T),o(i),()=>{n.delete(c),n.size===0&&(t(),t=null)}}return{set:r,update:a,subscribe:l}}function $l(i,e,t){const n=!Array.isArray(i),r=n?[i]:i,a=e.length<2;return ql(t,l=>{let o=!1;const s=[];let c=0,d=T;const m=()=>{if(c)return;d();const y=e(n?s[0]:s,l);a?l(y):d=Fi(y)?y:T},u=r.map((y,g)=>cn(y,S=>{s[g]=S,c&=~(1<<g),o&&m()},()=>{c|=1<<g}));return o=!0,m(),function(){st(u),d()}})}function ea(){return vt({})}const Si=ea();var ta=Object.defineProperty,ia=Object.defineProperties,na=Object.getOwnPropertyDescriptors,hn=Object.getOwnPropertySymbols,ra=Object.prototype.hasOwnProperty,la=Object.prototype.propertyIsEnumerable,_n=(i,e,t)=>e in i?ta(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,aa=(i,e)=>{for(var t in e||(e={}))ra.call(e,t)&&_n(i,t,e[t]);if(hn)for(var t of hn(e))la.call(e,t)&&_n(i,t,e[t]);return i},oa=(i,e)=>ia(i,na(e));async function Ke(i){if(!i.ok){const e=await i.json().then(n=>n),t=new Error(e.message);return t.name=e.name,Promise.reject({message:t,statusCode:i.status})}return i.json()}function Qe(i={component_id:""}){return{method:i.method||"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Component-Id":i.component_id||"","X-Access-Token":i.access_token||""},body:i.body?JSON.stringify(i.body):void 0}}function it(i,e){throw console.error(e),Si.update(t=>oa(aa({},t),{[i]:e})),e}const pn={"001":"","002":"ireland-","003":"canada-"};function qe(i){let e="";if(i.substring(3,4)==="-"){const n=i.substring(0,3);typeof pn[n]!="undefined"&&(e=pn[n])}return`https://${e}web-components.nylas.com/middleware`}function It(i){}const sa=async(i,e,t)=>{const n=await fetch(`${qe(i.component_id)}/contact-list/contacts?limit=${t}&offset=${e}`,Qe({component_id:i.component_id,access_token:i.access_token})).then(r=>Ke(r)).then(r=>r.response).catch(r=>it(i.component_id,r));return n!=null?n:[]},ca=async i=>{const e=await fetch(`${qe(i.component_id)}/contacts${i.query}`,Qe({component_id:i.component_id,access_token:i.access_token})).then(t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t));return e!=null?e:[]},da=async(i,e)=>await fetch(`${qe(i.component_id)}/contacts/${e}/picture`,Qe({component_id:i.component_id,access_token:i.access_token})).then(t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t)),gn=(i,e,t)=>{let n=`${qe(i.component_id)}/threads?view=expanded&not_in=trash&limit=${e}&offset=${t}`;return i.query&&Object.entries(i.query).forEach(r=>n=n.concat(`&${r[0]}=${r[1]}`)),fetch(n,Qe(i)).then(r=>Ke(r)).then(r=>r.response).catch(r=>it(i.component_id,r))};function bn(i){let e=`${qe(i.component_id)}/threads?view=expanded&not_in=trash&view=count`;return i.query&&Object.entries(i.query).forEach(t=>e=e.concat(`&${t[0]}=${t[1]}`)),i.keywordToSearch&&(e+=`&q=${i.keywordToSearch}`),fetch(e,Qe(i)).then(t=>Ke(t)).then(t=>t.response.count)}const fa=i=>{const e=`${qe(i.component_id)}/threads/search?q=${i.keywordToSearch}&view=expanded`;return fetch(e,Qe(i)).then(async t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t))},ua=async i=>await fetch(`${qe(i.component_id)}/threads/${i.thread_id}?view=expanded`,Qe({component_id:i.component_id,access_token:i.access_token})).then(t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t)),vn=(i,e)=>fetch(`${qe(i.component_id)}/threads/${e.id}`,Qe({method:"PUT",component_id:i.component_id,access_token:i.access_token,body:{unread:e.unread,starred:e.starred,folder_id:e.folder_id,label_ids:e.label_ids}})).then(t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t)),ma=async(i,e)=>await fetch(`${qe(i)}/manifest`,Qe({access_token:e,component_id:i})).then(Ke).then(t=>t.component.theming).catch(t=>it(i,t)),wn=async(i,e)=>{const t=`${qe(i.component_id)}/messages/${e}`;return await fetch(t,Qe(i)).then(n=>Ke(n)).then(n=>n.response).catch(n=>it(i.component_id,n))},ha=async i=>{const e=`${qe(i.component_id)}/messages/${i.message_id}`;return await fetch(e,Qe(i)).then(t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t))},yn=async i=>await fetch(`${qe(i.component_id)}/account`,Qe(i)).then(t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t)),kn=i=>fetch(`${qe(i.component_id)}/neural/conversation`,Qe({method:"PUT",access_token:i.access_token,component_id:i.component_id,body:{message_id:i.message_id}})).then(async e=>(await Ke(e)).response).catch(e=>it(i.component_id,e));var _a=Object.defineProperty,En=Object.getOwnPropertySymbols,pa=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable,Tn=(i,e,t)=>e in i?_a(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Cn=(i,e)=>{for(var t in e||(e={}))pa.call(e,t)&&Tn(i,t,e[t]);if(En)for(var t of En(e))ga.call(e,t)&&Tn(i,t,e[t]);return i};const ba=async i=>fetch(`${qe(i.component_id)}/calendars/availability`,Qe({method:"POST",component_id:i.component_id,access_token:i.access_token,body:i.body})).then(async e=>{const t=await Ke(e);return t.response.time_slots=t.response.time_slots.map(n=>(n.start_time=n.start||0,n.end_time=n.end||0,delete n.start,delete n.end,n)),t.response}).catch(e=>it(i.component_id,e)),va=async i=>fetch(`${qe(i.component_id)}/calendars/availability/consecutive`,Qe({method:"POST",component_id:i.component_id,access_token:i.access_token,body:i.body})).then(async e=>{var t;let r=((t=(await Ke(e)).response)==null?void 0:t.map(o=>(o=o.map(s=>(s.start_time=new Date(s.start_time*1e3),s.end_time=new Date(s.end_time*1e3),s)),o)))||[];const a=wa(r,i.body.events);return ya(a)}).catch(e=>it(i.component_id,e));function wa(i,e){return i.map(t=>t.map(n=>Cn(Cn({},n),e.find(r=>r.participantEmails.length===n.emails.length&&r.participantEmails.every(a=>n.emails.includes(a))))))}function ya(i){const e=new Set;return i.filter(t=>{const n=`${t[0].start_time}_${t[t.length-1].end_time}`;return e.has(n)?!1:(e.add(n),!0)})}var ka=Object.defineProperty,An=Object.getOwnPropertySymbols,Ea=Object.prototype.hasOwnProperty,Ta=Object.prototype.propertyIsEnumerable,Sn=(i,e,t)=>e in i?ka(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ca=(i,e)=>{for(var t in e||(e={}))Ea.call(e,t)&&Sn(i,t,e[t]);if(An)for(var t of An(e))Ta.call(e,t)&&Sn(i,t,e[t]);return i};function Aa(){const i=(t,n)=>{var r,a;const l=JSON.parse(n),o=Ca({},l);if(delete o.forceReload,n=JSON.stringify(o),!(!l.component_id||!((r=l==null?void 0:l.body)==null?void 0:r.start_time)||!((a=l==null?void 0:l.body)==null?void 0:a.end_time))){if(!t[n]||l.forceReload){const s=ba(l);e.update(c=>(c[n]=s,c)),t[n]=s}return t[n]}},e=vt(new Proxy({},{get:i}));return e}Aa();var Sa=Object.defineProperty,On=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable,Ln=(i,e,t)=>e in i?Sa(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ma=(i,e)=>{for(var t in e||(e={}))Oa.call(e,t)&&Ln(i,t,e[t]);if(On)for(var t of On(e))La.call(e,t)&&Ln(i,t,e[t]);return i};function Na(){const i=(t,n)=>{var r,a;const l=JSON.parse(n),o=Ma({},l);if(delete o.forceReload,n=JSON.stringify(o),!(!l.component_id||!((r=l==null?void 0:l.body)==null?void 0:r.start_time)||!((a=l==null?void 0:l.body)==null?void 0:a.end_time))){if(!t[n]||l.forceReload){const s=va(l);e.update(c=>(c[n]=s,c)),t[n]=s}return t[n]}},e=vt(new Proxy({},{get:i}));return e}Na();var Da=Object.defineProperty,Mn=Object.getOwnPropertySymbols,Pa=Object.prototype.hasOwnProperty,xa=Object.prototype.propertyIsEnumerable,Nn=(i,e,t)=>e in i?Da(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Dn=(i,e)=>{for(var t in e||(e={}))Pa.call(e,t)&&Nn(i,t,e[t]);if(Mn)for(var t of Mn(e))xa.call(e,t)&&Nn(i,t,e[t]);return i};let ht={};function Pn(i){return i.filter(e=>!!e.given_name||!!e.surname||Array.isArray(e.emails)&&e.emails.length>0).map(e=>((!Array.isArray(e.emails)||e.emails.length===0)&&(e.emails=[{email:""}]),e))}function Ra(){const{subscribe:i,set:e,update:t}=vt({});return{subscribe:i,addContacts:async(n,r,a)=>{var l;const o=JSON.stringify(n);if(!ht[o]&&(n.component_id||n.access_token)){r===0&&Gi.reset();const s=(l=await sa(n,r,a).then(c=>Pn(c)).catch(()=>[]))!=null?l:[];return ht[o]=ht[o]?[...ht[o],...s]:s,t(c=>(c[o]=ht[o],Dn({},c))),ht[o]}},addContact:async n=>{var r;const a=JSON.stringify(n);if(!ht[a]&&(n.component_id||n.access_token)){const l=(r=await ca(n).then(o=>Pn(o)).catch(()=>[]))!=null?r:[];ht[a]=ht[a]?[...ht[a],...l]:l,t(o=>(o[a]=ht[a],Dn({},o)))}return ht[a]},reset:()=>{ht={},e({})}}}const Gi=Ra(),Wi={};function Ia(){const{subscribe:i,set:e}=vt({});return{subscribe:i,getContactAvatar:async(t,n,r=!1)=>{if(!Wi[n]||r){const a=await da(t,n).then(l=>l).catch(()=>"");a&&(Wi[n]=a)}return Wi[n]},reset:()=>e({})}}const ja=Ia();var Fa=Object.defineProperty,xn=Object.getOwnPropertySymbols,Ha=Object.prototype.hasOwnProperty,Ba=Object.prototype.propertyIsEnumerable,Rn=(i,e,t)=>e in i?Fa(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,di=(i,e)=>{for(var t in e||(e={}))Ha.call(e,t)&&Rn(i,t,e[t]);if(xn)for(var t of xn(e))Ba.call(e,t)&&Rn(i,t,e[t]);return i};async function In(i){const e=[];for(let t=0;t<i;t++)e.push({isLoaded:!1,threads:[]});return e}function Ua(){const{subscribe:i,set:e,update:t}=vt({});let n={},r;return{subscribe:i,set:e,getThreads:async(a,l,o,s=!1)=>{const c=JSON.stringify(a);if(!a.component_id&&!a.access_token)return[];if(r===void 0||s){const d=await bn(a).catch(It);d&&(r=d)}if(!Array.isArray(n[c])||s){const d=Math.ceil(r/o);n[c]=await In(d)}if(typeof n[c][l]=="undefined")return[];if(!n[c][l].isLoaded){const d=await gn(a,o,l*o).catch(It);d&&(n[c][l].threads=d,n[c][l].isLoaded=!0)}return t(d=>(d[c]=n[c],di({},d))),n[c][l].threads},getNumberOfItems:async a=>{if(!a.component_id&&!a.access_token)return 0;if(typeof r=="undefined"){const l=await bn(a).catch(It);l&&(r=l)}return r},getThreadsWithSearchKeyword:async(a,l=!1)=>{if(!a.component_id&&!a.access_token)return[];const o=JSON.stringify(a);if((!Array.isArray(n[o])||l)&&(n[o]=await In(1)),!n[o][0].isLoaded||l){const s=await fa(a).catch(It);s&&(n[o][0].threads=s,n[o][0].isLoaded=!0)}return t(s=>(s[o]=n[o],di({},s))),n[o][0].threads},updateThread:async(a,l,o,s,c)=>{const d=await vn(a,o).catch(It);if(!n[l][s].isLoaded){const m=await gn(JSON.parse(l),c,s*c).catch(It);m&&(n[l][s].threads=m,n[l][s].isLoaded=!0)}return n[l][s].threads=n[l][s].threads.map(m=>(d&&m.id===d.id&&(m=Object.assign(m,d)),m)),t(m=>(m[l]=n[l],di({},m))),n[l][s].threads},updateThreadSelection:(a,l,o)=>{const s=n[a][l].threads;if(o){const c=s.find(d=>d.id===o);c&&(c.selected=!c.selected)}else{const c=s.some(d=>d.selected);for(const d of s)d.selected=!c}return t(c=>(c[a]=n[a],di({},c))),n[a][l].threads},reset:()=>{n={},e({})},hydrateMessageInThread:(a,l,o)=>{var s,c,d;const m=JSON.stringify(l),u=(c=(s=n[m][o])==null?void 0:s.threads)==null?void 0:c.find(y=>y.id===a.thread_id);if(u){const y=(d=u.messages)==null?void 0:d.find(g=>g.id===a.id);y&&(y.body=a.body,t(g=>{if(a.thread_id){let S=g[m][o].threads.find(A=>A.id===u.id);S&&(S=JSON.parse(JSON.stringify(u)))}return di({},g)}))}return n[m][o].threads}}}const _t=Ua(),za=$l(_t,i=>{const e={};return Object.entries(i).forEach(([t,n])=>e[t]=n.map(r=>r.threads).flat()),e});function Va(){const i=(t,n)=>{const r=JSON.parse(n);if(!!r.component_id){if(!t[n]){const a=ma(r.component_id,r.access_token);e.update(l=>(l[n]=a,l)),t[n]=a}return t[n]}},e=vt(new Proxy({},{get:i}));return e}const jn=Va(),Zi=async i=>{let e=`${qe(i.component_id)}/files/${i.file_id}/download`;return await fetch(e,Qe(i)).then(t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t))};var Ga=Object.defineProperty,Fn=Object.getOwnPropertySymbols,Wa=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,Hn=(i,e,t)=>e in i?Ga(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ja=(i,e)=>{for(var t in e||(e={}))Wa.call(e,t)&&Hn(i,t,e[t]);if(Fn)for(var t of Fn(e))Za.call(e,t)&&Hn(i,t,e[t]);return i};function Ya(){const{subscribe:i,set:e,update:t}=vt({}),n={};return{subscribe:i,getFilesForMessage:async(r,a)=>{if(!n[r.id]){const l={};for(const o of r.files.values())(o.content_disposition==="inline"||o.content_id)&&!l[o.id]&&(l[o.id]=o,l[o.id].data=await Zi({file_id:o.id,component_id:a.component_id,access_token:a.access_token}));n[r.id]=l,t(o=>(o[r.id]=l,Ja({},o)))}return n[r.id]},hasInlineFiles:r=>{var a;return(a=r==null?void 0:r.files)==null?void 0:a.some(l=>l.content_disposition==="inline"||l.content_id)},reset:()=>e({})}}const Yt=Ya();function fi(i){return(e,t)=>{i.dispatchEvent&&i.dispatchEvent(new CustomEvent(e,{detail:t,composed:!0}))}}function Xt(i,e,t){return new Proxy(i,{get:(n,r)=>r==="toString"||r==="toJSON"?()=>JSON.stringify(n):Reflect.get(n,r)!==void 0?Bn(Reflect.get(n,r),t[r]):e&&r in e?Bn(e[r],t[r]):t[r],ownKeys:n=>{const r=new Set([...Reflect.ownKeys(n),...Object.keys(e),...Object.keys(t)]);return Array.from(r)},getOwnPropertyDescriptor:(n,r)=>{var a,l;let o=Reflect.getOwnPropertyDescriptor(n,r);return o||(o=(l=(a=e&&Object.getOwnPropertyDescriptor(e,r))!=null?a:t&&Object.getOwnPropertyDescriptor(t,r))!=null?l:{configurable:!0,enumerable:!0,writable:!0},Reflect.defineProperty(n,r,o)),o}})}function Bn(i,e){if(i){if(typeof e=="boolean")return Xa(i);if(typeof e=="number")return Number(i);if(e instanceof Date)return new Date(i)}return i===void 0?e!=null?e:null:i}function Xa(i){return[!0,"true","1"].includes(i)}function Un(i,e){var t;const n=Uint8Array.from(atob(i),o=>o.charCodeAt(0)),r=new Blob([n],{type:e.content_type}),a=window.URL.createObjectURL(r),l=document.createElement("a");l.href=a,l.download=(t=e.filename)!=null?t:e.id,l.target="_blank",l.click(),l.remove()}function zn(i){let e,t,n,r,a,l;function o(d,m){if(d[2]==="HostDomainNotAllowedError")return Qa;if(d[2]==="IncompatibleProperties")return Ka}let s=o(i),c=s&&s(i);return{c(){var d,m;e=w("div"),c&&c.c(),t=B(),n=w("span"),n.textContent="Debug info:",r=B(),a=w("textarea"),f(n,"class","details"),f(a,"class","details"),a.readOnly=!0,a.value=l=`
      `+i[2]+": "+i[0]+`
      `+((m=(d=i[1].message)==null?void 0:d.message)!=null?m:"")+`
    `,f(e,"class","message-container")},m(d,m){k(d,e,m),c&&c.m(e,null),b(e,t),b(e,n),b(e,r),b(e,a)},p(d,m){var u,y;s===(s=o(d))&&c?c.p(d,m):(c&&c.d(1),c=s&&s(d),c&&(c.c(),c.m(e,t))),m&7&&l!==(l=`
      `+d[2]+": "+d[0]+`
      `+((y=(u=d[1].message)==null?void 0:u.message)!=null?y:"")+`
    `)&&(a.value=l)},d(d){d&&h(e),c&&c.d()}}}function Ka(i){let e;return{c(){e=w("h3"),e.textContent="Your component properties do not work with each other."},m(t,n){k(t,e,n)},p:T,d(t){t&&h(e)}}}function Qa(i){let e,t,n,r,a,l;return{c(){e=w("h3"),t=J(`You are trying to access this component from\xA0
        `),n=w("code"),n.textContent=`${window.location.hostname}`,r=J(`. The component's settings do not
        allow access from this domain.`),a=B(),l=w("h4"),l.innerHTML=`The list of allowed domains can be modified in your\xA0
        <a href="https://dashboard.nylas.com">Dashboard</a>.`},m(o,s){k(o,e,s),b(e,t),b(e,n),b(e,r),k(o,a,s),k(o,l,s)},p:T,d(o){o&&h(e),o&&h(a),o&&h(l)}}}function qa(i){let e,t=i[2]&&i[3]&&zn(i);return{c(){t&&t.c(),e=Ze(),this.c=T},m(n,r){t&&t.m(n,r),k(n,e,r)},p(n,[r]){n[2]&&n[3]?t?t.p(n,r):(t=zn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:T,o:T,d(n){t&&t.d(n),n&&h(e)}}}function $a(i,e,t){let n;Pt(i,Si,u=>t(8,n=u));var r,a,l,o;let{id:s}=e,c,d;const m=window.location.href.includes("localhost")||window.location.href.includes("127.0.0.1");return i.$$set=u=>{"id"in u&&t(0,s=u.id)},i.$$.update=()=>{i.$$.dirty&499&&(t(1,c=t(4,r=n[s])!==null&&r!==void 0?r:{name:""}),t(2,d=t(7,o=t(5,a=c.name)!==null&&a!==void 0?a:t(6,l=c.message)===null||l===void 0?void 0:l.name)!==null&&o!==void 0?o:""))},[s,c,d,m,r,a,l,o,n]}class eo extends Rt{constructor(e){super();this.shadowRoot.innerHTML=`<style>.message-container{background:#fff6f6;border-radius:5px;box-shadow:0 0 0 1px #aa92a0 inset, 0 0 0 0 transparent;color:#9f3a38;font-size:1.25rem;padding:10px;margin:0 auto;transition:opacity 500ms ease, color 500ms ease,
      background-color 500ms ease, box-shadow 500ms ease,
      -webkit-box-shadow 500ms ease}.message-container *:focus{outline:5px auto Highlight;outline:5px auto -webkit-focus-ring-color}.details{color:#494949;font-size:0.75rem;width:100%}</style>`,Ve(this,{target:this.shadowRoot,props:zt(this.attributes),customElement:!0},$a,qa,Bl,{id:0},null),e&&(e.target&&k(e.target,this,e.anchor),e.props&&(this.$set(e.props),ne()))}static get observedAttributes(){return["id"]}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),ne()}}customElements.define("nylas-error",eo);var Kt;(function(i){i.Label="label",i.Folder="folder"})(Kt||(Kt={}));var Vn;(function(i){i.RUNNING="running",i.PARTIAL="partial",i.STOPPED="stopped"})(Vn||(Vn={}));var Tt;(function(i){i.SELECTALL="selectall",i.DELETE="delete",i.STAR="star",i.UNREAD="unread"})(Tt||(Tt={}));const to=async i=>{const e=`${qe(i.component_id)}/folders`;return await fetch(e,Qe(i)).then(t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t))};var io=Object.defineProperty,Gn=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,ro=Object.prototype.propertyIsEnumerable,Wn=(i,e,t)=>e in i?io(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,lo=(i,e)=>{for(var t in e||(e={}))no.call(e,t)&&Wn(i,t,e[t]);if(Gn)for(var t of Gn(e))ro.call(e,t)&&Wn(i,t,e[t]);return i};function ao(){const{subscribe:i,set:e,update:t}=vt({}),n={};return{subscribe:i,getFolders:async(r,a=!1)=>{const l=JSON.stringify(r);return(!n[l]||a)&&(r.component_id||r.access_token)&&(n[l]=(await to(r)).map(o=>(o.toString=()=>o.id,o))),t(o=>(o[l]=n[l],lo({},o))),n[l]},reset:()=>e({})}}const Zn=ao(),oo=async i=>{const e=`${qe(i.component_id)}/labels`;return await fetch(e,Qe(i)).then(t=>Ke(t)).then(t=>t.response).catch(t=>it(i.component_id,t))};var so=Object.defineProperty,Jn=Object.getOwnPropertySymbols,co=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable,Yn=(i,e,t)=>e in i?so(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,uo=(i,e)=>{for(var t in e||(e={}))co.call(e,t)&&Yn(i,t,e[t]);if(Jn)for(var t of Jn(e))fo.call(e,t)&&Yn(i,t,e[t]);return i};function mo(){const{subscribe:i,set:e,update:t}=vt({}),n={};return{subscribe:i,getLabels:async(r,a=!1)=>{const l=JSON.stringify(r);return(!n[l]||a)&&(r.component_id||r.access_token)&&(n[l]=(await oo(r)).map(o=>(o.toString=()=>o.id,o))),t(o=>(o[l]=n[l],uo({},o))),n[l]},reset:()=>e({})}}const Xn=mo();function ho(i){let e,t,n=[{width:"17"},{height:"16"},{viewBox:"0 0 17 16"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,stroke:!0,"stroke-miterlimit":!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M11.1666 6.66666L8.50094 9.48258L5.83331 6.66666"),f(t,"stroke","#8d94a5"),f(t,"stroke-miterlimit","10"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"17"},{height:"16"},{viewBox:"0 0 17 16"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function _o(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class ui extends tt{constructor(e){super();Ve(this,e,_o,ho,ze,{})}}function po(i){let e,t,n=[{width:"11"},{height:"13"},{viewBox:"0 0 11 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,fill:!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M0.75 11.375C0.75 12.0078 1.24219 12.5 1.875 12.5H8.625C9.23438 12.5 9.75 12.0078 9.75 11.375V3.5H0.75V11.375ZM7.125 5.375C7.125 5.1875 7.28906 5 7.5 5C7.6875 5 7.875 5.1875 7.875 5.375V10.625C7.875 10.8359 7.6875 11 7.5 11C7.28906 11 7.125 10.8359 7.125 10.625V5.375ZM4.875 5.375C4.875 5.1875 5.03906 5 5.25 5C5.4375 5 5.625 5.1875 5.625 5.375V10.625C5.625 10.8359 5.4375 11 5.25 11C5.03906 11 4.875 10.8359 4.875 10.625V5.375ZM2.625 5.375C2.625 5.1875 2.78906 5 3 5C3.1875 5 3.375 5.1875 3.375 5.375V10.625C3.375 10.8359 3.1875 11 3 11C2.78906 11 2.625 10.8359 2.625 10.625V5.375ZM10.125 1.25H7.3125L7.07812 0.828125C6.98438 0.640625 6.79688 0.5 6.58594 0.5H3.89062C3.67969 0.5 3.49219 0.640625 3.39844 0.828125L3.1875 1.25H0.375C0.164062 1.25 0 1.4375 0 1.625V2.375C0 2.58594 0.164062 2.75 0.375 2.75H10.125C10.3125 2.75 10.5 2.58594 10.5 2.375V1.625C10.5 1.4375 10.3125 1.25 10.125 1.25Z"),f(t,"fill","#6A7285"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"11"},{height:"13"},{viewBox:"0 0 11 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function go(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class Kn extends tt{constructor(e){super();Ve(this,e,go,po,ze,{})}}function bo(i){let e,t,n=[{width:"12"},{height:"13"},{viewBox:"0 0 12 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,fill:!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M4.125 5.5625H7.875C8.0625 5.5625 8.25 5.39844 8.25 5.1875V4.8125C8.25 4.625 8.0625 4.4375 7.875 4.4375H4.125C3.91406 4.4375 3.75 4.625 3.75 4.8125V5.1875C3.75 5.39844 3.91406 5.5625 4.125 5.5625ZM3.75 7.4375C3.75 7.64844 3.91406 7.8125 4.125 7.8125H7.875C8.0625 7.8125 8.25 7.64844 8.25 7.4375V7.0625C8.25 6.875 8.0625 6.6875 7.875 6.6875H4.125C3.91406 6.6875 3.75 6.875 3.75 7.0625V7.4375ZM6 10.2969C5.60156 10.2969 5.22656 10.1797 4.89844 9.92188L0 6.38281V11.375C0 12.0078 0.492188 12.5 1.125 12.5H10.875C11.4844 12.5 12 12.0078 12 11.375V6.38281L7.07812 9.92188C6.75 10.1797 6.375 10.2969 6 10.2969ZM11.5547 4.32031C11.3438 4.17969 11.1562 4.01562 10.875 3.80469V2.75C10.875 2.14062 10.3594 1.625 9.75 1.625H7.92188C7.85156 1.57812 7.78125 1.53125 7.71094 1.48438C7.3125 1.20312 6.53906 0.5 6 0.5C5.4375 0.5 4.66406 1.20312 4.26562 1.48438C4.19531 1.53125 4.125 1.57812 4.05469 1.625H2.25C1.61719 1.625 1.125 2.14062 1.125 2.75V3.80469C0.820312 4.01562 0.632812 4.17969 0.421875 4.32031C0.164062 4.53125 0 4.85938 0 5.21094V5.46875L2.25 7.08594V2.75H9.75V7.08594L12 5.46875V5.21094C12 4.85938 11.8359 4.55469 11.5547 4.32031Z"),f(t,"fill","#6A7285"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"12"},{height:"13"},{viewBox:"0 0 12 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function vo(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class Qn extends tt{constructor(e){super();Ve(this,e,vo,bo,ze,{})}}function wo(i){let e,t,n=[{width:"12"},{height:"9"},{viewBox:"0 0 12 9"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,fill:!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M11.7656 2.97656C11.2266 3.39844 10.5469 3.91406 8.15625 5.64844C7.6875 6 6.82031 6.77344 6 6.77344C5.15625 6.77344 4.3125 6 3.82031 5.64844C1.42969 3.91406 0.75 3.39844 0.210938 2.97656C0.117188 2.90625 0 2.97656 0 3.09375V7.875C0 8.50781 0.492188 9 1.125 9H10.875C11.4844 9 12 8.50781 12 7.875V3.09375C12 2.97656 11.8594 2.90625 11.7656 2.97656ZM6 6C6.53906 6.02344 7.3125 5.32031 7.71094 5.03906C10.8281 2.78906 11.0625 2.57812 11.7656 2.01562C11.9062 1.92188 12 1.75781 12 1.57031V1.125C12 0.515625 11.4844 0 10.875 0H1.125C0.492188 0 0 0.515625 0 1.125V1.57031C0 1.75781 0.0703125 1.92188 0.210938 2.01562C0.914062 2.57812 1.14844 2.78906 4.26562 5.03906C4.66406 5.32031 5.4375 6.02344 6 6Z"),f(t,"fill","#6A7285"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"12"},{height:"9"},{viewBox:"0 0 12 9"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function yo(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class qn extends tt{constructor(e){super();Ve(this,e,yo,wo,ze,{})}}function ko(i){let e,t,n,r,a=[{width:"17"},{height:"16"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{x:"0px"},{y:"0px"},{viewBox:"0 0 511.36 511.36"},{style:"enable-background:new 0 0 511.36 511.36;"},{"xml:space":"preserve"},i[0]],l={};for(let o=0;o<a.length;o+=1)l=te(l,a[o]);return{c(){e=X("svg"),t=X("g"),n=X("g"),r=X("path"),this.h()},l(o){e=ee(o,"svg",{width:!0,height:!0,xmlns:!0,"xmlns:xlink":!0,x:!0,y:!0,viewBox:!0,style:!0,"xml:space":!0});var s=q(e);t=ee(s,"g",{});var c=q(t);n=ee(c,"g",{});var d=q(n);r=ee(d,"path",{d:!0}),q(r).forEach(h),d.forEach(h),c.forEach(h),s.forEach(h),this.h()},h(){f(r,"d",`M454.827,35.2c-46.933-46.933-122.027-46.933-168.96,0L63.147,258.773c-3.413,3.413-3.413,8.533,0,11.947\r
			s8.533,3.413,11.947,0l222.72-223.573c40.107-40.107,104.96-40.107,145.067,0c40.107,40.107,40.107,104.96,0,145.067\r
			L162.133,472.96c-28.16,28.16-74.24,28.16-102.4,0c-28.16-28.16-28.16-74.24,0-102.4l226.133-226.987\r
			c17.067-16.213,43.52-17.067,60.587,0c16.213,17.067,16.213,44.373,0,60.587l-168.96,169.813c-3.413,3.413-3.413,8.533,0,11.947\r
			c3.413,3.413,8.533,3.413,11.947,0L358.4,216.96c23.04-23.04,23.04-61.44,0-84.48c-23.04-23.04-61.44-23.04-84.48,0\r
			L47.787,358.613c-34.987,34.133-34.987,91.307,0,126.293c17.067,17.92,40.107,26.453,63.147,26.453\r
			c23.04,0,46.08-8.533,63.147-26.453L454.827,204.16c22.187-22.187,34.987-52.907,34.987-84.48\r
			C489.813,88.107,477.013,57.387,454.827,35.2z`),Ae(e,l)},m(o,s){$e(o,e,s),me(e,t),me(t,n),me(n,r)},p(o,[s]){Ae(e,l=et(a,[{width:"17"},{height:"16"},{xmlns:"http://www.w3.org/2000/svg"},{"xmlns:xlink":"http://www.w3.org/1999/xlink"},{x:"0px"},{y:"0px"},{viewBox:"0 0 511.36 511.36"},{style:"enable-background:new 0 0 511.36 511.36;"},{"xml:space":"preserve"},s&1&&o[0]]))},i:T,o:T,d(o){o&&h(e)}}}function Eo(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class To extends tt{constructor(e){super();Ve(this,e,Eo,ko,ze,{})}}function Co(i){let e,t,n,r=[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],a={};for(let l=0;l<r.length;l+=1)a=te(a,r[l]);return{c(){e=X("svg"),t=X("path"),n=X("path"),this.h()},l(l){e=ee(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var o=q(e);t=ee(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),q(t).forEach(h),n=ee(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),q(n).forEach(h),o.forEach(h),this.h()},h(){f(t,"d","M11.7605 17.3029L6.32422 12.1494L11.7605 6.99968"),f(t,"stroke","#161717"),f(t,"stroke-width","1.5"),f(t,"stroke-miterlimit","10"),f(n,"d","M6.42791 12.1494L18 12.1494"),f(n,"stroke","#161717"),f(n,"stroke-width","1.5"),f(n,"stroke-miterlimit","10"),Ae(e,a)},m(l,o){$e(l,e,o),me(e,t),me(e,n)},p(l,[o]){Ae(e,a=et(r,[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},o&1&&l[0]]))},i:T,o:T,d(l){l&&h(e)}}}function Ao(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class So extends tt{constructor(e){super();Ve(this,e,Ao,Co,ze,{})}}function Oo(i){let e,t,n=[{width:"20"},{height:"20"},{viewBox:"0 0 20 20"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,fill:!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3ZM10 12.5C10.4142 12.5 10.75 12.8358 10.75 13.25C10.75 13.6642 10.4142 14 10 14C9.58579 14 9.25 13.6642 9.25 13.25C9.25 12.8358 9.58579 12.5 10 12.5ZM10 6C10.2455 6 10.4496 6.17688 10.4919 6.41012L10.5 6.5V11C10.5 11.2761 10.2761 11.5 10 11.5C9.75454 11.5 9.55039 11.3231 9.50806 11.0899L9.5 11V6.5C9.5 6.22386 9.72386 6 10 6Z"),f(t,"fill","white"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"20"},{height:"20"},{viewBox:"0 0 20 20"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function Lo(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class Mo extends tt{constructor(e){super();Ve(this,e,Lo,Oo,ze,{})}}function No(i){let e,t,n=[{width:"16"},{height:"16"},{viewBox:"0 0 16 16"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,fill:!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M11.2452 0.817058C12.332 -0.269749 14.0941 -0.269749 15.1809 0.817058C16.2224 1.85858 16.2658 3.52026 15.3111 4.61346L15.1809 4.75273L5.57506 14.3586C5.36997 14.5636 5.12323 14.7212 4.85236 14.821L4.68708 14.8739L0.632111 15.9798C0.285522 16.0743 -0.0345414 15.7857 0.00300655 15.4452L0.0181704 15.3658L1.12407 11.3109C1.20039 11.031 1.33646 10.7718 1.52212 10.5508L1.63939 10.4229L11.2452 0.817058ZM10.385 3.09195L2.34649 11.13C2.2542 11.2223 2.18117 11.3314 2.13111 11.4511L2.08884 11.574L1.2122 14.7847L4.42397 13.9091C4.50791 13.8862 4.58815 13.8526 4.66278 13.8093L4.77028 13.7372L4.86796 13.6515L12.906 5.61295L10.385 3.09195ZM14.4738 1.52417C13.8162 0.866565 12.7727 0.830031 12.0722 1.41457L11.9523 1.52417L11.092 2.38495L13.613 4.90595L14.4738 4.04563C15.1314 3.38803 15.1679 2.34455 14.5834 1.64407L14.4738 1.52417Z"),f(t,"fill","#ffffff"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"16"},{height:"16"},{viewBox:"0 0 16 16"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function Do(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class Po extends tt{constructor(e){super();Ve(this,e,Do,No,ze,{})}}function xo(i){let e,t=(i[0].given_name&&i[0].surname?i[0].given_name.charAt(0)+i[0].surname.charAt(0):i[0].name?i[0].name.charAt(0):i[0].email?i[0].email.charAt(0):"?")+"",n;return{c(){e=w("p"),n=J(t),Zt(e,"margin","0")},m(r,a){k(r,e,a),b(e,n)},p(r,a){a&1&&t!==(t=(r[0].given_name&&r[0].surname?r[0].given_name.charAt(0)+r[0].surname.charAt(0):r[0].name?r[0].name.charAt(0):r[0].email?r[0].email.charAt(0):"?")+"")&&pe(n,t)},d(r){r&&h(e)}}}function Ro(i){let e,t;return{c(){e=w("img"),f(e,"alt",""),Zt(e,"height",i[1]),Zt(e,"width",i[2]),Zt(e,"border-radius","50%"),on(e.src,t="data:image/jpg;base64,"+i[3])||f(e,"src",t)},m(n,r){k(n,e,r)},p(n,r){r&2&&Zt(e,"height",n[1]),r&4&&Zt(e,"width",n[2]),r&8&&!on(e.src,t="data:image/jpg;base64,"+n[3])&&f(e,"src",t)},d(n){n&&h(e)}}}function Io(i){let e;function t(a,l){if(a[3])return Ro;if(a[0])return xo}let n=t(i),r=n&&n(i);return{c(){r&&r.c(),e=Ze(),this.c=T},m(a,l){r&&r.m(a,l),k(a,e,l)},p(a,[l]){n===(n=t(a))&&r?r.p(a,l):(r&&r.d(1),r=n&&n(a),r&&(r.c(),r.m(e.parentNode,e)))},i:T,o:T,d(a){r&&r.d(a),a&&h(e)}}}function jo(i,e,t){let n,{contact:r}=e,{contact_query:a}=e,{height:l="32px"}=e,{width:o="32px"}=e;return Xl(async()=>{r&&r.picture_url?t(3,n=await ja.getContactAvatar(a,r.id)):t(3,n=null)}),i.$$set=s=>{"contact"in s&&t(0,r=s.contact),"contact_query"in s&&t(4,a=s.contact_query),"height"in s&&t(1,l=s.height),"width"in s&&t(2,o=s.width)},t(3,n=null),[r,l,o,n,a]}class Fo extends Rt{constructor(e){super();Ve(this,{target:this.shadowRoot,props:zt(this.attributes),customElement:!0},jo,Io,ze,{contact:0,contact_query:4,height:1,width:2},null),e&&(e.target&&k(e.target,this,e.anchor),e.props&&(this.$set(e.props),ne()))}static get observedAttributes(){return["contact","contact_query","height","width"]}get contact(){return this.$$.ctx[0]}set contact(e){this.$$set({contact:e}),ne()}get contact_query(){return this.$$.ctx[4]}set contact_query(e){this.$$set({contact_query:e}),ne()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),ne()}get width(){return this.$$.ctx[2]}set width(e){this.$$set({width:e}),ne()}}customElements.define("nylas-contact-image",Fo);var Ho=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Bo(i,e,t){return t={path:e,exports:{},require:function(n,r){return Uo(n,r==null?t.path:r)}},i(t,t.exports),t.exports}function Uo(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Qt=Bo(function(i,e){/*! @license DOMPurify 2.3.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.4/LICENSE */(function(t,n){i.exports=n()})(Ho,function(){function t(v){if(Array.isArray(v)){for(var F=0,V=Array(v.length);F<v.length;F++)V[F]=v[F];return V}else return Array.from(v)}var n=Object.hasOwnProperty,r=Object.setPrototypeOf,a=Object.isFrozen,l=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,s=Object.freeze,c=Object.seal,d=Object.create,m=typeof Reflect!="undefined"&&Reflect,u=m.apply,y=m.construct;u||(u=function(F,V,fe){return F.apply(V,fe)}),s||(s=function(F){return F}),c||(c=function(F){return F}),y||(y=function(F,V){return new(Function.prototype.bind.apply(F,[null].concat(t(V))))});var g=K(Array.prototype.forEach),S=K(Array.prototype.pop),A=K(Array.prototype.push),E=K(String.prototype.toLowerCase),O=K(String.prototype.match),I=K(String.prototype.replace),ae=K(String.prototype.indexOf),Ue=K(String.prototype.trim),ve=K(RegExp.prototype.test),H=Ce(TypeError);function K(v){return function(F){for(var V=arguments.length,fe=Array(V>1?V-1:0),Te=1;Te<V;Te++)fe[Te-1]=arguments[Te];return u(v,F,fe)}}function Ce(v){return function(){for(var F=arguments.length,V=Array(F),fe=0;fe<F;fe++)V[fe]=arguments[fe];return y(v,V)}}function D(v,F){r&&r(v,null);for(var V=F.length;V--;){var fe=F[V];if(typeof fe=="string"){var Te=E(fe);Te!==fe&&(a(F)||(F[V]=Te),fe=Te)}v[fe]=!0}return v}function U(v){var F=d(null),V=void 0;for(V in v)u(n,v,[V])&&(F[V]=v[V]);return F}function le(v,F){for(;v!==null;){var V=o(v,F);if(V){if(V.get)return K(V.get);if(typeof V.value=="function")return K(V.value)}v=l(v)}function fe(Te){return console.warn("fallback value for",Te),null}return fe}var oe=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Q=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ce=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ee=s(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),re=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ue=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Pe=s(["#text"]),Y=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),P=s(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Xe=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xe=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=c(/\{\{[\s\S]*|[\s\S]*\}\}/gm),de=c(/<%[\s\S]*|[\s\S]*%>/gm),He=c(/^data-[\-\w.\u00B7-\uFFFF]/),$=c(/^aria-[\-\w]+$/),Se=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),De=c(/^(?:\w+script|data):/i),Oe=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};function _e(v){if(Array.isArray(v)){for(var F=0,V=Array(v.length);F<v.length;F++)V[F]=v[F];return V}else return Array.from(v)}var Ne=function(){return typeof window=="undefined"?null:window},we=function(F,V){if((typeof F=="undefined"?"undefined":Me(F))!=="object"||typeof F.createPolicy!="function")return null;var fe=null,Te="data-tt-policy-suffix";V.currentScript&&V.currentScript.hasAttribute(Te)&&(fe=V.currentScript.getAttribute(Te));var nt="dompurify"+(fe?"#"+fe:"");try{return F.createPolicy(nt,{createHTML:function(dt){return dt}})}catch(ct){return console.warn("TrustedTypes policy "+nt+" could not be created."),null}};function ye(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ne(),F=function(_){return ye(_)};if(F.version="2.3.4",F.removed=[],!v||!v.document||v.document.nodeType!==9)return F.isSupported=!1,F;var V=v.document,fe=v.document,Te=v.DocumentFragment,nt=v.HTMLTemplateElement,ct=v.Node,dt=v.Element,wt=v.NodeFilter,z=v.NamedNodeMap,ge=z===void 0?v.NamedNodeMap||v.MozNamedAttrMap:z,St=v.HTMLFormElement,jt=v.DOMParser,Ft=v.trustedTypes,C=dt.prototype,R=le(C,"cloneNode"),he=le(C,"nextSibling"),Ge=le(C,"childNodes"),Ot=le(C,"parentNode");if(typeof nt=="function"){var yt=fe.createElement("template");yt.content&&yt.content.ownerDocument&&(fe=yt.content.ownerDocument)}var ft=we(Ft,V),Ht=ft&&xi?ft.createHTML(""):"",Bt=fe,Lt=Bt.implementation,gt=Bt.createNodeIterator,Wt=Bt.createDocumentFragment,Li=Bt.getElementsByTagName,$t=V.importNode,Mi={};try{Mi=U(fe).documentMode?fe.documentMode:{}}catch(ie){}var bt={};F.isSupported=typeof Ot=="function"&&Lt&&typeof Lt.createHTMLDocument!="undefined"&&Mi!==9;var mi=W,hi=de,Ji=He,Yi=$,Xi=De,Ni=Oe,_i=Se,p=null,L=D({},[].concat(_e(oe),_e(Q),_e(ce),_e(re),_e(Pe))),G=null,Re=D({},[].concat(_e(Y),_e(P),_e(Xe),_e(xe))),ke=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),rt=null,kt=null,Di=!0,pi=!0,ei=!1,ut=!1,Ct=!1,Ki=!1,Qi=!1,ti=!1,Pi=!1,xi=!1,El=!0,qi=!0,gi=!1,ii={},ni=null,Tl=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Cl=null,Al=D({},["audio","video","img","source","image","track"]),$i=null,Sl=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),en="http://www.w3.org/1998/Math/MathML",tn="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml",Ri=Ut,nn=!1,ri=void 0,Cc=["application/xhtml+xml","text/html"],Ac="text/html",li=void 0,ai=null,Sc=fe.createElement("form"),Ol=function(_){return _ instanceof RegExp||_ instanceof Function},rn=function(_){ai&&ai===_||((!_||(typeof _=="undefined"?"undefined":Me(_))!=="object")&&(_={}),_=U(_),p="ALLOWED_TAGS"in _?D({},_.ALLOWED_TAGS):L,G="ALLOWED_ATTR"in _?D({},_.ALLOWED_ATTR):Re,$i="ADD_URI_SAFE_ATTR"in _?D(U(Sl),_.ADD_URI_SAFE_ATTR):Sl,Cl="ADD_DATA_URI_TAGS"in _?D(U(Al),_.ADD_DATA_URI_TAGS):Al,ni="FORBID_CONTENTS"in _?D({},_.FORBID_CONTENTS):Tl,rt="FORBID_TAGS"in _?D({},_.FORBID_TAGS):{},kt="FORBID_ATTR"in _?D({},_.FORBID_ATTR):{},ii="USE_PROFILES"in _?_.USE_PROFILES:!1,Di=_.ALLOW_ARIA_ATTR!==!1,pi=_.ALLOW_DATA_ATTR!==!1,ei=_.ALLOW_UNKNOWN_PROTOCOLS||!1,ut=_.SAFE_FOR_TEMPLATES||!1,Ct=_.WHOLE_DOCUMENT||!1,ti=_.RETURN_DOM||!1,Pi=_.RETURN_DOM_FRAGMENT||!1,xi=_.RETURN_TRUSTED_TYPE||!1,Qi=_.FORCE_BODY||!1,El=_.SANITIZE_DOM!==!1,qi=_.KEEP_CONTENT!==!1,gi=_.IN_PLACE||!1,_i=_.ALLOWED_URI_REGEXP||_i,Ri=_.NAMESPACE||Ut,_.CUSTOM_ELEMENT_HANDLING&&Ol(_.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ke.tagNameCheck=_.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_.CUSTOM_ELEMENT_HANDLING&&Ol(_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ke.attributeNameCheck=_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_.CUSTOM_ELEMENT_HANDLING&&typeof _.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ke.allowCustomizedBuiltInElements=_.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ri=Cc.indexOf(_.PARSER_MEDIA_TYPE)===-1?ri=Ac:ri=_.PARSER_MEDIA_TYPE,li=ri==="application/xhtml+xml"?function(x){return x}:E,ut&&(pi=!1),Pi&&(ti=!0),ii&&(p=D({},[].concat(_e(Pe))),G=[],ii.html===!0&&(D(p,oe),D(G,Y)),ii.svg===!0&&(D(p,Q),D(G,P),D(G,xe)),ii.svgFilters===!0&&(D(p,ce),D(G,P),D(G,xe)),ii.mathMl===!0&&(D(p,re),D(G,Xe),D(G,xe))),_.ADD_TAGS&&(p===L&&(p=U(p)),D(p,_.ADD_TAGS)),_.ADD_ATTR&&(G===Re&&(G=U(G)),D(G,_.ADD_ATTR)),_.ADD_URI_SAFE_ATTR&&D($i,_.ADD_URI_SAFE_ATTR),_.FORBID_CONTENTS&&(ni===Tl&&(ni=U(ni)),D(ni,_.FORBID_CONTENTS)),qi&&(p["#text"]=!0),Ct&&D(p,["html","head","body"]),p.table&&(D(p,["tbody"]),delete rt.tbody),s&&s(_),ai=_)},Ll=D({},["mi","mo","mn","ms","mtext"]),Ml=D({},["foreignobject","desc","title","annotation-xml"]),Ii=D({},Q);D(Ii,ce),D(Ii,Ee);var ln=D({},re);D(ln,ue);var Oc=function(_){var x=Ot(_);(!x||!x.tagName)&&(x={namespaceURI:Ut,tagName:"template"});var Z=E(_.tagName),Ie=E(x.tagName);if(_.namespaceURI===tn)return x.namespaceURI===Ut?Z==="svg":x.namespaceURI===en?Z==="svg"&&(Ie==="annotation-xml"||Ll[Ie]):Boolean(Ii[Z]);if(_.namespaceURI===en)return x.namespaceURI===Ut?Z==="math":x.namespaceURI===tn?Z==="math"&&Ml[Ie]:Boolean(ln[Z]);if(_.namespaceURI===Ut){if(x.namespaceURI===tn&&!Ml[Ie]||x.namespaceURI===en&&!Ll[Ie])return!1;var lt=D({},["title","style","font","a","script"]);return!ln[Z]&&(lt[Z]||!Ii[Z])}return!1},Mt=function(_){A(F.removed,{element:_});try{_.parentNode.removeChild(_)}catch(x){try{_.outerHTML=Ht}catch(Z){_.remove()}}},Nl=function(_,x){try{A(F.removed,{attribute:x.getAttributeNode(_),from:x})}catch(Z){A(F.removed,{attribute:null,from:x})}if(x.removeAttribute(_),_==="is"&&!G[_])if(ti||Pi)try{Mt(x)}catch(Z){}else try{x.setAttribute(_,"")}catch(Z){}},Dl=function(_){var x=void 0,Z=void 0;if(Qi)_="<remove></remove>"+_;else{var Ie=O(_,/^[\r\n\t ]+/);Z=Ie&&Ie[0]}ri==="application/xhtml+xml"&&(_='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_+"</body></html>");var lt=ft?ft.createHTML(_):_;if(Ri===Ut)try{x=new jt().parseFromString(lt,ri)}catch(ot){}if(!x||!x.documentElement){x=Lt.createDocument(Ri,"template",null);try{x.documentElement.innerHTML=nn?"":lt}catch(ot){}}var at=x.body||x.documentElement;return _&&Z&&at.insertBefore(fe.createTextNode(Z),at.childNodes[0]||null),Ri===Ut?Li.call(x,Ct?"html":"body")[0]:Ct?x.documentElement:at},Pl=function(_){return gt.call(_.ownerDocument||_,_,wt.SHOW_ELEMENT|wt.SHOW_COMMENT|wt.SHOW_TEXT,null,!1)},Lc=function(_){return _ instanceof St&&(typeof _.nodeName!="string"||typeof _.textContent!="string"||typeof _.removeChild!="function"||!(_.attributes instanceof ge)||typeof _.removeAttribute!="function"||typeof _.setAttribute!="function"||typeof _.namespaceURI!="string"||typeof _.insertBefore!="function")},bi=function(_){return(typeof ct=="undefined"?"undefined":Me(ct))==="object"?_ instanceof ct:_&&(typeof _=="undefined"?"undefined":Me(_))==="object"&&typeof _.nodeType=="number"&&typeof _.nodeName=="string"},Nt=function(_,x,Z){!bt[_]||g(bt[_],function(Ie){Ie.call(F,x,Z,ai)})},xl=function(_){var x=void 0;if(Nt("beforeSanitizeElements",_,null),Lc(_)||O(_.nodeName,/[\u0080-\uFFFF]/))return Mt(_),!0;var Z=li(_.nodeName);if(Nt("uponSanitizeElement",_,{tagName:Z,allowedTags:p}),!bi(_.firstElementChild)&&(!bi(_.content)||!bi(_.content.firstElementChild))&&ve(/<[/\w]/g,_.innerHTML)&&ve(/<[/\w]/g,_.textContent)||Z==="select"&&ve(/<template/i,_.innerHTML))return Mt(_),!0;if(!p[Z]||rt[Z]){if(qi&&!ni[Z]){var Ie=Ot(_)||_.parentNode,lt=Ge(_)||_.childNodes;if(lt&&Ie)for(var at=lt.length,ot=at-1;ot>=0;--ot)Ie.insertBefore(R(lt[ot],!0),he(_))}return!rt[Z]&&Il(Z)&&(ke.tagNameCheck instanceof RegExp&&ve(ke.tagNameCheck,Z)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(Z))?!1:(Mt(_),!0)}return _ instanceof dt&&!Oc(_)||(Z==="noscript"||Z==="noembed")&&ve(/<\/no(script|embed)/i,_.innerHTML)?(Mt(_),!0):(ut&&_.nodeType===3&&(x=_.textContent,x=I(x,mi," "),x=I(x,hi," "),_.textContent!==x&&(A(F.removed,{element:_.cloneNode()}),_.textContent=x)),Nt("afterSanitizeElements",_,null),!1)},Rl=function(_,x,Z){if(El&&(x==="id"||x==="name")&&(Z in fe||Z in Sc))return!1;if(!(pi&&!kt[x]&&ve(Ji,x))){if(!(Di&&ve(Yi,x))){if(!G[x]||kt[x]){if(!(Il(_)&&(ke.tagNameCheck instanceof RegExp&&ve(ke.tagNameCheck,_)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(_))&&(ke.attributeNameCheck instanceof RegExp&&ve(ke.attributeNameCheck,x)||ke.attributeNameCheck instanceof Function&&ke.attributeNameCheck(x))||x==="is"&&ke.allowCustomizedBuiltInElements&&(ke.tagNameCheck instanceof RegExp&&ve(ke.tagNameCheck,Z)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(Z))))return!1}else if(!$i[x]){if(!ve(_i,I(Z,Ni,""))){if(!((x==="src"||x==="xlink:href"||x==="href")&&_!=="script"&&ae(Z,"data:")===0&&Cl[_])){if(!(ei&&!ve(Xi,I(Z,Ni,"")))){if(Z)return!1}}}}}}return!0},Il=function(_){return _.indexOf("-")>0},jl=function(_){var x=void 0,Z=void 0,Ie=void 0,lt=void 0;Nt("beforeSanitizeAttributes",_,null);var at=_.attributes;if(!!at){var ot={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G};for(lt=at.length;lt--;){x=at[lt];var Dt=x,vi=Dt.name,Fl=Dt.namespaceURI;if(Z=Ue(x.value),Ie=li(vi),ot.attrName=Ie,ot.attrValue=Z,ot.keepAttr=!0,ot.forceKeepAttr=void 0,Nt("uponSanitizeAttribute",_,ot),Z=ot.attrValue,!ot.forceKeepAttr&&(Nl(vi,_),!!ot.keepAttr)){if(ve(/\/>/i,Z)){Nl(vi,_);continue}ut&&(Z=I(Z,mi," "),Z=I(Z,hi," "));var Nc=li(_.nodeName);if(!!Rl(Nc,Ie,Z))try{Fl?_.setAttributeNS(Fl,vi,Z):_.setAttribute(vi,Z),S(F.removed)}catch(Dc){}}}Nt("afterSanitizeAttributes",_,null)}},Mc=function ie(_){var x=void 0,Z=Pl(_);for(Nt("beforeSanitizeShadowDOM",_,null);x=Z.nextNode();)Nt("uponSanitizeShadowNode",x,null),!xl(x)&&(x.content instanceof Te&&ie(x.content),jl(x));Nt("afterSanitizeShadowDOM",_,null)};return F.sanitize=function(ie,_){var x=void 0,Z=void 0,Ie=void 0,lt=void 0,at=void 0;if(nn=!ie,nn&&(ie="<!-->"),typeof ie!="string"&&!bi(ie)){if(typeof ie.toString!="function")throw H("toString is not a function");if(ie=ie.toString(),typeof ie!="string")throw H("dirty is not a string, aborting")}if(!F.isSupported){if(Me(v.toStaticHTML)==="object"||typeof v.toStaticHTML=="function"){if(typeof ie=="string")return v.toStaticHTML(ie);if(bi(ie))return v.toStaticHTML(ie.outerHTML)}return ie}if(Ki||rn(_),F.removed=[],typeof ie=="string"&&(gi=!1),!gi)if(ie instanceof ct)x=Dl("<!---->"),Z=x.ownerDocument.importNode(ie,!0),Z.nodeType===1&&Z.nodeName==="BODY"||Z.nodeName==="HTML"?x=Z:x.appendChild(Z);else{if(!ti&&!ut&&!Ct&&ie.indexOf("<")===-1)return ft&&xi?ft.createHTML(ie):ie;if(x=Dl(ie),!x)return ti?null:Ht}x&&Qi&&Mt(x.firstChild);for(var ot=Pl(gi?ie:x);Ie=ot.nextNode();)Ie.nodeType===3&&Ie===lt||xl(Ie)||(Ie.content instanceof Te&&Mc(Ie.content),jl(Ie),lt=Ie);if(lt=null,gi)return ie;if(ti){if(Pi)for(at=Wt.call(x.ownerDocument);x.firstChild;)at.appendChild(x.firstChild);else at=x;return G.shadowroot&&(at=$t.call(V,at,!0)),at}var Dt=Ct?x.outerHTML:x.innerHTML;return ut&&(Dt=I(Dt,mi," "),Dt=I(Dt,hi," ")),ft&&xi?ft.createHTML(Dt):Dt},F.setConfig=function(ie){rn(ie),Ki=!0},F.clearConfig=function(){ai=null,Ki=!1},F.isValidAttribute=function(ie,_,x){ai||rn({});var Z=li(ie),Ie=li(_);return Rl(Z,Ie,x)},F.addHook=function(ie,_){typeof _=="function"&&(bt[ie]=bt[ie]||[],A(bt[ie],_))},F.removeHook=function(ie){bt[ie]&&S(bt[ie])},F.removeHooks=function(ie){bt[ie]&&(bt[ie]=[])},F.removeAllHooks=function(){bt={}},F}var Be=ye();return Be})});const $n=["message/delivery-status","message/rfc822","text/calendar"];function er(i,e,t){const n=i.slice();return n[7]=e[t],n}function tr(i){let e,t,n=typeof i[1]!==null&&ir(i),r={ctx:i,current:null,token:null,hasCatch:!1,pending:Wo,then:Vo,catch:zo,value:6};return Gt(i[3],r),{c(){n&&n.c(),e=B(),t=w("div"),r.block.c(),f(t,"class","attachment")},m(a,l){n&&n.m(a,l),k(a,e,l),k(a,t,l),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null},p(a,l){i=a,typeof i[1]!==null?n?n.p(i,l):(n=ir(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),Ai(r,i,l)},d(a){n&&n.d(a),a&&h(e),a&&h(t),r.block.d(),r.token=null,r=null}}}function ir(i){let e,t=Qt.sanitize(i[1])+"",n;return{c(){e=new Hi,n=Ze(),e.a=n},m(r,a){e.m(t,r,a),k(r,n,a)},p(r,a){a&2&&t!==(t=Qt.sanitize(r[1])+"")&&e.p(t)},d(r){r&&h(n),r&&e.d()}}}function zo(i){return{c:T,m:T,p:T,d:T}}function Vo(i){let e=i[6]&&Array.isArray(i[6])&&i[6].length>0,t,n=e&&Go(i);return{c(){n&&n.c(),t=Ze()},m(r,a){n&&n.m(r,a),k(r,t,a)},p(r,a){e&&n.p(r,a)},d(r){n&&n.d(r),r&&h(t)}}}function Go(i){let e,t=i[6],n=[];for(let r=0;r<t.length;r+=1)n[r]=nr(er(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ze()},m(r,a){for(let l=0;l<n.length;l+=1)n[l].m(r,a);k(r,e,a)},p(r,a){if(a&12){t=r[6];let l;for(l=0;l<t.length;l+=1){const o=er(r,t,l);n[l]?n[l].p(o,a):(n[l]=nr(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){mt(n,r),r&&h(e)}}}function nr(i){let e,t=(i[7].filename||i[7].id)+"",n,r,a,l;function o(...s){return i[4](i[7],...s)}return{c(){e=w("button"),n=J(t),r=B()},m(s,c){k(s,e,c),b(e,n),b(e,r),a||(l=se(e,"click",Et(o)),a=!0)},p(s,c){i=s},d(s){s&&h(e),a=!1,l()}}}function Wo(i){return{c:T,m:T,p:T,d:T}}function Zo(i){let e,t=i[0]&&tr(i);return{c(){e=w("div"),t&&t.c(),this.c=T},m(n,r){k(n,e,r),t&&t.m(e,null)},p(n,[r]){n[0]?t?t.p(n,r):(t=tr(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:T,o:T,d(n){n&&h(e),t&&t.d()}}}function Jo(i,e,t){let{message:n}=e,{body:r}=e;const a=fi(xt());async function l(c,d){c.stopImmediatePropagation(),a("downloadClicked",{event:c,message:n,file:d})}let o=[];Bi(()=>{if(n&&n.files.length>0)for(const[c,d]of n.files.entries())d.content_disposition==="attachment"&&!d.content_id&&!$n.includes(d.content_type)&&o.push(n.files[c])});const s=(c,d)=>l(d,c);return i.$$set=c=>{"message"in c&&t(0,n=c.message),"body"in c&&t(1,r=c.body)},[n,r,l,o,s]}class Yo extends Rt{constructor(e){super();this.shadowRoot.innerHTML="<style>div{width:inherit}div div.attachment{margin:1rem 0 0 0;display:flex;gap:0.5rem}div div.attachment button{height:fit-content;width:max-content;padding:0.3rem 1rem;border:1px solid var(--grey);border-radius:30px;background:white;cursor:pointer}div div.attachment button:hover{background:var(--grey-light)}</style>",Ve(this,{target:this.shadowRoot,props:zt(this.attributes),customElement:!0},Jo,Zo,ze,{message:0,body:1},null),e&&(e.target&&k(e.target,this,e.anchor),e.props&&(this.$set(e.props),ne()))}static get observedAttributes(){return["message","body"]}get message(){return this.$$.ctx[0]}set message(e){this.$$set({message:e}),ne()}get body(){return this.$$.ctx[1]}set body(e){this.$$set({body:e}),ne()}}customElements.define("nylas-message-body",Yo);function rr(i){let e,t;return{c(){e=w("p"),t=J(i[3])},m(n,r){k(n,e,r),b(e,t)},p(n,r){r&8&&pe(t,n[3])},d(n){n&&h(e)}}}function lr(i){let e,t,n;var r=i[2];function a(l){return{props:{"aria-hidden":"true"}}}return r&&(t=new r(a())),{c(){e=w("div"),t&&Ye(t.$$.fragment),f(e,"class","icon-container"),Le(e,"reverse-icon",i[2]&&i[4])},m(l,o){k(l,e,o),t&&Je(t,e,null),n=!0},p(l,o){if(r!==(r=l[2])){if(t){je();const s=t;j(s.$$.fragment,1,0,()=>{We(s,1)}),Fe()}r?(t=new r(a()),Ye(t.$$.fragment),N(t.$$.fragment,1),Je(t,e,null)):t=null}o&20&&Le(e,"reverse-icon",l[2]&&l[4])},i(l){n||(t&&N(t.$$.fragment,l),n=!0)},o(l){t&&j(t.$$.fragment,l),n=!1},d(l){l&&h(e),t&&We(t)}}}function ar(i){let e,t;return{c(){e=w("p"),t=J(i[0]),f(e,"id",i[1]),f(e,"role","tooltip"),f(e,"tabindex","0"),f(e,"class","tooltip")},m(n,r){k(n,e,r),b(e,t)},p(n,r){r&1&&pe(t,n[0]),r&2&&f(e,"id",n[1])},d(n){n&&h(e)}}}function Xo(i){let e,t,n,r,a,l,o,s,c,d,m=i[3]&&rr(i),u=i[2]&&lr(i),y=i[4]&&ar(i);return{c(){e=w("button"),m&&m.c(),t=B(),u&&u.c(),l=B(),y&&y.c(),o=Ze(),this.c=T,f(e,"class","tooltip-trigger"),f(e,"aria-expanded",n=i[4]?"true":"false"),f(e,"id",r=i[1]?`tooltip-trigger-${i[1]}`:""),f(e,"aria-describedby",i[1]),f(e,"aria-label",a=i[4]?"hide email":"show email")},m(g,S){k(g,e,S),m&&m.m(e,null),b(e,t),u&&u.m(e,null),k(g,l,S),y&&y.m(g,S),k(g,o,S),s=!0,c||(d=se(e,"click",Et(i[7])),c=!0)},p(g,[S]){g[3]?m?m.p(g,S):(m=rr(g),m.c(),m.m(e,t)):m&&(m.d(1),m=null),g[2]?u?(u.p(g,S),S&4&&N(u,1)):(u=lr(g),u.c(),N(u,1),u.m(e,null)):u&&(je(),j(u,1,1,()=>{u=null}),Fe()),(!s||S&16&&n!==(n=g[4]?"true":"false"))&&f(e,"aria-expanded",n),(!s||S&2&&r!==(r=g[1]?`tooltip-trigger-${g[1]}`:""))&&f(e,"id",r),(!s||S&2)&&f(e,"aria-describedby",g[1]),(!s||S&16&&a!==(a=g[4]?"hide email":"show email"))&&f(e,"aria-label",a),g[4]?y?y.p(g,S):(y=ar(g),y.c(),y.m(o.parentNode,o)):y&&(y.d(1),y=null)},i(g){s||(N(u),s=!0)},o(g){j(u),s=!1},d(g){g&&h(e),m&&m.d(),u&&u.d(),g&&h(l),y&&y.d(g),g&&h(o),c=!1,d()}}}function Ko(i,e,t){let n;const r=fi(xt());let{current_tooltip_id:a}=e,{content:l}=e,{id:o}=e,{icon:s}=e,{text:c}=e;function d(){a!==o?r("toggleTooltip",{tooltipID:o}):t(4,n=!n)}const m=u=>d();return i.$$set=u=>{"current_tooltip_id"in u&&t(6,a=u.current_tooltip_id),"content"in u&&t(0,l=u.content),"id"in u&&t(1,o=u.id),"icon"in u&&t(2,s=u.icon),"text"in u&&t(3,c=u.text)},i.$$.update=()=>{i.$$.dirty&66&&t(4,n=!!(a&&a===o))},[l,o,s,c,n,d,a,m]}class Qo extends Rt{constructor(e){super();this.shadowRoot.innerHTML="<style>button.tooltip-trigger{background:transparent;border:none;box-shadow:none;cursor:pointer;padding:0;height:auto;display:flex;flex-direction:row;align-items:center;align-content:center;justify-content:center}.icon-container{width:1rem}.icon-container.reverse-icon{transform:rotate(180deg)}p.tooltip{background:var(--grey-lightest);border-radius:2px;color:var(--grey-dark);box-shadow:0px 3px 2px rgba(0, 0, 0, 0.25);left:50%;padding:0.5rem;position:absolute;top:8px;transform:translate(-50%, 0);width:max-content;max-width:240px;max-height:240px;overflow-y:scroll;word-break:break-word;z-index:1}</style>",Ve(this,{target:this.shadowRoot,props:zt(this.attributes),customElement:!0},Ko,Xo,ze,{current_tooltip_id:6,content:0,id:1,icon:2,text:3},null),e&&(e.target&&k(e.target,this,e.anchor),e.props&&(this.$set(e.props),ne()))}static get observedAttributes(){return["current_tooltip_id","content","id","icon","text"]}get current_tooltip_id(){return this.$$.ctx[6]}set current_tooltip_id(e){this.$$set({current_tooltip_id:e}),ne()}get content(){return this.$$.ctx[0]}set content(e){this.$$set({content:e}),ne()}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),ne()}get icon(){return this.$$.ctx[2]}set icon(e){this.$$set({icon:e}),ne()}get text(){return this.$$.ctx[3]}set text(e){this.$$set({text:e}),ne()}}customElements.define("nylas-tooltip",Qo);function qo(i){let e,t,n,r,a,l,o,s,c,d,m,u=[{id:"Capa_1"},{"enable-background":"new 0 0 497 497"},{height:"512"},{viewBox:"0 0 497 497"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],y={};for(let g=0;g<u.length;g+=1)y=te(y,u[g]);return{c(){e=X("svg"),t=X("g"),n=X("circle"),r=X("circle"),a=X("circle"),l=X("ellipse"),o=X("ellipse"),s=X("ellipse"),c=X("ellipse"),d=X("ellipse"),m=X("circle"),this.h()},l(g){e=ee(g,"svg",{id:!0,"enable-background":!0,height:!0,viewBox:!0,xmlns:!0});var S=q(e);t=ee(S,"g",{});var A=q(t);n=ee(A,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),q(n).forEach(h),r=ee(A,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),q(r).forEach(h),a=ee(A,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),q(a).forEach(h),l=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(l).forEach(h),o=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(o).forEach(h),s=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(s).forEach(h),c=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(c).forEach(h),d=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(d).forEach(h),m=ee(A,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),q(m).forEach(h),A.forEach(h),S.forEach(h),this.h()},h(){f(n,"cx","98"),f(n,"cy","376"),f(n,"fill","#909ba6"),f(n,"r","53"),f(r,"cx","439"),f(r,"cy","336"),f(r,"fill","#c8d2dc"),f(r,"r","46"),f(a,"cx","397"),f(a,"cy","112"),f(a,"fill","#e9edf1"),f(a,"r","38"),f(l,"cx","56.245"),f(l,"cy","244.754"),f(l,"fill","#7e8b96"),f(l,"rx","56.245"),f(l,"ry","54.874"),f(o,"cx","217.821"),f(o,"cy","447.175"),f(o,"fill","#a2abb8"),f(o,"rx","51.132"),f(o,"ry","49.825"),f(s,"cx","349.229"),f(s,"cy","427.873"),f(s,"fill","#b9c3cd"),f(s,"rx","48.575"),f(s,"ry","47.297"),f(c,"cx","117.092"),f(c,"cy","114.794"),f(c,"fill","#5f6c75"),f(c,"rx","58.801"),f(c,"ry","57.397"),f(d,"cx","453.538"),f(d,"cy","216.477"),f(d,"fill","#dce6eb"),f(d,"rx","43.462"),f(d,"ry","42.656"),f(m,"cx","263"),f(m,"cy","62"),f(m,"fill","#4e5a61"),f(m,"r","62"),Ae(e,y)},m(g,S){$e(g,e,S),me(e,t),me(t,n),me(t,r),me(t,a),me(t,l),me(t,o),me(t,s),me(t,c),me(t,d),me(t,m)},p(g,[S]){Ae(e,y=et(u,[{id:"Capa_1"},{"enable-background":"new 0 0 497 497"},{height:"512"},{viewBox:"0 0 497 497"},{xmlns:"http://www.w3.org/2000/svg"},S&1&&g[0]]))},i:T,o:T,d(g){g&&h(e)}}}function $o(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class es extends tt{constructor(e){super();Ve(this,e,$o,qo,ze,{})}}function or(i,e,t){const n=i.slice();return n[94]=e[t],n[96]=t,n}function sr(i,e,t){const n=i.slice();return n[90]=e[t],n}function cr(i,e,t){const n=i.slice();return n[91]=e[t],n}function dr(i,e,t){const n=i.slice();return n[90]=e[t],n}function fr(i,e,t){const n=i.slice();return n[91]=e[t],n}function ur(i,e,t){const n=i.slice();return n[2]=e[t],n[88]=e,n[89]=t,n}function mr(i,e,t){const n=i.slice();return n[91]=e[t],n}function hr(i,e,t){const n=i.slice();return n[94]=e[t],n[96]=t,n}function ts(i){let e=Object.keys(i[4].message).length>0,t,n=e&&_r(i);return{c(){n&&n.c(),t=Ze()},m(r,a){n&&n.m(r,a),k(r,t,a)},p(r,a){a[0]&16&&(e=Object.keys(r[4].message).length>0),e?n?n.p(r,a):(n=_r(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:T,o:T,d(r){n&&n.d(r),r&&h(t)}}}function is(i){let e,t,n,r={ctx:i,current:null,token:null,hasCatch:!1,pending:js,then:ss,catch:os,value:3,blocks:[,,,]};return Gt(t=i[6],r),{c(){e=Ze(),r.block.c()},m(a,l){k(a,e,l),r.block.m(a,r.anchor=l),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(a,l){i=a,r.ctx=i,l[0]&64&&t!==(t=i[6])&&Gt(t,r)||Ai(r,i,l)},i(a){n||(N(r.block),n=!0)},o(a){for(let l=0;l<3;l+=1){const o=r.blocks[l];j(o)}n=!1},d(a){a&&h(e),r.block.d(a),r.token=null,r=null}}}function _r(i){var Pe,Y,P,Xe,xe,W,de,He;let e,t,n=((Pe=i[4].message)==null?void 0:Pe.subject)+"",r,a,l,o,s,c,d,m,u,y=(i[7]&&((Y=i[2])==null?void 0:Y.from[0].email)===i[7]?"me":((Xe=(P=i[4].message)==null?void 0:P.from[0])==null?void 0:Xe.name)||((W=(xe=i[4].message)==null?void 0:xe.from[0])==null?void 0:W.email))+"",g,S,A,E,O,I,ae,Ue,ve,H,K,Ce,D,U=i[4].show_contact_avatar&&pr(i),le=(de=i[2])==null?void 0:de.to.slice(0,pt),oe=[];for(let $=0;$<le.length;$+=1)oe[$]=br(or(i,le,$));let Q=((He=i[2].to)==null?void 0:He.length)>pt&&vr(i),ce=i[4].show_received_timestamp&&wr(i);function Ee($,Se){if($[4].clean_conversation&&$[2].conversation)return as;if($[4].message)return ls}let re=Ee(i),ue=re&&re(i);return{c(){var $,Se;e=w("div"),t=w("header"),r=J(n),a=B(),l=w("div"),o=w("div"),s=w("div"),c=w("div"),U&&U.c(),d=B(),m=w("div"),u=w("span"),g=J(y),S=B(),A=w("nylas-tooltip"),I=B(),ae=w("div");for(let De=0;De<oe.length;De+=1)oe[De].c();Ue=B(),Q&&Q.c(),ve=B(),ce&&ce.c(),H=B(),K=w("div"),ue&&ue.c(),f(u,"class","name"),M(A,"id",E=($=i[4].message)==null?void 0:$.id),M(A,"current_tooltip_id",i[12]),M(A,"icon",ui),M(A,"content",O=(Se=i[4].message)==null?void 0:Se.from[0].email),f(m,"class","message-from"),f(c,"class","avatar-from"),f(ae,"class","message-to"),f(s,"class","message-from-to"),f(o,"class","message-head"),f(K,"class","message-body"),f(l,"class","individual-message expanded"),f(e,"class","email-row expanded singular")},m($,Se){k($,e,Se),b(e,t),b(t,r),b(e,a),b(e,l),b(l,o),b(o,s),b(s,c),U&&U.m(c,null),b(c,d),b(c,m),b(m,u),b(u,g),b(m,S),b(m,A),b(s,I),b(s,ae);for(let De=0;De<oe.length;De+=1)oe[De].m(ae,null);b(ae,Ue),Q&&Q.m(ae,null),b(o,ve),ce&&ce.m(o,null),b(l,H),b(l,K),ue&&ue.m(K,null),Ce||(D=se(A,"toggleTooltip",i[25]),Ce=!0)},p($,Se){var De,Oe,Me,_e,Ne,we,ye,Be,v,F;if(Se[0]&16&&n!==(n=((De=$[4].message)==null?void 0:De.subject)+"")&&pe(r,n),$[4].show_contact_avatar?U?U.p($,Se):(U=pr($),U.c(),U.m(c,d)):U&&(U.d(1),U=null),Se[0]&148&&y!==(y=($[7]&&((Oe=$[2])==null?void 0:Oe.from[0].email)===$[7]?"me":((_e=(Me=$[4].message)==null?void 0:Me.from[0])==null?void 0:_e.name)||((we=(Ne=$[4].message)==null?void 0:Ne.from[0])==null?void 0:we.email))+"")&&pe(g,y),Se[0]&16&&E!==(E=(ye=$[4].message)==null?void 0:ye.id)&&M(A,"id",E),Se[0]&4096&&M(A,"current_tooltip_id",$[12]),Se[0]&16&&O!==(O=(Be=$[4].message)==null?void 0:Be.from[0].email)&&M(A,"content",O),Se[0]&20){le=(v=$[2])==null?void 0:v.to.slice(0,pt);let V;for(V=0;V<le.length;V+=1){const fe=or($,le,V);oe[V]?oe[V].p(fe,Se):(oe[V]=br(fe),oe[V].c(),oe[V].m(ae,Ue))}for(;V<oe.length;V+=1)oe[V].d(1);oe.length=le.length}((F=$[2].to)==null?void 0:F.length)>pt?Q?Q.p($,Se):(Q=vr($),Q.c(),Q.m(ae,null)):Q&&(Q.d(1),Q=null),$[4].show_received_timestamp?ce?ce.p($,Se):(ce=wr($),ce.c(),ce.m(o,null)):ce&&(ce.d(1),ce=null),re===(re=Ee($))&&ue?ue.p($,Se):(ue&&ue.d(1),ue=re&&re($),ue&&(ue.c(),ue.m(K,null)))},d($){$&&h(e),U&&U.d(),mt(oe,$),Q&&Q.d(),ce&&ce.d(),ue&&ue.d(),Ce=!1,D()}}}function pr(i){let e,t;return{c(){e=w("div"),t=w("nylas-contact-image"),M(t,"contact_query",i[11]),M(t,"contact",i[14]),f(e,"class","default-avatar")},m(n,r){k(n,e,r),b(e,t)},p(n,r){r[0]&2048&&M(t,"contact_query",n[11]),r[0]&16384&&M(t,"contact",n[14])},d(n){n&&h(e)}}}function gr(i){let e;return{c(){e=J("Me")},m(t,n){k(t,e,n)},d(t){t&&h(e)}}}function ns(i){let e=i[94].email+"",t;return{c(){t=J(e)},m(n,r){k(n,t,r)},p(n,r){r[0]&4&&e!==(e=n[94].email+"")&&pe(t,e)},d(n){n&&h(t)}}}function rs(i){var o;let e=((o=i[94].name)!=null?o:i[4].you.name)+"",t,n,r=i[94].email+"",a,l;return{c(){t=J(e),n=J(" <"),a=J(r),l=J(">")},m(s,c){k(s,t,c),k(s,n,c),k(s,a,c),k(s,l,c)},p(s,c){var d;c[0]&20&&e!==(e=((d=s[94].name)!=null?d:s[4].you.name)+"")&&pe(t,e),c[0]&4&&r!==(r=s[94].email+"")&&pe(a,r)},d(s){s&&h(t),s&&h(n),s&&h(a),s&&h(l)}}}function br(i){var m;let e,t,n=(i[96]===0?"to ":"")+"",r,a,l,o=i[4].you&&((m=i[94])==null?void 0:m.email)===i[4].you.email_address&&gr();function s(u,y){if(u[94].email&&u[94].name)return rs;if(u[94].email&&!u[94].name)return ns}let c=s(i),d=c&&c(i);return{c(){e=w("div"),t=w("span"),r=J(n),a=B(),o&&o.c(),l=B(),d&&d.c()},m(u,y){k(u,e,y),b(e,t),b(t,r),b(t,a),o&&o.m(t,null),b(t,l),d&&d.m(t,null)},p(u,y){var g;u[4].you&&((g=u[94])==null?void 0:g.email)===u[4].you.email_address?o||(o=gr(),o.c(),o.m(t,l)):o&&(o.d(1),o=null),c===(c=s(u))&&d?d.p(u,y):(d&&d.d(1),d=c&&c(u),d&&(d.c(),d.m(t,null)))},d(u){u&&h(e),o&&o.d(),d&&d.d()}}}function vr(i){let e,t,n,r,a,l,o;return{c(){var s;e=w("div"),t=w("nylas-tooltip"),M(t,"id",n=`show-more-participants-${i[2].id}`),M(t,"current_tooltip_id",i[12]),M(t,"icon",ui),M(t,"text",r=`And ${((s=i[2].to)==null?void 0:s.length)-pt} more`),M(t,"content",a=`${i[2].to.map($r).join(", ")}`)},m(s,c){k(s,e,c),b(e,t),l||(o=se(t,"toggleTooltip",i[25]),l=!0)},p(s,c){var d;c[0]&4&&n!==(n=`show-more-participants-${s[2].id}`)&&M(t,"id",n),c[0]&4096&&M(t,"current_tooltip_id",s[12]),c[0]&4&&r!==(r=`And ${((d=s[2].to)==null?void 0:d.length)-pt} more`)&&M(t,"text",r),c[0]&4&&a!==(a=`${s[2].to.map($r).join(", ")}`)&&M(t,"content",a)},d(s){s&&h(e),l=!1,o()}}}function wr(i){let e,t,n=i[24](new Date(i[4].message.date*1e3))+"",r;return{c(){e=w("div"),t=w("span"),r=J(n),f(e,"class","message-date")},m(a,l){k(a,e,l),b(e,t),b(t,r)},p(a,l){l[0]&16&&n!==(n=a[24](new Date(a[4].message.date*1e3))+"")&&pe(r,n)},d(a){a&&h(e)}}}function ls(i){let e,t,n,r,a;return{c(){e=w("nylas-message-body"),M(e,"message",t=i[4].message),M(e,"body",n=i[4].message.body)},m(l,o){k(l,e,o),r||(a=se(e,"downloadClicked",i[28]),r=!0)},p(l,o){o[0]&16&&t!==(t=l[4].message)&&M(e,"message",t),o[0]&16&&n!==(n=l[4].message.body)&&M(e,"body",n)},d(l){l&&h(e),r=!1,a()}}}function as(i){var r,a;let e,t=Qt.sanitize((a=(r=i[4].message)==null?void 0:r.conversation)!=null?a:"")+"",n;return{c(){e=new Hi,n=Ze(),e.a=n},m(l,o){e.m(t,l,o),k(l,n,o)},p(l,o){var s,c;o[0]&16&&t!==(t=Qt.sanitize((c=(s=l[4].message)==null?void 0:s.conversation)!=null?c:"")+"")&&e.p(t)},d(l){l&&h(n),l&&e.d()}}}function os(i){return{c:T,m:T,p:T,i:T,o:T,d:T}}function ss(i){let e,t,n=i[3]&&i[6]&&yr(i);return{c(){n&&n.c(),e=Ze()},m(r,a){n&&n.m(r,a),k(r,e,a),t=!0},p(r,a){r[3]&&r[6]?n?(n.p(r,a),a[0]&64&&N(n,1)):(n=yr(r),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(je(),j(n,1,1,()=>{n=null}),Fe())},i(r){t||(N(n),t=!0)},o(r){j(n),t=!1},d(r){n&&n.d(r),r&&h(e)}}}function yr(i){let e,t,n,r;const a=[ds,cs],l=[];function o(s,c){return s[6].expanded?0:1}return e=o(i),t=l[e]=a[e](i),{c(){t.c(),n=Ze()},m(s,c){l[e].m(s,c),k(s,n,c),r=!0},p(s,c){let d=e;e=o(s),e===d?l[e].p(s,c):(je(),j(l[d],1,1,()=>{l[d]=null}),Fe(),t=l[e],t?t.p(s,c):(t=l[e]=a[e](s),t.c()),N(t,1),t.m(n.parentNode,n))},i(s){r||(N(t),r=!0)},o(s){j(t),r=!1},d(s){l[e].d(s),s&&h(n)}}}function cs(i){let e,t,n,r;const a=[us,fs],l=[];function o(s,c){return s[6]&&s[6].messages.length<=0?0:1}return t=o(i),n=l[t]=a[t](i),{c(){e=w("div"),n.c(),f(e,"class","email-row condensed"),Le(e,"show_star",i[4].show_star),Le(e,"unread",i[6].unread),Le(e,"disable-click",i[6]&&i[6].messages.length<=0)},m(s,c){k(s,e,c),l[t].m(e,null),r=!0},p(s,c){let d=t;t=o(s),t===d?l[t].p(s,c):(je(),j(l[d],1,1,()=>{l[d]=null}),Fe(),n=l[t],n?n.p(s,c):(n=l[t]=a[t](s),n.c()),N(n,1),n.m(e,null)),c[0]&16&&Le(e,"show_star",s[4].show_star),c[0]&64&&Le(e,"unread",s[6].unread),c[0]&64&&Le(e,"disable-click",s[6]&&s[6].messages.length<=0)},i(s){r||(N(n),r=!0)},o(s){j(n),r=!1},d(s){s&&h(e),l[t].d()}}}function ds(i){var ve;let e,t,n,r,a,l=((ve=i[3])==null?void 0:ve.subject)+"",o,s,c,d,m,u,y,g,S,A=i[4].click_action==="mailbox"&&jr(i),E=i[4].show_star&&Fr(i),O=i[4].show_thread_actions&&Hr(i);const I=[Cs,Ts],ae=[];function Ue(H,K){return H[6].messages.length?0:1}return u=Ue(i),y=ae[u]=I[u](i),{c(){e=w("div"),t=w("header"),n=w("div"),A&&A.c(),r=B(),a=w("h1"),o=J(l),s=B(),c=w("div"),E&&E.c(),d=B(),O&&O.c(),m=B(),y.c(),f(c,"role","toolbar"),f(t,"class","subject-title"),Le(t,"mailbox",i[4].click_action==="mailbox"),f(e,"class",g="email-row expanded "+(i[4].click_action==="mailbox"?"expanded-mailbox-thread":""))},m(H,K){k(H,e,K),b(e,t),b(t,n),A&&A.m(n,null),b(n,r),b(n,a),b(a,o),b(t,s),b(t,c),E&&E.m(c,null),b(c,d),O&&O.m(c,null),b(e,m),ae[u].m(e,null),S=!0},p(H,K){var D;H[4].click_action==="mailbox"?A?(A.p(H,K),K[0]&16&&N(A,1)):(A=jr(H),A.c(),N(A,1),A.m(n,r)):A&&(je(),j(A,1,1,()=>{A=null}),Fe()),(!S||K[0]&64)&&l!==(l=((D=H[3])==null?void 0:D.subject)+"")&&pe(o,l),H[4].show_star?E?E.p(H,K):(E=Fr(H),E.c(),E.m(c,d)):E&&(E.d(1),E=null),H[4].show_thread_actions?O?(O.p(H,K),K[0]&16&&N(O,1)):(O=Hr(H),O.c(),N(O,1),O.m(c,null)):O&&(je(),j(O,1,1,()=>{O=null}),Fe()),K[0]&16&&Le(t,"mailbox",H[4].click_action==="mailbox");let Ce=u;u=Ue(H),u===Ce?ae[u].p(H,K):(je(),j(ae[Ce],1,1,()=>{ae[Ce]=null}),Fe(),y=ae[u],y?y.p(H,K):(y=ae[u]=I[u](H),y.c()),N(y,1),y.m(e,null)),(!S||K[0]&16&&g!==(g="email-row expanded "+(H[4].click_action==="mailbox"?"expanded-mailbox-thread":"")))&&f(e,"class",g)},i(H){S||(N(A),N(O),N(y),S=!0)},o(H){j(A),j(O),j(y),S=!1},d(H){H&&h(e),A&&A.d(),E&&E.d(),O&&O.d(),ae[u].d()}}}function fs(i){var nt,ct,dt,wt;let e,t,n,r,a,l,o=i[26](i[6].messages),s,c=qt(i[6].messages,i[6].participants),d,m,u=qt(i[6].messages,i[6].participants),y,g,S,A,E,O,I,ae=((nt=i[3])==null?void 0:nt.subject)+"",Ue,ve,H,K=i[3].snippet+"",Ce,D,U=Object.keys(i[13]).length>0,le,oe,Q=i[6].has_attachments&&Object.keys(i[13]).length>0,ce,Ee,re,ue,Pe,Y,P=((ct=i[3])==null?void 0:ct.subject)+"",Xe,xe,W,de=i[3].snippet+"",He,$,Se=Object.keys(i[13]).length>0,De,Oe=i[4].show_star&&kr(i),Me=i[4].show_contact_avatar&&Er(i),_e=o&&Tr(i),Ne=c&&Cr(i),we=u&&Ar(i),ye=i[4].show_number_of_messages&&((wt=(dt=i[6])==null?void 0:dt.messages)==null?void 0:wt.length)>0&&Lr(i),Be=U&&Mr(i),v=Q&&Pr();const F=[hs,ms],V=[];function fe(z,ge){return z[4].show_thread_actions?0:z[4].show_received_timestamp?1:-1}~(Ee=fe(i))&&(re=V[Ee]=F[Ee](i));let Te=Se&&xr(i);return{c(){e=w("div"),Oe&&Oe.c(),t=B(),n=w("div"),Me&&Me.c(),r=B(),a=w("div"),l=w("div"),_e&&_e.c(),s=B(),Ne&&Ne.c(),d=B(),m=w("div"),we&&we.c(),y=B(),ye&&ye.c(),S=B(),A=w("div"),E=w("div"),O=w("div"),I=w("span"),Ue=J(ae),ve=B(),H=w("span"),Ce=J(K),D=B(),Be&&Be.c(),le=B(),oe=w("div"),v&&v.c(),ce=B(),re&&re.c(),ue=B(),Pe=w("div"),Y=w("span"),Xe=J(P),xe=B(),W=w("span"),He=J(de),$=B(),Te&&Te.c(),f(l,"class","participants-name"),Le(l,"condensed",qt(i[6].messages,i[6].participants)),f(m,"class","participants-count"),f(a,"class","from-participants"),f(n,"class","from-message-count"),f(e,"class",g="from"+(i[4].show_star?"-star":"")),f(I,"class","subject"),f(H,"class","snippet"),f(O,"class","desktop-subject-snippet"),f(E,"class","snippet-attachment-container"),Le(oe,"date",i[4].show_received_timestamp),Le(oe,"action-icons",i[4].show_thread_actions),f(A,"class","subject-snippet-date"),f(Y,"class","subject"),f(W,"class","snippet"),f(Pe,"class","mobile-subject-snippet")},m(z,ge){k(z,e,ge),Oe&&Oe.m(e,null),b(e,t),b(e,n),Me&&Me.m(n,null),b(n,r),b(n,a),b(a,l),_e&&_e.m(l,null),b(l,s),Ne&&Ne.m(l,null),b(a,d),b(a,m),we&&we.m(m,null),b(n,y),ye&&ye.m(n,null),k(z,S,ge),k(z,A,ge),b(A,E),b(E,O),b(O,I),b(I,Ue),b(O,ve),b(O,H),b(H,Ce),b(E,D),Be&&Be.m(E,null),b(A,le),b(A,oe),v&&v.m(oe,null),b(oe,ce),~Ee&&V[Ee].m(oe,null),k(z,ue,ge),k(z,Pe,ge),b(Pe,Y),b(Y,Xe),b(Pe,xe),b(Pe,W),b(W,He),b(Pe,$),Te&&Te.m(Pe,null),De=!0},p(z,ge){var jt,Ft,C,R;z[4].show_star?Oe?Oe.p(z,ge):(Oe=kr(z),Oe.c(),Oe.m(e,t)):Oe&&(Oe.d(1),Oe=null),z[4].show_contact_avatar?Me?Me.p(z,ge):(Me=Er(z),Me.c(),Me.m(n,r)):Me&&(Me.d(1),Me=null),ge[0]&64&&(o=z[26](z[6].messages)),o?_e?_e.p(z,ge):(_e=Tr(z),_e.c(),_e.m(l,s)):_e&&(_e.d(1),_e=null),ge[0]&64&&(c=qt(z[6].messages,z[6].participants)),c?Ne?Ne.p(z,ge):(Ne=Cr(z),Ne.c(),Ne.m(l,null)):Ne&&(Ne.d(1),Ne=null),ge[0]&64&&Le(l,"condensed",qt(z[6].messages,z[6].participants)),ge[0]&64&&(u=qt(z[6].messages,z[6].participants)),u?we?we.p(z,ge):(we=Ar(z),we.c(),we.m(m,null)):we&&(we.d(1),we=null),z[4].show_number_of_messages&&((Ft=(jt=z[6])==null?void 0:jt.messages)==null?void 0:Ft.length)>0?ye?ye.p(z,ge):(ye=Lr(z),ye.c(),ye.m(n,null)):ye&&(ye.d(1),ye=null),(!De||ge[0]&16&&g!==(g="from"+(z[4].show_star?"-star":"")))&&f(e,"class",g),(!De||ge[0]&64)&&ae!==(ae=((C=z[3])==null?void 0:C.subject)+"")&&pe(Ue,ae),(!De||ge[0]&64)&&K!==(K=z[3].snippet+"")&&pe(Ce,K),ge[0]&8192&&(U=Object.keys(z[13]).length>0),U?Be?Be.p(z,ge):(Be=Mr(z),Be.c(),Be.m(E,null)):Be&&(Be.d(1),Be=null),ge[0]&8256&&(Q=z[6].has_attachments&&Object.keys(z[13]).length>0),Q?v?ge[0]&8256&&N(v,1):(v=Pr(),v.c(),N(v,1),v.m(oe,ce)):v&&(je(),j(v,1,1,()=>{v=null}),Fe());let St=Ee;Ee=fe(z),Ee===St?~Ee&&V[Ee].p(z,ge):(re&&(je(),j(V[St],1,1,()=>{V[St]=null}),Fe()),~Ee?(re=V[Ee],re?re.p(z,ge):(re=V[Ee]=F[Ee](z),re.c()),N(re,1),re.m(oe,null)):re=null),ge[0]&16&&Le(oe,"date",z[4].show_received_timestamp),ge[0]&16&&Le(oe,"action-icons",z[4].show_thread_actions),(!De||ge[0]&64)&&P!==(P=((R=z[3])==null?void 0:R.subject)+"")&&pe(Xe,P),(!De||ge[0]&64)&&de!==(de=z[3].snippet+"")&&pe(He,de),ge[0]&8192&&(Se=Object.keys(z[13]).length>0),Se?Te?Te.p(z,ge):(Te=xr(z),Te.c(),Te.m(Pe,null)):Te&&(Te.d(1),Te=null)},i(z){De||(N(v),N(re),De=!0)},o(z){j(v),j(re),De=!1},d(z){z&&h(e),Oe&&Oe.d(),Me&&Me.d(),_e&&_e.d(),Ne&&Ne.d(),we&&we.d(),ye&&ye.d(),z&&h(S),z&&h(A),Be&&Be.d(),v&&v.d(),~Ee&&V[Ee].d(),z&&h(ue),z&&h(Pe),Te&&Te.d()}}}function us(i){let e,t,n,r={ctx:i,current:null,token:null,hasCatch:!1,pending:ys,then:bs,catch:gs,value:97,blocks:[,,,]};return Gt(t=Qr(i[6]),r),{c(){e=Ze(),r.block.c()},m(a,l){k(a,e,l),r.block.m(a,r.anchor=l),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(a,l){i=a,r.ctx=i,l[0]&64&&t!==(t=Qr(i[6]))&&Gt(t,r)||Ai(r,i,l)},i(a){n||(N(r.block),n=!0)},o(a){for(let l=0;l<3;l+=1){const o=r.blocks[l];j(o)}n=!1},d(a){a&&h(e),r.block.d(a),r.token=null,r=null}}}function kr(i){let e,t,n,r,a,l,o,s,c;return{c(){e=w("div"),t=w("button"),f(t,"id",n=`thread-star-${i[4].thread_id}`),f(t,"class",r=i[6].starred?"starred":""),t.value=a=i[4].thread_id,f(t,"role","switch"),f(t,"aria-checked",l=i[6].starred),f(t,"aria-label",o=`Star button for thread ${i[4].thread_id}`),f(e,"class","starred")},m(d,m){k(d,e,m),b(e,t),s||(c=se(t,"click",Wl(i[21])),s=!0)},p(d,m){m[0]&16&&n!==(n=`thread-star-${d[4].thread_id}`)&&f(t,"id",n),m[0]&64&&r!==(r=d[6].starred?"starred":"")&&f(t,"class",r),m[0]&16&&a!==(a=d[4].thread_id)&&(t.value=a),m[0]&64&&l!==(l=d[6].starred)&&f(t,"aria-checked",l),m[0]&16&&o!==(o=`Star button for thread ${d[4].thread_id}`)&&f(t,"aria-label",o)},d(d){d&&h(e),s=!1,c()}}}function Er(i){let e,t;return{c(){e=w("div"),t=w("nylas-contact-image"),M(t,"contact_query",i[11]),M(t,"contact",i[8]),f(e,"class","default-avatar")},m(n,r){k(n,e,r),b(e,t)},p(n,r){r[0]&2048&&M(t,"contact_query",n[11]),r[0]&256&&M(t,"contact",n[8])},d(n){n&&h(e)}}}function Tr(i){var r,a;let e,t=(((r=i[6].messages[i[6].messages.length-1])==null?void 0:r.from[0].name)||((a=i[6].messages[i[6].messages.length-1])==null?void 0:a.from[0].email))+"",n;return{c(){e=w("span"),n=J(t),f(e,"class","from-sub-section")},m(l,o){k(l,e,o),b(e,n)},p(l,o){var s,c;o[0]&64&&t!==(t=(((s=l[6].messages[l[6].messages.length-1])==null?void 0:s.from[0].name)||((c=l[6].messages[l[6].messages.length-1])==null?void 0:c.from[0].email))+"")&&pe(n,t)},d(l){l&&h(e)}}}function Cr(i){let e,t,n=(i[6].participants[0].name||i[6].participants[0].email)+"",r;return{c(){e=w("span"),t=J(", "),r=J(n),f(e,"class","from-sub-section second")},m(a,l){k(a,e,l),b(e,t),b(e,r)},p(a,l){l[0]&64&&n!==(n=(a[6].participants[0].name||a[6].participants[0].email)+"")&&pe(r,n)},d(a){a&&h(e)}}}function Ar(i){let e,t,n=i[6].participants.length>=2&&Sr(i),r=i[6].participants.length>2&&Or(i);return{c(){n&&n.c(),e=B(),r&&r.c(),t=Ze()},m(a,l){n&&n.m(a,l),k(a,e,l),r&&r.m(a,l),k(a,t,l)},p(a,l){a[6].participants.length>=2?n?n.p(a,l):(n=Sr(a),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a[6].participants.length>2?r?r.p(a,l):(r=Or(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(a){n&&n.d(a),a&&h(e),r&&r.d(a),a&&h(t)}}}function Sr(i){let e,t,n=i[6].participants.length-Xr+"",r;return{c(){e=w("span"),t=J("\xA0+"),r=J(n),f(e,"class","show-on-mobile")},m(a,l){k(a,e,l),b(e,t),b(e,r)},p(a,l){l[0]&64&&n!==(n=a[6].participants.length-Xr+"")&&pe(r,n)},d(a){a&&h(e)}}}function Or(i){let e,t,n=i[6].participants.length-Yr+"",r;return{c(){e=w("span"),t=J("\xA0 + "),r=J(n),f(e,"class","show-on-desktop")},m(a,l){k(a,e,l),b(e,t),b(e,r)},p(a,l){l[0]&64&&n!==(n=a[6].participants.length-Yr+"")&&pe(r,n)},d(a){a&&h(e)}}}function Lr(i){let e,t=i[6].messages.length+"",n;return{c(){e=w("span"),n=J(t),f(e,"class","thread-message-count")},m(r,a){k(r,e,a),b(e,n)},p(r,a){a[0]&64&&t!==(t=r[6].messages.length+"")&&pe(n,t)},d(r){r&&h(e)}}}function Mr(i){let e,t=Object.values(i[13]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Dr(dr(i,t,r));return{c(){e=w("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","attachment desktop")},m(r,a){k(r,e,a);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,a){if(a[0]&134225920){t=Object.values(r[13]);let l;for(l=0;l<t.length;l+=1){const o=dr(r,t,l);n[l]?n[l].p(o,a):(n[l]=Dr(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){r&&h(e),mt(n,r)}}}function Nr(i){let e,t=(i[91].filename||i[91].id)+"",n,r,a,l;function o(...s){return i[62](i[91],...s)}return{c(){e=w("button"),n=J(t),r=B()},m(s,c){k(s,e,c),b(e,n),b(e,r),a||(l=se(e,"click",o),a=!0)},p(s,c){i=s,c[0]&8192&&t!==(t=(i[91].filename||i[91].id)+"")&&pe(n,t)},d(s){s&&h(e),a=!1,l()}}}function Dr(i){let e,t=i[90],n=[];for(let r=0;r<t.length;r+=1)n[r]=Nr(fr(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ze()},m(r,a){for(let l=0;l<n.length;l+=1)n[l].m(r,a);k(r,e,a)},p(r,a){if(a[0]&134225920){t=r[90];let l;for(l=0;l<t.length;l+=1){const o=fr(r,t,l);n[l]?n[l].p(o,a):(n[l]=Nr(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){mt(n,r),r&&h(e)}}}function Pr(i){let e,t,n;return t=new To({}),{c(){e=w("span"),Ye(t.$$.fragment)},m(r,a){k(r,e,a),Je(t,e,null),n=!0},i(r){n||(N(t.$$.fragment,r),n=!0)},o(r){j(t.$$.fragment,r),n=!1},d(r){r&&h(e),We(t)}}}function ms(i){let e,t=i[24](new Date(i[3].last_message_timestamp*1e3))+"",n;return{c(){e=w("span"),n=J(t)},m(r,a){k(r,e,a),b(e,n)},p(r,a){a[0]&64&&t!==(t=r[24](new Date(r[3].last_message_timestamp*1e3))+"")&&pe(n,t)},i:T,o:T,d(r){r&&h(e)}}}function hs(i){let e,t,n,r,a,l,o,s,c,d,m,u,y;n=new Kn({});const g=[ps,_s],S=[];function A(E,O){return E[6].unread?0:1}return o=A(i),s=S[o]=g[o](i),{c(){e=w("div"),t=w("button"),Ye(n.$$.fragment),r=B(),a=w("div"),l=w("button"),s.c(),f(t,"title","Delete thread"),f(t,"aria-label","Delete thread"),f(e,"class","delete"),f(l,"title",c=`Mark thread as ${i[6].unread?"":"un"}read`),f(l,"aria-label",d=`Mark thread as ${i[6].unread?"":"un"}read`),f(a,"class","read-status")},m(E,O){k(E,e,O),b(e,t),Je(n,t,null),k(E,r,O),k(E,a,O),b(a,l),S[o].m(l,null),m=!0,u||(y=[se(t,"click",Et(i[17])),se(l,"click",Et(i[16]))],u=!0)},p(E,O){let I=o;o=A(E),o!==I&&(je(),j(S[I],1,1,()=>{S[I]=null}),Fe(),s=S[o],s||(s=S[o]=g[o](E),s.c()),N(s,1),s.m(l,null)),(!m||O[0]&64&&c!==(c=`Mark thread as ${E[6].unread?"":"un"}read`))&&f(l,"title",c),(!m||O[0]&64&&d!==(d=`Mark thread as ${E[6].unread?"":"un"}read`))&&f(l,"aria-label",d)},i(E){m||(N(n.$$.fragment,E),N(s),m=!0)},o(E){j(n.$$.fragment,E),j(s),m=!1},d(E){E&&h(e),We(n),E&&h(r),E&&h(a),S[o].d(),u=!1,st(y)}}}function _s(i){let e,t;return e=new qn({props:{"aria-hidden":"true"}}),{c(){Ye(e.$$.fragment)},m(n,r){Je(e,n,r),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){We(e,n)}}}function ps(i){let e,t;return e=new Qn({props:{"aria-hidden":"true"}}),{c(){Ye(e.$$.fragment)},m(n,r){Je(e,n,r),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){We(e,n)}}}function xr(i){let e,t=Object.values(i[13]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Ir(sr(i,t,r));return{c(){e=w("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","attachment mobile")},m(r,a){k(r,e,a);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,a){if(a[0]&134225920){t=Object.values(r[13]);let l;for(l=0;l<t.length;l+=1){const o=sr(r,t,l);n[l]?n[l].p(o,a):(n[l]=Ir(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){r&&h(e),mt(n,r)}}}function Rr(i){let e,t=(i[91].filename||i[91].id)+"",n,r,a,l;function o(...s){return i[63](i[91],...s)}return{c(){e=w("button"),n=J(t),r=B()},m(s,c){k(s,e,c),b(e,n),b(e,r),a||(l=se(e,"click",o),a=!0)},p(s,c){i=s,c[0]&8192&&t!==(t=(i[91].filename||i[91].id)+"")&&pe(n,t)},d(s){s&&h(e),a=!1,l()}}}function Ir(i){let e,t=i[90],n=[];for(let r=0;r<t.length;r+=1)n[r]=Rr(cr(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ze()},m(r,a){for(let l=0;l<n.length;l+=1)n[l].m(r,a);k(r,e,a)},p(r,a){if(a[0]&134225920){t=r[90];let l;for(l=0;l<t.length;l+=1){const o=cr(r,t,l);n[l]?n[l].p(o,a):(n[l]=Rr(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){mt(n,r),r&&h(e)}}}function gs(i){return{c:T,m:T,p:T,i:T,o:T,d:T}}function bs(i){let e,t,n,r,a,l,o,s=(i[97]?"This is a draft email.":`Sorry, looks like this thread is currently unavailable. It may
                  have been deleted in your provider inbox.`)+"",c,d;const m=[ws,vs],u=[];function y(g,S){return g[97]?0:1}return n=y(i),r=u[n]=m[n](i),{c(){e=w("div"),t=w("div"),r.c(),l=B(),o=w("div"),c=J(s),f(t,"class","default-avatar"),Le(t,"draft",i[97]),f(e,"class",a=`no-message-avatar-container ${i[4].show_star?"show-star":""}`),f(o,"class","no-messages-warning-container"),Le(o,"draft",i[97])},m(g,S){k(g,e,S),b(e,t),u[n].m(t,null),k(g,l,S),k(g,o,S),b(o,c),d=!0},p(g,S){let A=n;n=y(g),n!==A&&(je(),j(u[A],1,1,()=>{u[A]=null}),Fe(),r=u[n],r||(r=u[n]=m[n](g),r.c()),N(r,1),r.m(t,null)),S[0]&64&&Le(t,"draft",g[97]),(!d||S[0]&16&&a!==(a=`no-message-avatar-container ${g[4].show_star?"show-star":""}`))&&f(e,"class",a),(!d||S[0]&64)&&s!==(s=(g[97]?"This is a draft email.":`Sorry, looks like this thread is currently unavailable. It may
                  have been deleted in your provider inbox.`)+"")&&pe(c,s),S[0]&64&&Le(o,"draft",g[97])},i(g){d||(N(r),d=!0)},o(g){j(r),d=!1},d(g){g&&h(e),u[n].d(),g&&h(l),g&&h(o)}}}function vs(i){let e,t;return e=new Mo({}),{c(){Ye(e.$$.fragment)},m(n,r){Je(e,n,r),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){We(e,n)}}}function ws(i){let e,t;return e=new Po({}),{c(){Ye(e.$$.fragment)},m(n,r){Je(e,n,r),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){We(e,n)}}}function ys(i){return{c:T,m:T,p:T,i:T,o:T,d:T}}function jr(i){let e,t,n,r,a;return t=new So({}),{c(){e=w("button"),Ye(t.$$.fragment),f(e,"title","Return to Mailbox"),f(e,"aria-label","Return to Mailbox")},m(l,o){k(l,e,o),Je(t,e,null),n=!0,r||(a=se(e,"click",Et(i[19])),r=!0)},p:T,i(l){n||(N(t.$$.fragment,l),n=!0)},o(l){j(t.$$.fragment,l),n=!1},d(l){l&&h(e),We(t),r=!1,a()}}}function Fr(i){let e,t,n,r,a,l,o,s;return{c(){e=w("div"),t=w("button"),f(t,"class",n=i[3].starred?"starred":""),f(t,"title",r=i[3].starred?"Unstar thread":"Star thread"),f(t,"aria-label",a=i[3].starred?"Unstar thread":"Star thread"),f(t,"role","switch"),f(t,"aria-checked",l=i[3].starred),f(e,"class","starred")},m(c,d){k(c,e,d),b(e,t),o||(s=se(t,"click",Et(i[21])),o=!0)},p(c,d){d[0]&64&&n!==(n=c[3].starred?"starred":"")&&f(t,"class",n),d[0]&64&&r!==(r=c[3].starred?"Unstar thread":"Star thread")&&f(t,"title",r),d[0]&64&&a!==(a=c[3].starred?"Unstar thread":"Star thread")&&f(t,"aria-label",a),d[0]&64&&l!==(l=c[3].starred)&&f(t,"aria-checked",l)},d(c){c&&h(e),o=!1,s()}}}function Hr(i){let e,t,n,r,a,l,o,s,c,d,m,u,y;n=new Kn({});const g=[Es,ks],S=[];function A(E,O){return E[6].unread?0:1}return o=A(i),s=S[o]=g[o](i),{c(){e=w("div"),t=w("button"),Ye(n.$$.fragment),r=B(),a=w("div"),l=w("button"),s.c(),f(t,"title","Delete thread / Move to trash"),f(t,"aria-label","Delete thread (Move to trash)"),f(e,"class","delete"),f(l,"title",c=`Mark thread as ${i[6].unread?"":"un"}read`),f(l,"aria-label",d=`Mark thread as ${i[6].unread?"":"un"}read`),f(a,"class","read-status")},m(E,O){k(E,e,O),b(e,t),Je(n,t,null),k(E,r,O),k(E,a,O),b(a,l),S[o].m(l,null),m=!0,u||(y=[se(t,"click",Et(i[57])),se(l,"click",Et(i[16]))],u=!0)},p(E,O){let I=o;o=A(E),o!==I&&(je(),j(S[I],1,1,()=>{S[I]=null}),Fe(),s=S[o],s||(s=S[o]=g[o](E),s.c()),N(s,1),s.m(l,null)),(!m||O[0]&64&&c!==(c=`Mark thread as ${E[6].unread?"":"un"}read`))&&f(l,"title",c),(!m||O[0]&64&&d!==(d=`Mark thread as ${E[6].unread?"":"un"}read`))&&f(l,"aria-label",d)},i(E){m||(N(n.$$.fragment,E),N(s),m=!0)},o(E){j(n.$$.fragment,E),j(s),m=!1},d(E){E&&h(e),We(n),E&&h(r),E&&h(a),S[o].d(),u=!1,st(y)}}}function ks(i){let e,t;return e=new qn({props:{"aria-hidden":"true"}}),{c(){Ye(e.$$.fragment)},m(n,r){Je(e,n,r),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){We(e,n)}}}function Es(i){let e,t;return e=new Qn({props:{"aria-hidden":"true"}}),{c(){Ye(e.$$.fragment)},m(n,r){Je(e,n,r),t=!0},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){j(e.$$.fragment,n),t=!1},d(n){We(e,n)}}}function Ts(i){let e,t=i[3].snippet+"",n;return{c(){e=w("span"),n=J(t),f(e,"class","snippet")},m(r,a){k(r,e,a),b(e,n)},p(r,a){a[0]&64&&t!==(t=r[3].snippet+"")&&pe(n,t)},i:T,o:T,d(r){r&&h(e)}}}function Cs(i){let e,t,n=i[6].messages,r=[];for(let l=0;l<n.length;l+=1)r[l]=Jr(ur(i,n,l));const a=l=>j(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ze()},m(l,o){for(let s=0;s<r.length;s+=1)r[s].m(l,o);k(l,e,o),t=!0},p(l,o){if(o[0]&314621170){n=l[6].messages;let s;for(s=0;s<n.length;s+=1){const c=ur(l,n,s);r[s]?(r[s].p(c,o),N(r[s],1)):(r[s]=Jr(c),r[s].c(),N(r[s],1),r[s].m(e.parentNode,e))}for(je(),s=n.length;s<r.length;s+=1)a(s);Fe()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)N(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)j(r[o]);t=!1},d(l){mt(r,l),l&&h(e)}}}function As(i){var K,Ce,D;let e,t,n,r,a,l=(i[7]&&((K=i[2])==null?void 0:K.from[0].email)===i[7]?"me":((Ce=i[2])==null?void 0:Ce.from[0].name)||((D=i[2])==null?void 0:D.from[0].email))+"",o,s,c,d,m,u,y,g,S=Oi(new Date(i[2].date*1e3))+"",A,E,O,I=i[2].snippet+"",ae,Ue,ve,H=i[4].show_contact_avatar&&Br(i);return{c(){var U,le;e=w("div"),t=w("div"),H&&H.c(),n=B(),r=w("div"),a=w("span"),o=J(l),s=B(),c=w("nylas-tooltip"),u=B(),y=w("div"),g=w("span"),A=J(S),E=B(),O=w("div"),ae=J(I),f(a,"class","name"),M(c,"id",d=(U=i[2])==null?void 0:U.id.slice(0,3)),M(c,"current_tooltip_id",i[12]),M(c,"icon",ui),M(c,"content",m=(le=i[2])==null?void 0:le.from[0].email),f(r,"class","message-from"),f(t,"class","avatar-from"),f(y,"class","message-date"),f(e,"class","message-head"),f(O,"class","snippet")},m(U,le){k(U,e,le),b(e,t),H&&H.m(t,null),b(t,n),b(t,r),b(r,a),b(a,o),b(r,s),b(r,c),b(e,u),b(e,y),b(y,g),b(g,A),k(U,E,le),k(U,O,le),b(O,ae),Ue||(ve=se(c,"toggleTooltip",i[25]),Ue=!0)},p(U,le){var oe,Q,ce,Ee,re;U[4].show_contact_avatar?H?H.p(U,le):(H=Br(U),H.c(),H.m(t,n)):H&&(H.d(1),H=null),le[0]&192&&l!==(l=(U[7]&&((oe=U[2])==null?void 0:oe.from[0].email)===U[7]?"me":((Q=U[2])==null?void 0:Q.from[0].name)||((ce=U[2])==null?void 0:ce.from[0].email))+"")&&pe(o,l),le[0]&64&&d!==(d=(Ee=U[2])==null?void 0:Ee.id.slice(0,3))&&M(c,"id",d),le[0]&4096&&M(c,"current_tooltip_id",U[12]),le[0]&64&&m!==(m=(re=U[2])==null?void 0:re.from[0].email)&&M(c,"content",m),le[0]&64&&S!==(S=Oi(new Date(U[2].date*1e3))+"")&&pe(A,S),le[0]&64&&I!==(I=U[2].snippet+"")&&pe(ae,I)},i:T,o:T,d(U){U&&h(e),H&&H.d(),U&&h(E),U&&h(O),Ue=!1,ve()}}}function Ss(i){var Pe,Y,P,Xe,xe;let e,t,n,r,a,l,o=(i[7]&&((Pe=i[2])==null?void 0:Pe.from[0].email)===i[7]?"me":((Y=i[2])==null?void 0:Y.from[0].name)||((P=i[2])==null?void 0:P.from[0].email))+"",s,c,d,m,u,y,g,S,A,E,O,I=Oi(new Date(i[2].date*1e3))+"",ae,Ue,ve,H,K,Ce,D,U,le=i[4].show_contact_avatar&&Ur(i),oe=(Xe=i[2])==null?void 0:Xe.to.slice(0,pt),Q=[];for(let W=0;W<oe.length;W+=1)Q[W]=Vr(hr(i,oe,W));let ce=((xe=i[2].to)==null?void 0:xe.length)>pt&&Gr(i);const Ee=[Ps,Ds,Ns,Ms],re=[];function ue(W,de){return W[4].clean_conversation&&W[2].conversation?0:W[2]&&W[2].body!=null?1:!!W[4].thread&&!W[4].thread_id&&W[1]!="mailbox"?2:3}return H=ue(i),K=re[H]=Ee[H](i),{c(){var W,de;e=w("div"),t=w("div"),n=w("div"),le&&le.c(),r=B(),a=w("div"),l=w("span"),s=J(o),c=B(),d=w("nylas-tooltip"),y=B(),g=w("div");for(let He=0;He<Q.length;He+=1)Q[He].c();S=B(),ce&&ce.c(),A=B(),E=w("div"),O=w("span"),ae=J(I),Ue=B(),ve=w("div"),K.c(),f(l,"class","name"),M(d,"id",m=(W=i[2])==null?void 0:W.id.slice(0,3)),M(d,"current_tooltip_id",i[12]),M(d,"icon",ui),M(d,"content",u=(de=i[2])==null?void 0:de.from[0].email),f(a,"class","message-from"),f(n,"class","avatar-from"),f(g,"class","message-to"),f(t,"class","message-from-to"),f(E,"class","message-date"),f(e,"class","message-head"),f(ve,"class","message-body")},m(W,de){k(W,e,de),b(e,t),b(t,n),le&&le.m(n,null),b(n,r),b(n,a),b(a,l),b(l,s),b(a,c),b(a,d),b(t,y),b(t,g);for(let He=0;He<Q.length;He+=1)Q[He].m(g,null);b(g,S),ce&&ce.m(g,null),b(e,A),b(e,E),b(E,O),b(O,ae),k(W,Ue,de),k(W,ve,de),re[H].m(ve,null),Ce=!0,D||(U=se(d,"toggleTooltip",i[25]),D=!0)},p(W,de){var $,Se,De,Oe,Me,_e,Ne;if(W[4].show_contact_avatar?le?le.p(W,de):(le=Ur(W),le.c(),le.m(n,r)):le&&(le.d(1),le=null),(!Ce||de[0]&192)&&o!==(o=(W[7]&&(($=W[2])==null?void 0:$.from[0].email)===W[7]?"me":((Se=W[2])==null?void 0:Se.from[0].name)||((De=W[2])==null?void 0:De.from[0].email))+"")&&pe(s,o),(!Ce||de[0]&64&&m!==(m=(Oe=W[2])==null?void 0:Oe.id.slice(0,3)))&&M(d,"id",m),(!Ce||de[0]&4096)&&M(d,"current_tooltip_id",W[12]),(!Ce||de[0]&64&&u!==(u=(Me=W[2])==null?void 0:Me.from[0].email))&&M(d,"content",u),de[0]&80){oe=(_e=W[2])==null?void 0:_e.to.slice(0,pt);let we;for(we=0;we<oe.length;we+=1){const ye=hr(W,oe,we);Q[we]?Q[we].p(ye,de):(Q[we]=Vr(ye),Q[we].c(),Q[we].m(g,S))}for(;we<Q.length;we+=1)Q[we].d(1);Q.length=oe.length}((Ne=W[2].to)==null?void 0:Ne.length)>pt?ce?ce.p(W,de):(ce=Gr(W),ce.c(),ce.m(g,null)):ce&&(ce.d(1),ce=null),(!Ce||de[0]&64)&&I!==(I=Oi(new Date(W[2].date*1e3))+"")&&pe(ae,I);let He=H;H=ue(W),H===He?re[H].p(W,de):(je(),j(re[He],1,1,()=>{re[He]=null}),Fe(),K=re[H],K?K.p(W,de):(K=re[H]=Ee[H](W),K.c()),N(K,1),K.m(ve,null))},i(W){Ce||(N(K),Ce=!0)},o(W){j(K),Ce=!1},d(W){W&&h(e),le&&le.d(),mt(Q,W),ce&&ce.d(),W&&h(Ue),W&&h(ve),re[H].d(),D=!1,U()}}}function Br(i){let e,t,n;return{c(){var r;e=w("div"),t=w("nylas-contact-image"),M(t,"contact_query",i[11]),M(t,"contact",n=i[5][(r=i[2])==null?void 0:r.from[0].email]),f(e,"class","default-avatar")},m(r,a){k(r,e,a),b(e,t)},p(r,a){var l;a[0]&2048&&M(t,"contact_query",r[11]),a[0]&96&&n!==(n=r[5][(l=r[2])==null?void 0:l.from[0].email])&&M(t,"contact",n)},d(r){r&&h(e)}}}function Ur(i){let e,t,n;return{c(){var r;e=w("div"),t=w("nylas-contact-image"),M(t,"contact_query",i[11]),M(t,"contact",n=i[5][(r=i[2])==null?void 0:r.from[0].email]),f(e,"class","default-avatar")},m(r,a){k(r,e,a),b(e,t)},p(r,a){var l;a[0]&2048&&M(t,"contact_query",r[11]),a[0]&96&&n!==(n=r[5][(l=r[2])==null?void 0:l.from[0].email])&&M(t,"contact",n)},d(r){r&&h(e)}}}function zr(i){let e;return{c(){e=J("Me")},m(t,n){k(t,e,n)},d(t){t&&h(e)}}}function Os(i){let e=i[94].email+"",t;return{c(){t=J(e)},m(n,r){k(n,t,r)},p(n,r){r[0]&64&&e!==(e=n[94].email+"")&&pe(t,e)},d(n){n&&h(t)}}}function Ls(i){var o;let e=((o=i[94].name)!=null?o:i[4].you.name)+"",t,n,r=i[94].email+"",a,l;return{c(){t=J(e),n=J(" <"),a=J(r),l=J(">")},m(s,c){k(s,t,c),k(s,n,c),k(s,a,c),k(s,l,c)},p(s,c){var d;c[0]&80&&e!==(e=((d=s[94].name)!=null?d:s[4].you.name)+"")&&pe(t,e),c[0]&64&&r!==(r=s[94].email+"")&&pe(a,r)},d(s){s&&h(t),s&&h(n),s&&h(a),s&&h(l)}}}function Vr(i){var m;let e,t,n=(i[96]===0?"to ":"")+"",r,a,l,o=i[4].you&&((m=i[94])==null?void 0:m.email)===i[4].you.email_address&&zr();function s(u,y){if(u[94].email&&u[94].name)return Ls;if(u[94].email&&!u[94].name)return Os}let c=s(i),d=c&&c(i);return{c(){e=w("div"),t=w("span"),r=J(n),a=B(),o&&o.c(),l=B(),d&&d.c()},m(u,y){k(u,e,y),b(e,t),b(t,r),b(t,a),o&&o.m(t,null),b(t,l),d&&d.m(t,null)},p(u,y){var g;u[4].you&&((g=u[94])==null?void 0:g.email)===u[4].you.email_address?o||(o=zr(),o.c(),o.m(t,l)):o&&(o.d(1),o=null),c===(c=s(u))&&d?d.p(u,y):(d&&d.d(1),d=c&&c(u),d&&(d.c(),d.m(t,null)))},d(u){u&&h(e),o&&o.d(),d&&d.d()}}}function Gr(i){let e,t,n,r,a,l,o;return{c(){var s;e=w("div"),t=w("nylas-tooltip"),M(t,"id",n=`show-more-participants-${i[2].id}`),M(t,"current_tooltip_id",i[12]),M(t,"icon",ui),M(t,"text",r=`And ${((s=i[2].to)==null?void 0:s.length)-pt} more`),M(t,"content",a=`${i[2].to.map(qr).join(", ")}`)},m(s,c){k(s,e,c),b(e,t),l||(o=se(t,"toggleTooltip",i[25]),l=!0)},p(s,c){var d;c[0]&64&&n!==(n=`show-more-participants-${s[2].id}`)&&M(t,"id",n),c[0]&4096&&M(t,"current_tooltip_id",s[12]),c[0]&64&&r!==(r=`And ${((d=s[2].to)==null?void 0:d.length)-pt} more`)&&M(t,"text",r),c[0]&64&&a!==(a=`${s[2].to.map(qr).join(", ")}`)&&M(t,"content",a)},d(s){s&&h(e),l=!1,o()}}}function Ms(i){let e,t,n,r;return t=new es({props:{class:"spinner"}}),{c(){e=w("div"),Ye(t.$$.fragment),n=J(`
                          Loading...`),f(e,"class","email-loader")},m(a,l){k(a,e,l),Je(t,e,null),b(e,n),r=!0},p:T,i(a){r||(N(t.$$.fragment,a),r=!0)},o(a){j(t.$$.fragment,a),r=!1},d(a){a&&h(e),We(t)}}}function Ns(i){var o;let e=((o=i[2].body)!=null?o:i[2].snippet)+"",t,n,r,a,l={ctx:i,current:null,token:null,hasCatch:!1,pending:Is,then:Rs,catch:xs,value:90};return Gt(a=i[13][i[2].id],l),{c(){t=J(e),n=B(),r=Ze(),l.block.c()},m(s,c){k(s,t,c),k(s,n,c),k(s,r,c),l.block.m(s,l.anchor=c),l.mount=()=>r.parentNode,l.anchor=r},p(s,c){var d;i=s,c[0]&64&&e!==(e=((d=i[2].body)!=null?d:i[2].snippet)+"")&&pe(t,e),l.ctx=i,c[0]&8256&&a!==(a=i[13][i[2].id])&&Gt(a,l)||Ai(l,i,c)},i:T,o:T,d(s){s&&h(t),s&&h(n),s&&h(r),l.block.d(s),l.token=null,l=null}}}function Ds(i){let e,t,n,r,a;return{c(){e=w("nylas-message-body"),M(e,"message",t=i[2]),M(e,"body",n=i[2].body)},m(l,o){k(l,e,o),r||(a=se(e,"downloadClicked",i[28]),r=!0)},p(l,o){o[0]&64&&t!==(t=l[2])&&M(e,"message",t),o[0]&64&&n!==(n=l[2].body)&&M(e,"body",n)},i:T,o:T,d(l){l&&h(e),r=!1,a()}}}function Ps(i){let e,t=Qt.sanitize(i[2].conversation)+"",n;return{c(){e=new Hi,n=Ze(),e.a=n},m(r,a){e.m(t,r,a),k(r,n,a)},p(r,a){a[0]&64&&t!==(t=Qt.sanitize(r[2].conversation)+"")&&e.p(t)},i:T,o:T,d(r){r&&h(n),r&&e.d()}}}function xs(i){return{c:T,m:T,p:T,d:T}}function Rs(i){let e=i[90]&&Array.isArray(i[90])&&i[90].length>0,t,n=e&&Wr(i);return{c(){n&&n.c(),t=Ze()},m(r,a){n&&n.m(r,a),k(r,t,a)},p(r,a){a[0]&8256&&(e=r[90]&&Array.isArray(r[90])&&r[90].length>0),e?n?n.p(r,a):(n=Wr(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&h(t)}}}function Wr(i){let e,t=i[90],n=[];for(let r=0;r<t.length;r+=1)n[r]=Zr(mr(i,t,r));return{c(){e=w("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","attachment")},m(r,a){k(r,e,a);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,a){if(a[0]&41024){t=r[90];let l;for(l=0;l<t.length;l+=1){const o=mr(r,t,l);n[l]?n[l].p(o,a):(n[l]=Zr(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){r&&h(e),mt(n,r)}}}function Zr(i){let e,t=(i[91].filename||i[91].id)+"",n,r,a,l;function o(...s){return i[58](i[91],...s)}return{c(){e=w("button"),n=J(t),r=B()},m(s,c){k(s,e,c),b(e,n),b(e,r),a||(l=se(e,"click",Et(o)),a=!0)},p(s,c){i=s,c[0]&8256&&t!==(t=(i[91].filename||i[91].id)+"")&&pe(n,t)},d(s){s&&h(e),a=!1,l()}}}function Is(i){return{c:T,m:T,p:T,d:T}}function Jr(i){let e,t,n,r,a,l=i[89],o,s,c;const d=[Ss,As],m=[];function u(E,O){return E[2].expanded||E[89]===E[6].messages.length-1?0:1}t=u(i),n=m[t]=d[t](i);const y=()=>i[59](e,l),g=()=>i[59](null,l);function S(...E){return i[60](i[89],...E)}function A(...E){return i[61](i[89],...E)}return{c(){e=w("div"),n.c(),r=B(),f(e,"class",a=`individual-message ${i[89]===i[6].messages.length-1||i[2].expanded?"expanded":"condensed"}`),Le(e,"last-message",i[89]===i[6].messages.length-1)},m(E,O){k(E,e,O),m[t].m(e,null),b(e,r),y(),o=!0,s||(c=[se(e,"click",Et(S)),se(e,"keypress",A)],s=!0)},p(E,O){i=E;let I=t;t=u(i),t===I?m[t].p(i,O):(je(),j(m[I],1,1,()=>{m[I]=null}),Fe(),n=m[t],n?n.p(i,O):(n=m[t]=d[t](i),n.c()),N(n,1),n.m(e,r)),(!o||O[0]&64&&a!==(a=`individual-message ${i[89]===i[6].messages.length-1||i[2].expanded?"expanded":"condensed"}`))&&f(e,"class",a),l!==i[89]&&(g(),l=i[89],y()),O[0]&64&&Le(e,"last-message",i[89]===i[6].messages.length-1)},i(E){o||(N(n),o=!0)},o(E){j(n),o=!1},d(E){E&&h(e),m[t].d(),g(),s=!1,st(c)}}}function js(i){let e;return{c(){e=J("Loading...")},m(t,n){k(t,e,n)},p:T,i:T,o:T,d(t){t&&h(e)}}}function Fs(i){let e,t,n,r,a,l,o,s;const c=[is,ts],d=[];function m(u,y){return u[4].thread||u[4].thread_id?0:u[4].message?1:-1}return~(r=m(i))&&(a=d[r]=c[r](i)),{c(){e=w("nylas-error"),t=B(),n=w("main"),a&&a.c(),this.c=T,M(e,"id",i[0]),f(n,"tabindex","0")},m(u,y){k(u,e,y),k(u,t,y),k(u,n,y),~r&&d[r].m(n,null),i[64](n),l=!0,o||(s=[se(n,"click",i[18]),se(n,"keypress",i[20])],o=!0)},p(u,y){(!l||y[0]&1)&&M(e,"id",u[0]);let g=r;r=m(u),r===g?~r&&d[r].p(u,y):(a&&(je(),j(d[g],1,1,()=>{d[g]=null}),Fe()),~r?(a=d[r],a?a.p(u,y):(a=d[r]=c[r](u),a.c()),N(a,1),a.m(n,null)):a=null)},i(u){l||(N(a),l=!0)},o(u){j(a),l=!1},d(u){u&&h(e),u&&h(t),u&&h(n),~r&&d[r].d(),i[64](null),o=!1,st(s)}}}const pt=3,Yr=2,Xr=1,Hs=20;function Kr(i){i.stopImmediatePropagation()}function Oi(i){return i.toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric"})+", "+i.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit"})}function qt(i,e){var t,n;return i&&e&&i.length>1&&e.length>=2&&((t=i[0])===null||t===void 0?void 0:t.from.length)&&e[0].email!==((n=i[i.length-1])===null||n===void 0?void 0:n.from[0].email)}function Qr(i){var e;return i&&((e=i.labels)===null||e===void 0?void 0:e.find(t=>t.name==="drafts"))}const qr=i=>`${i.name} ${i.email}`,$r=i=>`${i.name} ${i.email}`;function Bs(i,e,t){let n,r,a,l,o,s,c;Pt(i,Gi,p=>t(71,l=p)),Pt(i,za,p=>t(55,o=p)),Pt(i,jn,p=>t(72,s=p)),Pt(i,Si,p=>t(56,c=p));var d=this&&this.__awaiter||function(p,L,G,Re){function ke(rt){return rt instanceof G?rt:new G(function(kt){kt(rt)})}return new(G||(G=Promise))(function(rt,kt){function Di(ut){try{ei(Re.next(ut))}catch(Ct){kt(Ct)}}function pi(ut){try{ei(Re.throw(ut))}catch(Ct){kt(Ct)}}function ei(ut){ut.done?rt(ut.value):ke(ut.value).then(Di,pi)}ei((Re=Re.apply(p,L||[])).next())})},m,u,y,g,S,A,E;const O=fi(xt());let{id:I=""}=e,{access_token:ae=""}=e,{clean_conversation:Ue}=e,{click_action:ve="default"}=e,{message_id:H}=e,{message:K}=e,{show_contact_avatar:Ce}=e,{show_expanded_email_view_onload:D}=e,{show_number_of_messages:U}=e,{show_received_timestamp:le}=e,{show_star:oe}=e,{show_thread_actions:Q}=e,{theme:ce}=e,{thread_id:Ee}=e,{thread:re}=e,{you:ue}=e;const Pe={clean_conversation:!1,click_action:"default",message_id:"",show_contact_avatar:!0,show_expanded_email_view_onload:!1,show_number_of_messages:!0,show_received_timestamp:!0,show_star:!1,show_thread_actions:!1,theme:"theme-1",thread_id:"",you:{}};let Y={},P=Xt({},{},Pe),Xe;Bi(()=>d(void 0,void 0,void 0,function*(){var p,L,G,Re;if(yield mn(),t(48,Y=(yield s[JSON.stringify({component_id:I,access_token:ae})])||{}),t(4,P=Xt(e,Y,Pe)),W(),I&&!((p=P.you)===null||p===void 0?void 0:p.id)&&!fe){t(4,P.you=yield yn({component_id:ye.component_id,access_token:ae}),P),t(7,Xe=(L=P.you)===null||L===void 0?void 0:L.email_address);const ke={component_id:I,access_token:ae};((G=P.you)===null||G===void 0?void 0:G.organization_unit)===Kt.Label?t(51,_e=yield Xn.getLabels(ke)):((Re=P.you)===null||Re===void 0?void 0:Re.organization_unit)===Kt.Folder&&t(52,Ne=yield Zn.getFolders(ke))}}));let xe=e;function W(){return d(this,void 0,void 0,function*(){t(4,P.thread_id=!re&&!H&&!K?P.thread_id:"",P),I&&!P.thread_id&&!P.thread&&P.message_id&&Ot(),(!v||xe.thread_id!==P.thread_id)&&(yield V())})}let de={},He={},$=!1;function Se(p){var L;return d(this,void 0,void 0,function*(){const G=((L=p.messages)===null||L===void 0?void 0:L.reduce((ke,rt)=>{const kt=rt.from[0];return ke[kt.email]=kt,ke},{}))||{},Re=Array.from(Object.values(G))||[];for(const ke of Re){const rt=ke.email;!de[rt]&&rt&&t(5,de[rt]=yield ct(ke),de)}})}let De,Oe=[],Me=[],_e=[],Ne=[],we=[],ye,Be,v,F;function V(){var p,L;return d(this,void 0,void 0,function*(){if(I&&P.thread_id&&!F){F=ua({component_id:I,thread_id:P.thread_id,access_token:ae}).catch(It);const G=yield F;if(F=null,((p=G==null?void 0:G.messages)===null||p===void 0?void 0:p.length)>0){const Re=G.messages.length-1;G.messages[Re].body=yield Ge(Re,G.messages[Re].id)}G&&(G.expanded=(L=v==null?void 0:v.expanded)!==null&&L!==void 0?L:P.show_expanded_email_view_onload,t(6,v=G))}})}let fe;function Te(){v?kn({access_token:ae,component_id:I,message_id:v.messages.slice(-Hs).map(p=>p.id)}).then(p=>{p.forEach(L=>{let G=v.messages.find(Re=>Re.id===L.id);G&&(G.conversation=L.conversation)}),t(6,v),t(4,P),t(55,o),t(54,Be),t(45,S),t(3,re),t(46,A),t(47,E),t(73,d),t(49,xe),t(87,e),t(48,Y),t(53,ye),t(29,ae),t(0,I)}):P.message&&kn({component_id:I,message_id:[P.message.id]}).then(p=>{p.forEach(L=>{P.message&&t(4,P.message.conversation=L.conversation,P)}),t(6,v),t(4,P),t(55,o),t(54,Be),t(45,S),t(3,re),t(46,A),t(47,E),t(73,d),t(49,xe),t(87,e),t(48,Y),t(53,ye),t(29,ae),t(0,I)})}let nt;function ct(p){var L;return d(this,void 0,void 0,function*(){if(t(11,nt.query=`?email=${p.email}`,nt),I){let G=l[JSON.stringify(nt)];return G||(G=yield Gi.addContact(nt)),(L=G[0])!==null&&L!==void 0?L:p}else return p})}function dt(){return d(this,void 0,void 0,function*(){v&&ye.component_id&&P.thread_id&&(yield vn(ye,v).catch(It))})}function wt(p){return d(this,void 0,void 0,function*(){if(!(v.messages.length<=0)){if(P.click_action==="default"||P.click_action==="mailbox"){v&&v.unread&&P.click_action!=="mailbox"&&(t(6,v.unread=!v.unread,v),yield dt());const L=v.messages.length-1;t(6,v.messages[L].expanded=!v.messages[L].expanded,v),fe||v.messages[L].body||t(6,v.messages[L].body=yield Ge(L,v.messages[L].id),v),t(6,v.expanded=!v.expanded,v),v.expanded&&P.click_action==="default"&&setTimeout(()=>{Oe[L].scrollIntoView({behavior:"smooth",block:"start"})},50)}O("threadClicked",{event:p,thread:v}),t(12,Ht="")}})}function z(p){return d(this,void 0,void 0,function*(){if(v){t(6,v=Object.assign(Object.assign({},v),{unread:!v.unread})),yield dt(),O("toggleThreadUnreadStatus",{event:p,thread:v});return}})}function ge(p){var L;return d(this,void 0,void 0,function*(){if(P.click_action!=="mailbox"){if(r){const G=((L=v.labels)===null||L===void 0?void 0:L.map(Re=>Re.id))||[];t(6,v.label_ids=[...G,r],v)}else a&&t(6,v.folder_id=a,v);yield dt()}O("threadDeleted",{event:p,thread:v})})}function St(p){P.message&&(!P.thread_id||!P.thread)||P.click_action==="mailbox"&&v.expanded||(p.preventDefault(),wt(p))}function jt(p){O("returnToMailbox",{event:p,thread:v})}function Ft(p){P.message&&(!P.thread_id||!P.thread)||P.click_action==="mailbox"&&v.expanded||(p.preventDefault(),p.code==="Enter"&&wt(p))}function C(p){return d(this,void 0,void 0,function*(){p.stopImmediatePropagation(),v&&(t(6,v=Object.assign(Object.assign({},v),{starred:!v.starred})),yield dt()),O("threadStarred",{event:p,thread:v})})}function R(p,L){p.stopImmediatePropagation(),L===v.messages.length-1?Kr(p):(t(6,v.messages[L].expanded=!v.messages[L].expanded,v),O("messageClicked",{event:p,message:v.messages[L],thread:v}),P.thread||Ge(L,v.messages[L].id).then(G=>{t(6,v.messages[L].body=G,v)}))}function he(p,L){p.stopImmediatePropagation(),p.code==="Enter"&&(L===v.messages.length-1?Kr(p):t(6,v.messages[L].expanded=!v.messages[L].expanded,v))}function Ge(p,L){return I?(Me[p]="loading",wn(ye,L).then(G=>d(this,void 0,void 0,function*(){return Me[p]="loaded",Yt.hasInlineFiles(G)?(yield Li(G)).body:G.body}))):new Promise(()=>null)}function Ot(){ha({access_token:ae,component_id:I,message_id:P.message_id}).then(p=>d(this,void 0,void 0,function*(){if(t(4,P.message=p,P),Me[0]="loaded",Yt.hasInlineFiles(P.message)){const L=yield Li(P.message);t(4,P.message=L,P)}}))}const yt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function ft(p){const L=new Date(new Date().setHours(0,0,0,0)),G=new Date(L.getFullYear(),L.getMonth(),L.getDate()-1,0,0,0,0),Re=new Date(L.getFullYear(),L.getMonth(),L.getDate()-6,0,0,0,0),ke=new Date(L.getFullYear(),0,1);return p>=L?p.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit"}):p>=G?"Yesterday":p>=Re?yt[p.getDay()]:p>=ke?p.toLocaleDateString("en-US",{month:"long",day:"numeric"}):p.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}let Ht="";function Bt(p){t(12,Ht=p.detail.tooltipID)}function Lt(p){var L;return p&&we&&p.length>0&&((L=p[p.length-1])===null||L===void 0?void 0:L.from.length)}let gt={};function Wt(){var p;t(13,gt=(p=v.messages)===null||p===void 0?void 0:p.reduce((L,G)=>{for(const[Re,ke]of G.files.entries())ke.content_disposition==="attachment"&&!ke.content_id&&!$n.includes(ke.content_type)&&(L[G.id]||(L[G.id]=[]),L[G.id].push(G.files[Re]));return L},{}))}function Li(p){var L;return d(this,void 0,void 0,function*(){const G=yield Yt.getFilesForMessage(p,{component_id:I,access_token:ae});for(const Re of Object.values(G))p.body&&(p.body=(L=p.body)===null||L===void 0?void 0:L.replaceAll(`src="cid:${Re.content_id}"`,`src="data:${Re.content_type};base64,${Re.data}"`));return p})}function $t(p,L){return d(this,void 0,void 0,function*(){if(p.stopImmediatePropagation(),I&&(v&&P.thread_id||P.message_id)){const G=yield Zi({file_id:L.id,component_id:I,access_token:ae});Un(G,L)}O("downloadClicked",{event:p,thread:v,file:L})})}function Mi(p){return d(this,void 0,void 0,function*(){const L=p.detail.file;$t(p,L)})}const bt=p=>ge(p),mi=(p,L)=>O("fileClicked",{event:L,file:p});function hi(p,L){ki[p?"unshift":"push"](()=>{Oe[L]=p,t(10,Oe)})}const Ji=(p,L)=>R(L,p),Yi=(p,L)=>he(L,p),Xi=(p,L)=>$t(L,p),Ni=(p,L)=>$t(L,p);function _i(p){ki[p?"unshift":"push"](()=>{De=p,t(9,De)})}return i.$$set=p=>{t(87,e=te(te({},e),be(p))),"id"in p&&t(0,I=p.id),"access_token"in p&&t(29,ae=p.access_token),"clean_conversation"in p&&t(30,Ue=p.clean_conversation),"click_action"in p&&t(1,ve=p.click_action),"message_id"in p&&t(31,H=p.message_id),"message"in p&&t(2,K=p.message),"show_contact_avatar"in p&&t(32,Ce=p.show_contact_avatar),"show_expanded_email_view_onload"in p&&t(33,D=p.show_expanded_email_view_onload),"show_number_of_messages"in p&&t(34,U=p.show_number_of_messages),"show_received_timestamp"in p&&t(35,le=p.show_received_timestamp),"show_star"in p&&t(36,oe=p.show_star),"show_thread_actions"in p&&t(37,Q=p.show_thread_actions),"theme"in p&&t(38,ce=p.theme),"thread_id"in p&&t(39,Ee=p.thread_id),"thread"in p&&t(3,re=p.thread),"you"in p&&t(40,ue=p.you)},i.$$.update=()=>{if(i.$$.dirty[1]&131072&&O("manifestLoaded",Y),i.$$.dirty[1]&33554432&&Object.keys(c).length&&O("onError",c),(()=>d(void 0,void 0,void 0,function*(){JSON.stringify(xe)!==JSON.stringify(e)&&(t(4,P=Xt(e,Y,Pe)),yield W(),t(49,xe=e))}))(),i.$$.dirty[0]&536870929&&t(53,ye={access_token:ae,component_id:I,thread_id:P.thread_id}),i.$$.dirty[1]&4194304&&t(54,Be=JSON.stringify(ye)),i.$$.dirty[0]&24|i.$$.dirty[1]&25280512&&P.thread&&P.thread.id){const p=t(46,A=t(45,S=o[Be])===null||S===void 0?void 0:S.find(L=>L&&L.id===(re==null?void 0:re.id)))!==null&&A!==void 0?A:P.thread;if(P.show_expanded_email_view_onload){p.expanded=P.show_expanded_email_view_onload;const L=p.messages[p.messages.length-1];L.body=t(47,E=L.body)!==null&&E!==void 0?E:L.snippet}t(6,v=p)}i.$$.dirty[0]&120|i.$$.dirty[1]&524288&&(()=>d(void 0,void 0,void 0,function*(){if($||!de){if(t(50,$=!1),re&&re.messages)yield Se(re);else if(v)yield Se(v);else if(P.message){const p=P.message.from[0];t(5,de[p.email]=yield ct(p),de)}}}))(),i.$$.dirty[0]&96|i.$$.dirty[1]&1024&&t(8,He=v&&de?de[t(41,m=v.messages[v.messages.length-1])===null||m===void 0?void 0:m.from[0].email]:{}),i.$$.dirty[0]&48|i.$$.dirty[1]&2048&&t(14,n=P.message&&de?de[t(42,u=P.message)===null||u===void 0?void 0:u.from[0].email]:{}),i.$$.dirty[0]&16&&(P.thread_id,t(50,$=!0)),i.$$.dirty[1]&1052672&&(r=_e&&_e.length?t(43,y=_e.find(p=>p.name==="trash"))===null||y===void 0?void 0:y.id:null),i.$$.dirty[1]&2105344&&(a=Ne&&Ne.length?t(44,g=Ne.find(p=>p.name==="trash"))===null||g===void 0?void 0:g.id:null),i.$$.dirty[0]&64&&(we=v?v.participants:[]),i.$$.dirty[0]&16&&(fe=!!P.thread),i.$$.dirty[0]&16&&P.clean_conversation&&(P.thread_id||P.message_id)&&Te(),i.$$.dirty[0]&536870913&&t(11,nt={component_id:I,access_token:ae,query:""}),i.$$.dirty[0]&64&&v&&Wt()},e=be(e),[I,ve,K,re,P,de,v,Xe,He,De,Oe,nt,Ht,gt,n,O,z,ge,St,jt,Ft,C,R,he,ft,Bt,Lt,$t,Mi,ae,Ue,H,Ce,D,U,le,oe,Q,ce,Ee,ue,m,u,y,g,S,A,E,Y,xe,$,_e,Ne,ye,Be,o,c,bt,mi,hi,Ji,Yi,Xi,Ni,_i]}class Us extends Rt{constructor(e){super();this.shadowRoot.innerHTML='<style>@charset "UTF-8";*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}main{--black:#161717;--grey-dark:#636671;--grey:#bdc0cb;--grey-lighter:#dfe1e8;--grey-dark-warm:#9fa4b5;--grey-lightest:#f7f7f8;--grey-background:#f0f1f5;--white:#ffffff;--blue:#002db4;--blue-lighter:#f0f3ff;--red:#ee3248;--red-lighter:#ffeef0;--fs-12:0.75rem;--fs-14:0.875rem;--fs-16:1rem;--black-90:#2c2e2e;--grey-light:#f7f7f8;--grey-warm:#cbcbcb}main{height:100%;width:100%;position:relative;display:grid;font-family:-apple-system, BlinkMacSystemFont, sans-serif}main .email-row{background:var(--nylas-email-background, var(--grey-lightest));border:var(--nylas-email-border-style, 1px solid var(--grey-lighter));border-left-width:var(--nylas-email-border-left-width, 1px)}main .email-row nylas-tooltip{position:relative}main .email-row .default-avatar{background:var(--nylas-default-avatar-background, var(--blue));border-radius:50%;color:var(--nylas-default-avatar-color, var(--white));font-family:sans-serif;font-size:1rem;font-weight:bold;height:31px;line-height:35px;text-align:center;text-transform:uppercase;width:32px}main .email-row header{font-size:1.2rem;font-weight:700;padding:0.5rem;padding-bottom:0}main .email-row.condensed{height:fit-content;padding:0.5rem;flex-wrap:wrap;display:grid;gap:0.5rem;align-items:center;grid-template-columns:fit-content(350px) 1fr}main .email-row.condensed.disable-click{cursor:not-allowed;display:grid;align-items:flex-start;background:var(--grey-lighter)}main .email-row.condensed .no-message-avatar-container{display:grid}main .email-row.condensed .no-message-avatar-container.show-star{margin-left:calc( 25px + 0.5rem )}main .email-row.condensed .no-message-avatar-container .default-avatar{background:var(--red);display:flex;justify-content:center;align-items:center}main .email-row.condensed .no-message-avatar-container .default-avatar.draft{background:var(--blue)}main .email-row.condensed .no-messages-warning-container{display:grid;color:var(--red);align-self:center}main .email-row.condensed .no-messages-warning-container.draft{color:var(--blue)}main .email-row.condensed .from-star{display:grid;grid-template-columns:25px auto;column-gap:0.5rem}main .email-row.condensed .mobile-subject-snippet{display:block;font-size:14px;margin-top:0.5rem;flex-basis:100%;grid-column-start:span 3}main .email-row.condensed .mobile-subject-snippet .subject{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:inherit;display:block;word-break:keep-all}main .email-row.condensed .mobile-subject-snippet .snippet{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:block;max-width:inherit;color:var(--nylas-email-snippet-color, var(--grey));margin-top:4px}main .email-row.condensed .mobile-subject-snippet .attachment{gap:1rem;display:flex;overflow-x:scroll}main .email-row.condensed .mobile-subject-snippet .attachment button{height:fit-content;width:max-content;padding:0.3rem 1rem;border:1px solid var(--grey);border-radius:30px;background:white;cursor:pointer}main .email-row.condensed .mobile-subject-snippet .attachment button:hover{background:var(--grey-light)}main .email-row.condensed .mobile-subject-snippet .attachment.mobile{display:flex}main .email-row.condensed .thread-message-count{color:var(--nylas-email-thread-message-count-color, var(--black));font-size:12px;align-self:center}main .email-row.condensed.unread{background:var(--nylas-email-unread-background, white)}main .email-row.condensed.unread .from-message-count,main .email-row.condensed.unread .date,main .email-row.condensed.unread .subject{font-weight:600;color:var(--nylas-email-subject-color, var(--black))}main .email-row.condensed.unread .from-message-count .thread-message-count,main .email-row.condensed.unread .date .thread-message-count,main .email-row.condensed.unread .subject .thread-message-count{color:var(--nylas-email-unread-thread-message-count-color, var(--blue))}main .email-row div.starred{position:relative;display:flex;justify-content:center;align-items:center}main .email-row div.starred button{background-color:transparent;cursor:pointer}main .email-row div.starred button:before{content:"\u2605";display:inline-block;font-size:1.1em;color:var(--nylas-email-unstarred-star-button-color, #ccc);-webkit-user-select:none;-moz-user-select:none;user-select:none}main .email-row div.starred button.starred:before{color:var(--nylas-email-star-button-color, #ffc107)}main .email-row.expanded{background:var(--nylas-email-body-background, var(--white));padding:0}main .email-row.expanded .email-loader{height:3rem;display:flex;align-items:center;justify-content:center}main .email-row.expanded .email-loader .spinner{height:18px;animation:rotate 2s linear infinite;margin-right:10px}@keyframes rotate{to{transform:rotate(360deg)}}main .email-row.expanded header{outline:1px solid var(--grey-lighter);display:flex;align-items:center;padding:24px 16px;gap:8px;border-radius:4px 4px 0 0;font-weight:bold}main .email-row.expanded [role=toolbar]{outline:1px solid var(--grey-lighter);display:flex;align-items:center;padding:24px 16px;gap:8px;padding:0.7rem 1rem;gap:1rem}main .email-row.expanded .subject-title{justify-content:space-between}main .email-row.expanded .subject-title.mailbox{cursor:default}main .email-row.expanded .subject-title>div{display:flex;align-items:center;gap:1rem}main .email-row.expanded .subject-title>div button{background:none;display:flex;cursor:pointer}main .email-row.expanded .subject-title [role=toolbar]{outline:none}main .email-row.expanded .subject-title [role=toolbar] button *{width:1em;height:1em}main .email-row.expanded .icon-container,main .email-row.expanded .icon-container>*{pointer-events:none}main .email-row.expanded.expanded-mailbox-thread .message-from .name{font-weight:600}main .email-row.expanded div.individual-message{box-sizing:border-box;padding:0.5rem}main .email-row.expanded div.individual-message div.message-body{overflow:auto;display:inline-flex;flex-direction:column;width:100%}main .email-row.expanded div.individual-message div.message-body div.attachment{overflow-x:scroll}main .email-row.expanded div.individual-message div.message-body div.attachment button{margin:0.5rem;height:fit-content;padding:0.3rem 1rem;border:1px solid var(--grey);border-radius:30px;background:white;cursor:pointer}main .email-row.expanded div.individual-message div.message-body div.attachment button:hover{background:var(--grey-light)}main .email-row.expanded div.individual-message.condensed div.snippet{text-overflow:ellipsis;overflow:hidden;display:block;max-width:inherit;color:var(--nylas-email-snippet-color, var(--grey));margin-top:0.5rem}main .email-row.expanded div.individual-message.condensed div.message-head .avatar-from{display:flex;align-items:center;gap:0.7rem}main .email-row.expanded div.individual-message:not(:last-of-type){border-bottom:1px solid #eee}main .email-row.expanded div.individual-message:not(.last-message).expanded div.message-head:hover{cursor:n-resize}main .email-row.expanded div.individual-message.last-message .message-head:hover,main .email-row.expanded div.individual-message.last-message .message-body:hover{cursor:default}main .email-row.expanded div.individual-message div.message-head{display:flex;justify-content:space-between;align-items:baseline;gap:0.5rem}main .email-row.expanded div.individual-message div.message-date{display:flex;color:var(--nylas-email-message-date-color, var(--grey));font-size:12px}main .email-row.expanded div.individual-message div.message-from{display:flex;align-items:center}main .email-row.expanded div.individual-message div.message-from span.name{font-weight:600;margin-right:0.5rem}main .email-row.expanded.expanded div.message-head div.message-from-to{margin:0.5rem 0}main .email-row.expanded.expanded div.message-head div.message-from-to .avatar-from{display:flex;align-items:center;gap:0.7rem}main .email-row.expanded.expanded div.message-head div.message-from-to div.message-to{color:var(--nylas-email-message-to-color, var(--grey));max-width:150px;margin-left:calc(32px + 0.7rem)}main .email-row.expanded.expanded div.message-head div.message-from-to div.message-to div{display:grid;grid-template-columns:1fr 16px}main .email-row.expanded.expanded div.message-head div.message-from-to div.message-to div span{text-overflow:ellipsis;overflow:hidden}main .email-row.expanded.expanded.condensed{gap:1rem}main .email-row.expanded.expanded.condensed:hover,main .email-row.expanded.expanded.condensed:focus{cursor:s-resize;outline:none}main .email-row.expanded.expanded.condensed span.snippet{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--nylas-email-snippet-color, var(--grey))}main .email-row:hover{cursor:pointer}main .email-row .from-message-count{align-items:center;display:grid;grid-template-columns:repeat(3, auto);grid-gap:1rem;justify-content:flex-start;max-width:350px}main .email-row .from-message-count .from-participants{max-width:220px;display:grid;grid-template-columns:1fr fit-content(60px)}main .email-row .from-message-count .from-participants .participants-name .from-sub-section.second{display:none}main .email-row .from-message-count .from-participants .participants-count .show-on-mobile{display:inline-block}main .email-row .from-message-count .from-participants .participants-count .show-on-desktop{display:none}main .email-row .subject-snippet-date .desktop-subject-snippet{display:none}main .email-row .subject-snippet-date .attachment.desktop{display:none}main .email-row .subject-snippet-date div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}main .email-row .subject-snippet-date div span.snippet{color:var(--nylas-email-snippet-color, var(--grey))}main .email-row .subject-snippet-date div.date{display:flex;justify-content:flex-end;gap:0.5rem;width:100%;font-size:14px;color:var(--nylas-email-message-date-color, var(--grey))}main .email-row .subject-snippet-date div.action-icons{display:flex;justify-content:flex-end;align-items:center;width:100%;gap:1rem}main .email-row .subject-snippet-date div.action-icons>:last-child{padding-right:1rem}main .email-row .subject-snippet-date div.action-icons button{background:none;cursor:pointer;display:flex}main .email-row .subject-snippet-date div.action-icons button *{width:1em;height:1em}main .email-row.expanded.singular:hover{box-shadow:none;cursor:default}main .email-row.expanded.singular div.individual-message:not(.last-message).expanded .message-head:hover,main .email-row.expanded.singular div.individual-message:not(.last-message).expanded .message-body:hover{cursor:default}@media(min-width: 640px){main .email-row .from-message-count{max-width:350px}main .email-row .from-message-count .from-participants .participants-name{overflow:hidden;white-space:nowrap;position:relative}main .email-row .from-message-count .from-participants .participants-name .from-sub-section.second{display:inline-block}main .email-row .from-message-count .from-participants .participants-name.condensed::after{content:".";position:absolute;bottom:0;right:0;background:var(--nylas-email-body-background, var(--white))}main .email-row .from-message-count .from-participants .participants-count .show-on-mobile{display:none}main .email-row .from-message-count .from-participants .participants-count .show-on-desktop{display:inline-block}main .email-row.expanded.singular .individual-message.expanded{padding-top:0.5rem}main .email-row.condensed{display:grid;column-gap:1rem;grid-template-columns:fit-content(350px) 1fr;padding:0.5rem 0;justify-content:initial}main .email-row.condensed div.starred button:hover:before{color:var(--nylas-email-star-button-hover-color, #ffc107)}main .email-row.condensed .mobile-subject-snippet{display:none}main .email-row.expanded{display:flex;flex-direction:column;box-sizing:border-box;width:100%;overflow-x:hidden}main .email-row.expanded header{padding:1rem 2.5rem}main .email-row.expanded div.individual-message{display:flex;flex-direction:column;align-items:center;padding:1rem 0;width:inherit}main .email-row.expanded div.individual-message div.message-head,main .email-row.expanded div.individual-message div.message-body{width:100%;box-sizing:border-box;padding:0 2.5rem}main .email-row.expanded div.individual-message div.message-body{display:flex;flex-direction:column}main .email-row.expanded div.individual-message.condensed div.snippet{width:100%;box-sizing:border-box;padding:0 2.5rem;white-space:pre-wrap;max-width:95vw;align-self:flex-start}main .email-row.expanded div.individual-message div.message-date{font-size:14px;align-self:center}main .email-row.expanded div.individual-message.expanded div.message-head div.message-from-to{margin:0.5rem 0}main .email-row.expanded div.individual-message.expanded div.message-head div.message-from-to div.message-to{max-width:inherit;overflow:inherit}main .email-row.expanded div.individual-message.expanded div.message-head div.message-from-to div.message-to div{display:grid;grid-template-columns:1fr 16px;align-items:center}main .email-row.expanded div.individual-message.expanded div.message-head div.message-from-to div.message-to div span{text-overflow:ellipsis;overflow:hidden}main .email-row .subject-snippet-date{display:grid;grid-template-columns:1fr fit-content(120px);gap:1rem;padding:0.5rem}main .email-row .subject-snippet-date .desktop-subject-snippet{display:block}main .email-row .subject-snippet-date .desktop-subject-snippet .subject{margin-right:0.5rem}main .email-row .subject-snippet-date .snippet-attachment-container{display:flex;flex-direction:column;gap:0.5rem}main .email-row .subject-snippet-date .attachment{gap:1rem;display:flex;overflow-x:scroll}main .email-row .subject-snippet-date .attachment button{padding:0.3rem 1rem;border:1px solid var(--grey);border-radius:30px;background:white;cursor:pointer}main .email-row .subject-snippet-date .attachment button:hover{background:var(--grey-light)}main .email-row .subject-snippet-date .attachment.desktop{display:flex}main .email-row .subject-snippet-date .date{text-align:right}}</style>',Ve(this,{target:this.shadowRoot,props:zt(this.attributes),customElement:!0},Bs,Fs,ze,{id:0,access_token:29,clean_conversation:30,click_action:1,message_id:31,message:2,show_contact_avatar:32,show_expanded_email_view_onload:33,show_number_of_messages:34,show_received_timestamp:35,show_star:36,show_thread_actions:37,theme:38,thread_id:39,thread:3,you:40},null,[-1,-1,-1,-1]),e&&(e.target&&k(e.target,this,e.anchor),e.props&&(this.$set(e.props),ne()))}static get observedAttributes(){return["id","access_token","clean_conversation","click_action","message_id","message","show_contact_avatar","show_expanded_email_view_onload","show_number_of_messages","show_received_timestamp","show_star","show_thread_actions","theme","thread_id","thread","you"]}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),ne()}get access_token(){return this.$$.ctx[29]}set access_token(e){this.$$set({access_token:e}),ne()}get clean_conversation(){return this.$$.ctx[30]}set clean_conversation(e){this.$$set({clean_conversation:e}),ne()}get click_action(){return this.$$.ctx[1]}set click_action(e){this.$$set({click_action:e}),ne()}get message_id(){return this.$$.ctx[31]}set message_id(e){this.$$set({message_id:e}),ne()}get message(){return this.$$.ctx[2]}set message(e){this.$$set({message:e}),ne()}get show_contact_avatar(){return this.$$.ctx[32]}set show_contact_avatar(e){this.$$set({show_contact_avatar:e}),ne()}get show_expanded_email_view_onload(){return this.$$.ctx[33]}set show_expanded_email_view_onload(e){this.$$set({show_expanded_email_view_onload:e}),ne()}get show_number_of_messages(){return this.$$.ctx[34]}set show_number_of_messages(e){this.$$set({show_number_of_messages:e}),ne()}get show_received_timestamp(){return this.$$.ctx[35]}set show_received_timestamp(e){this.$$set({show_received_timestamp:e}),ne()}get show_star(){return this.$$.ctx[36]}set show_star(e){this.$$set({show_star:e}),ne()}get show_thread_actions(){return this.$$.ctx[37]}set show_thread_actions(e){this.$$set({show_thread_actions:e}),ne()}get theme(){return this.$$.ctx[38]}set theme(e){this.$$set({theme:e}),ne()}get thread_id(){return this.$$.ctx[39]}set thread_id(e){this.$$set({thread_id:e}),ne()}get thread(){return this.$$.ctx[3]}set thread(e){this.$$set({thread:e}),ne()}get you(){return this.$$.ctx[40]}set you(e){this.$$set({you:e}),ne()}}customElements.define("nylas-email",Us);function zs(i){let e,t,n=[{width:"12"},{height:"13"},{viewBox:"0 0 12 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,fill:!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M4.125 5.5625H7.875C8.0625 5.5625 8.25 5.39844 8.25 5.1875V4.8125C8.25 4.625 8.0625 4.4375 7.875 4.4375H4.125C3.91406 4.4375 3.75 4.625 3.75 4.8125V5.1875C3.75 5.39844 3.91406 5.5625 4.125 5.5625ZM3.75 7.4375C3.75 7.64844 3.91406 7.8125 4.125 7.8125H7.875C8.0625 7.8125 8.25 7.64844 8.25 7.4375V7.0625C8.25 6.875 8.0625 6.6875 7.875 6.6875H4.125C3.91406 6.6875 3.75 6.875 3.75 7.0625V7.4375ZM6 10.2969C5.60156 10.2969 5.22656 10.1797 4.89844 9.92188L0 6.38281V11.375C0 12.0078 0.492188 12.5 1.125 12.5H10.875C11.4844 12.5 12 12.0078 12 11.375V6.38281L7.07812 9.92188C6.75 10.1797 6.375 10.2969 6 10.2969ZM11.5547 4.32031C11.3438 4.17969 11.1562 4.01562 10.875 3.80469V2.75C10.875 2.14062 10.3594 1.625 9.75 1.625H7.92188C7.85156 1.57812 7.78125 1.53125 7.71094 1.48438C7.3125 1.20312 6.53906 0.5 6 0.5C5.4375 0.5 4.66406 1.20312 4.26562 1.48438C4.19531 1.53125 4.125 1.57812 4.05469 1.625H2.25C1.61719 1.625 1.125 2.14062 1.125 2.75V3.80469C0.820312 4.01562 0.632812 4.17969 0.421875 4.32031C0.164062 4.53125 0 4.85938 0 5.21094V5.46875L2.25 7.08594V2.75H9.75V7.08594L12 5.46875V5.21094C12 4.85938 11.8359 4.55469 11.5547 4.32031Z"),f(t,"fill","#6A7285"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"12"},{height:"13"},{viewBox:"0 0 12 13"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function Vs(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class Gs extends tt{constructor(e){super();Ve(this,e,Vs,zs,ze,{})}}function Ws(i){let e,t,n=[{width:"12"},{height:"9"},{viewBox:"0 0 12 9"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,fill:!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M11.7656 2.97656C11.2266 3.39844 10.5469 3.91406 8.15625 5.64844C7.6875 6 6.82031 6.77344 6 6.77344C5.15625 6.77344 4.3125 6 3.82031 5.64844C1.42969 3.91406 0.75 3.39844 0.210938 2.97656C0.117188 2.90625 0 2.97656 0 3.09375V7.875C0 8.50781 0.492188 9 1.125 9H10.875C11.4844 9 12 8.50781 12 7.875V3.09375C12 2.97656 11.8594 2.90625 11.7656 2.97656ZM6 6C6.53906 6.02344 7.3125 5.32031 7.71094 5.03906C10.8281 2.78906 11.0625 2.57812 11.7656 2.01562C11.9062 1.92188 12 1.75781 12 1.57031V1.125C12 0.515625 11.4844 0 10.875 0H1.125C0.492188 0 0 0.515625 0 1.125V1.57031C0 1.75781 0.0703125 1.92188 0.210938 2.01562C0.914062 2.57812 1.14844 2.78906 4.26562 5.03906C4.66406 5.32031 5.4375 6.02344 6 6Z"),f(t,"fill","#6A7285"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"12"},{height:"9"},{viewBox:"0 0 12 9"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function Zs(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class Js extends tt{constructor(e){super();Ve(this,e,Zs,Ws,ze,{})}}function Ys(i){let e,t,n,r,a,l,o,s,c,d,m,u=[{id:"Capa_1"},{"enable-background":"new 0 0 497 497"},{height:"512"},{viewBox:"0 0 497 497"},{width:"512"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],y={};for(let g=0;g<u.length;g+=1)y=te(y,u[g]);return{c(){e=X("svg"),t=X("g"),n=X("circle"),r=X("circle"),a=X("circle"),l=X("ellipse"),o=X("ellipse"),s=X("ellipse"),c=X("ellipse"),d=X("ellipse"),m=X("circle"),this.h()},l(g){e=ee(g,"svg",{id:!0,"enable-background":!0,height:!0,viewBox:!0,width:!0,xmlns:!0});var S=q(e);t=ee(S,"g",{});var A=q(t);n=ee(A,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),q(n).forEach(h),r=ee(A,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),q(r).forEach(h),a=ee(A,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),q(a).forEach(h),l=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(l).forEach(h),o=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(o).forEach(h),s=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(s).forEach(h),c=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(c).forEach(h),d=ee(A,"ellipse",{cx:!0,cy:!0,fill:!0,rx:!0,ry:!0}),q(d).forEach(h),m=ee(A,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),q(m).forEach(h),A.forEach(h),S.forEach(h),this.h()},h(){f(n,"cx","98"),f(n,"cy","376"),f(n,"fill","#909ba6"),f(n,"r","53"),f(r,"cx","439"),f(r,"cy","336"),f(r,"fill","#c8d2dc"),f(r,"r","46"),f(a,"cx","397"),f(a,"cy","112"),f(a,"fill","#e9edf1"),f(a,"r","38"),f(l,"cx","56.245"),f(l,"cy","244.754"),f(l,"fill","#7e8b96"),f(l,"rx","56.245"),f(l,"ry","54.874"),f(o,"cx","217.821"),f(o,"cy","447.175"),f(o,"fill","#a2abb8"),f(o,"rx","51.132"),f(o,"ry","49.825"),f(s,"cx","349.229"),f(s,"cy","427.873"),f(s,"fill","#b9c3cd"),f(s,"rx","48.575"),f(s,"ry","47.297"),f(c,"cx","117.092"),f(c,"cy","114.794"),f(c,"fill","#5f6c75"),f(c,"rx","58.801"),f(c,"ry","57.397"),f(d,"cx","453.538"),f(d,"cy","216.477"),f(d,"fill","#dce6eb"),f(d,"rx","43.462"),f(d,"ry","42.656"),f(m,"cx","263"),f(m,"cy","62"),f(m,"fill","#4e5a61"),f(m,"r","62"),Ae(e,y)},m(g,S){$e(g,e,S),me(e,t),me(t,n),me(t,r),me(t,a),me(t,l),me(t,o),me(t,s),me(t,c),me(t,d),me(t,m)},p(g,[S]){Ae(e,y=et(u,[{id:"Capa_1"},{"enable-background":"new 0 0 497 497"},{height:"512"},{viewBox:"0 0 497 497"},{width:"512"},{xmlns:"http://www.w3.org/2000/svg"},S&1&&g[0]]))},i:T,o:T,d(g){g&&h(e)}}}function Xs(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class Ks extends tt{constructor(e){super();Ve(this,e,Xs,Ys,ze,{})}}function Qs(i){let e,t,n=[{width:"11"},{height:"13"},{viewBox:"0 0 11 13"},{fill:"#8d94a5"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M0.75 11.375C0.75 12.0078 1.24219 12.5 1.875 12.5H8.625C9.23438 12.5 9.75 12.0078 9.75 11.375V3.5H0.75V11.375ZM7.125 5.375C7.125 5.1875 7.28906 5 7.5 5C7.6875 5 7.875 5.1875 7.875 5.375V10.625C7.875 10.8359 7.6875 11 7.5 11C7.28906 11 7.125 10.8359 7.125 10.625V5.375ZM4.875 5.375C4.875 5.1875 5.03906 5 5.25 5C5.4375 5 5.625 5.1875 5.625 5.375V10.625C5.625 10.8359 5.4375 11 5.25 11C5.03906 11 4.875 10.8359 4.875 10.625V5.375ZM2.625 5.375C2.625 5.1875 2.78906 5 3 5C3.1875 5 3.375 5.1875 3.375 5.375V10.625C3.375 10.8359 3.1875 11 3 11C2.78906 11 2.625 10.8359 2.625 10.625V5.375ZM10.125 1.25H7.3125L7.07812 0.828125C6.98438 0.640625 6.79688 0.5 6.58594 0.5H3.89062C3.67969 0.5 3.49219 0.640625 3.39844 0.828125L3.1875 1.25H0.375C0.164062 1.25 0 1.4375 0 1.625V2.375C0 2.58594 0.164062 2.75 0.375 2.75H10.125C10.3125 2.75 10.5 2.58594 10.5 2.375V1.625C10.5 1.4375 10.3125 1.25 10.125 1.25Z"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"11"},{height:"13"},{viewBox:"0 0 11 13"},{fill:"#8d94a5"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function qs(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class $s extends tt{constructor(e){super();Ve(this,e,qs,Qs,ze,{})}}function ec(i){let e,t,n,r=[{width:"29"},{height:"24"},{viewBox:"0 0 29 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],a={};for(let l=0;l<r.length;l+=1)a=te(a,r[l]);return{c(){e=X("svg"),t=X("path"),n=X("path"),this.h()},l(l){e=ee(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var o=q(e);t=ee(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),q(t).forEach(h),n=ee(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),q(n).forEach(h),o.forEach(h),this.h()},h(){f(t,"d","M14 16L9.77612 12.0014L14 8"),f(t,"stroke","#6A7285"),f(t,"stroke-width","1.5"),f(t,"stroke-miterlimit","10"),f(n,"d","M19 16L14.7761 12.0014L19 8"),f(n,"stroke","#6A7285"),f(n,"stroke-width","1.5"),f(n,"stroke-miterlimit","10"),Ae(e,a)},m(l,o){$e(l,e,o),me(e,t),me(e,n)},p(l,[o]){Ae(e,a=et(r,[{width:"29"},{height:"24"},{viewBox:"0 0 29 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},o&1&&l[0]]))},i:T,o:T,d(l){l&&h(e)}}}function tc(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class ic extends tt{constructor(e){super();Ve(this,e,tc,ec,ze,{})}}function nc(i){let e,t,n=[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M14 16L9.77612 12.0014L14 8"),f(t,"stroke","#6A7285"),f(t,"stroke-width","1.5"),f(t,"stroke-miterlimit","10"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function rc(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class lc extends tt{constructor(e){super();Ve(this,e,rc,nc,ze,{})}}function ac(i){let e,t,n=[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],r={};for(let a=0;a<n.length;a+=1)r=te(r,n[a]);return{c(){e=X("svg"),t=X("path"),this.h()},l(a){e=ee(a,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var l=q(e);t=ee(l,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),q(t).forEach(h),l.forEach(h),this.h()},h(){f(t,"d","M10 8L14.2239 11.9986L10 16"),f(t,"stroke","#6A7285"),f(t,"stroke-width","1.5"),f(t,"stroke-miterlimit","10"),Ae(e,r)},m(a,l){$e(a,e,l),me(e,t)},p(a,[l]){Ae(e,r=et(n,[{width:"24"},{height:"24"},{viewBox:"0 0 24 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},l&1&&a[0]]))},i:T,o:T,d(a){a&&h(e)}}}function oc(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class sc extends tt{constructor(e){super();Ve(this,e,oc,ac,ze,{})}}function cc(i){let e,t,n,r=[{width:"29"},{height:"24"},{viewBox:"0 0 29 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},i[0]],a={};for(let l=0;l<r.length;l+=1)a=te(a,r[l]);return{c(){e=X("svg"),t=X("path"),n=X("path"),this.h()},l(l){e=ee(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var o=q(e);t=ee(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),q(t).forEach(h),n=ee(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),q(n).forEach(h),o.forEach(h),this.h()},h(){f(t,"d","M15 8L19.2239 11.9986L15 16"),f(t,"stroke","#6A7285"),f(t,"stroke-width","1.5"),f(t,"stroke-miterlimit","10"),f(n,"d","M10 8L14.2239 11.9986L10 16"),f(n,"stroke","#6A7285"),f(n,"stroke-width","1.5"),f(n,"stroke-miterlimit","10"),Ae(e,a)},m(l,o){$e(l,e,o),me(e,t),me(e,n)},p(l,[o]){Ae(e,a=et(r,[{width:"29"},{height:"24"},{viewBox:"0 0 29 24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},o&1&&l[0]]))},i:T,o:T,d(l){l&&h(e)}}}function dc(i,e,t){return i.$$set=n=>{t(0,e=te(te({},e),be(n)))},e=be(e),[e]}class fc extends tt{constructor(e){super();Ve(this,e,dc,cc,ze,{})}}function el(i){let e,t,n,r,a,l,o,s,c,d;return t=new ic({props:{style:"width: 24px; height: 24px;"}}),l=new lc({props:{style:"width: 24px; height: 24px;"}}),{c(){e=w("button"),Ye(t.$$.fragment),r=B(),a=w("button"),Ye(l.$$.fragment),f(e,"class","paginate-btn first-btn"),e.disabled=n=i[0]===0,f(a,"class","paginate-btn back-btn"),a.disabled=o=i[0]===0},m(m,u){k(m,e,u),Je(t,e,null),k(m,r,u),k(m,a,u),Je(l,a,null),s=!0,c||(d=[se(e,"click",i[5]),se(a,"click",i[6])],c=!0)},p(m,u){(!s||u&1&&n!==(n=m[0]===0))&&(e.disabled=n),(!s||u&1&&o!==(o=m[0]===0))&&(a.disabled=o)},i(m){s||(N(t.$$.fragment,m),N(l.$$.fragment,m),s=!0)},o(m){j(t.$$.fragment,m),j(l.$$.fragment,m),s=!1},d(m){m&&h(e),We(t),m&&h(r),m&&h(a),We(l),c=!1,st(d)}}}function tl(i){let e,t,n,r,a,l,o,s,c,d;return t=new sc({props:{style:"height:24px;width:24px;"}}),l=new fc({props:{style:"height:24px;width:24px;"}}),{c(){e=w("button"),Ye(t.$$.fragment),r=B(),a=w("button"),Ye(l.$$.fragment),f(e,"class","paginate-btn next-btn"),e.disabled=n=i[0]===i[2]-1,f(a,"class","paginate-btn last-btn"),a.disabled=o=i[0]===i[2]-1},m(m,u){k(m,e,u),Je(t,e,null),k(m,r,u),k(m,a,u),Je(l,a,null),s=!0,c||(d=[se(e,"click",i[7]),se(a,"click",i[8])],c=!0)},p(m,u){(!s||u&5&&n!==(n=m[0]===m[2]-1))&&(e.disabled=n),(!s||u&5&&o!==(o=m[0]===m[2]-1))&&(a.disabled=o)},i(m){s||(N(t.$$.fragment,m),N(l.$$.fragment,m),s=!0)},o(m){j(t.$$.fragment,m),j(l.$$.fragment,m),s=!1},d(m){m&&h(e),We(t),m&&h(r),m&&h(a),We(l),c=!1,st(d)}}}function uc(i){let e,t,n,r=i[0]*i[1]+1+"",a,l,o,s=Math.min((i[0]+1)*i[1],i[3])+"",c,d,m,u,y,g,S,A=i[2]>1&&el(i),E=i[2]>1&&tl(i);return{c(){e=w("nav"),t=w("span"),n=w("span"),a=J(r),l=J(`
    -
    `),o=w("span"),c=J(s),d=J(`
    of
    `),m=w("span"),u=J(i[3]),y=B(),A&&A.c(),g=B(),E&&E.c(),this.c=T,f(n,"class","page-start"),f(o,"class","page-end"),f(m,"class","total"),f(t,"class","page-indicator"),f(e,"class","pagination-nav")},m(O,I){k(O,e,I),b(e,t),b(t,n),b(n,a),b(t,l),b(t,o),b(o,c),b(t,d),b(t,m),b(m,u),b(e,y),A&&A.m(e,null),b(e,g),E&&E.m(e,null),S=!0},p(O,[I]){(!S||I&3)&&r!==(r=O[0]*O[1]+1+"")&&pe(a,r),(!S||I&11)&&s!==(s=Math.min((O[0]+1)*O[1],O[3])+"")&&pe(c,s),(!S||I&8)&&pe(u,O[3]),O[2]>1?A?(A.p(O,I),I&4&&N(A,1)):(A=el(O),A.c(),N(A,1),A.m(e,g)):A&&(je(),j(A,1,1,()=>{A=null}),Fe()),O[2]>1?E?(E.p(O,I),I&4&&N(E,1)):(E=tl(O),E.c(),N(E,1),E.m(e,null)):E&&(je(),j(E,1,1,()=>{E=null}),Fe())},i(O){S||(N(A),N(E),S=!0)},o(O){j(A),j(E),S=!1},d(O){O&&h(e),A&&A.d(),E&&E.d()}}}function mc(i,e,t){let{current_page:n=0}=e,{items_per_page:r}=e,{num_pages:a=1}=e,{num_items:l}=e;const o=fi(xt());function s(y){o("changePage",{newPage:y})}const c=()=>s(0),d=()=>s(n-1),m=()=>s(n+1),u=()=>s(a-1);return i.$$set=y=>{"current_page"in y&&t(0,n=y.current_page),"items_per_page"in y&&t(1,r=y.items_per_page),"num_pages"in y&&t(2,a=y.num_pages),"num_items"in y&&t(3,l=y.num_items)},[n,r,a,l,s,c,d,m,u]}class hc extends Rt{constructor(e){super();this.shadowRoot.innerHTML="<style>.pagination-nav{--disabled-text:##454954;--font:-apple-system, BlinkMacSystemFont, sans-serif;display:flex;align-items:center}.pagination-nav .page-indicator{color:#454954;height:38px;margin:2em 1em 0 1em}button{margin-top:1em;text-align:center;min-width:38px;min-height:38px;border:#e3e8ee solid 1px;margin-right:-1px;font-family:var(--font);background-color:#f7f7f8;color:#454954;cursor:pointer}button:disabled{cursor:default}</style>",Ve(this,{target:this.shadowRoot,props:zt(this.attributes),customElement:!0},mc,uc,ze,{current_page:0,items_per_page:1,num_pages:2,num_items:3},null),e&&(e.target&&k(e.target,this,e.anchor),e.props&&(this.$set(e.props),ne()))}static get observedAttributes(){return["current_page","items_per_page","num_pages","num_items"]}get current_page(){return this.$$.ctx[0]}set current_page(e){this.$$set({current_page:e}),ne()}get items_per_page(){return this.$$.ctx[1]}set items_per_page(e){this.$$set({items_per_page:e}),ne()}get num_pages(){return this.$$.ctx[2]}set num_pages(e){this.$$set({num_pages:e}),ne()}get num_items(){return this.$$.ctx[3]}set num_items(e){this.$$set({num_items:e}),ne()}}customElements.define("pagination-nav",hc);function il(i,e,t){const n=i.slice();return n[65]=e[t],n}function nl(i,e,t){const n=i.slice();return n[68]=e[t],n}function rl(i,e,t){const n=i.slice();return n[71]=e[t],n}function ll(i,e,t){const n=i.slice();return n[74]=e[t],n}function _c(i){let e,t,n,r;return t=new Ks({props:{class:"spinner",style:"height:18px; animation: rotate 2s linear infinite; margin:10px;"}}),{c(){e=w("div"),Ye(t.$$.fragment),n=J(`
      Loading...`),f(e,"class","mailbox-loader")},m(a,l){k(a,e,l),Je(t,e,null),b(e,n),r=!0},p:T,i(a){r||(N(t.$$.fragment,a),r=!0)},o(a){j(t.$$.fragment,a),r=!1},d(a){a&&h(e),We(t)}}}function pc(i){let e,t,n,r;const a=[bc,gc],l=[];function o(s,c){return s[6]?0:1}return e=o(i),t=l[e]=a[e](i),{c(){t.c(),n=Ze()},m(s,c){l[e].m(s,c),k(s,n,c),r=!0},p(s,c){let d=e;e=o(s),e===d?l[e].p(s,c):(je(),j(l[d],1,1,()=>{l[d]=null}),Fe(),t=l[e],t?t.p(s,c):(t=l[e]=a[e](s),t.c()),N(t,1),t.m(n.parentNode,n))},i(s){r||(N(t),r=!0)},o(s){j(t),r=!1},d(s){l[e].d(s),s&&h(n)}}}function gc(i){let e,t,n,r,a,l=i[1].header&&al(i),o=i[1].actions_bar.length&&ol(i),s=i[5],c=[];for(let u=0;u<s.length;u+=1)c[u]=vl(il(i,s,u));let d=null;s.length||(d=_l(i));let m=!i[1].keyword_to_search&&i[5]&&i[5].length>0&&wl(i);return{c(){l&&l.c(),e=B(),o&&o.c(),t=B(),n=w("ul");for(let u=0;u<c.length;u+=1)c[u].c();d&&d.c(),r=B(),m&&m.c(),f(n,"id","mailboxlist"),Le(n,"refreshing",i[12])},m(u,y){l&&l.m(u,y),k(u,e,y),o&&o.m(u,y),k(u,t,y),k(u,n,y);for(let g=0;g<c.length;g+=1)c[g].m(n,null);d&&d.m(n,null),b(n,r),m&&m.m(n,null),a=!0},p(u,y){if(u[1].header?l?l.p(u,y):(l=al(u),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),u[1].actions_bar.length?o?(o.p(u,y),y[0]&2&&N(o,1)):(o=ol(u),o.c(),N(o,1),o.m(t.parentNode,t)):o&&(je(),j(o,1,1,()=>{o=null}),Fe()),y[0]&47538467){s=u[5];let g;for(g=0;g<s.length;g+=1){const S=il(u,s,g);c[g]?c[g].p(S,y):(c[g]=vl(S),c[g].c(),c[g].m(n,r))}for(;g<c.length;g+=1)c[g].d(1);c.length=s.length,!s.length&&d?d.p(u,y):s.length?d&&(d.d(1),d=null):(d=_l(u),d.c(),d.m(n,r))}!u[1].keyword_to_search&&u[5]&&u[5].length>0?m?m.p(u,y):(m=wl(u),m.c(),m.m(n,null)):m&&(m.d(1),m=null),y[0]&4096&&Le(n,"refreshing",u[12])},i(u){a||(N(o),a=!0)},o(u){j(o),a=!1},d(u){l&&l.d(u),u&&h(e),o&&o.d(u),u&&h(t),u&&h(n),mt(c,u),d&&d.d(),m&&m.d()}}}function bc(i){let e,t,n,r,a;return{c(){e=w("div"),t=w("nylas-email"),M(t,"clean_conversation",!1),M(t,"thread",i[6]),M(t,"you",i[8]),M(t,"show_star",n=i[1].show_star),M(t,"click_action","mailbox"),f(e,"class","email-container")},m(l,o){k(l,e,o),b(e,t),r||(a=[se(t,"messageClicked",i[13]),se(t,"threadStarred",i[18]),se(t,"returnToMailbox",i[25]),se(t,"toggleThreadUnreadStatus",i[20]),se(t,"threadDeleted",i[22]),se(t,"downloadClicked",i[23])],r=!0)},p(l,o){o[0]&64&&M(t,"thread",l[6]),o[0]&256&&M(t,"you",l[8]),o[0]&2&&n!==(n=l[1].show_star)&&M(t,"show_star",n)},i:T,o:T,d(l){l&&h(e),r=!1,st(a)}}}function al(i){let e,t,n,r,a,l,o,s,c;return{c(){e=w("header"),t=w("button"),n=X("svg"),r=X("path"),a=B(),l=w("h1"),o=J(i[0]),f(r,"d","M9.41757 0.780979L9.57471 0.00782773C12.9388 0.717887 15.4617 3.80648 15.4617 7.49954C15.4617 8.7935 15.1519 10.0136 14.6046 11.083L16 12.458L11.6994 13.7113L12.7846 9.28951L14.0208 10.5077C14.4473 9.60009 14.6869 8.5795 14.6869 7.49954C14.6869 4.17742 12.4188 1.41444 9.41757 0.780979ZM0 2.90469L4.24241 1.46013L3.3489 5.92625L2.06118 4.7644C1.71079 5.60175 1.51627 6.5265 1.51627 7.49954C1.51627 10.8217 3.7844 13.5847 6.78563 14.2182L6.62849 14.9913C3.26437 14.2812 0.741524 11.1926 0.741524 7.49954C0.741524 6.32506 0.996751 5.21133 1.45323 4.21587L0 2.90469Z"),f(n,"width","16"),f(n,"height","16"),f(n,"viewBox","0 0 16 16"),Le(n,"refreshing",i[12])},m(d,m){k(d,e,m),b(e,t),b(t,n),b(n,r),b(e,a),b(e,l),b(l,o),s||(c=se(t,"click",i[15]),s=!0)},p(d,m){m[0]&4096&&Le(n,"refreshing",d[12]),m[0]&1&&pe(o,d[0])},d(d){d&&h(e),s=!1,c()}}}function ol(i){let e,t=i[1].show_thread_checkbox&&i[1].actions_bar.includes(Tt.SELECTALL),n,r=i[5].filter(yl).length,a,l=t&&sl(i),o=r&&dl(i);return{c(){e=w("div"),l&&l.c(),n=B(),o&&o.c(),f(e,"role","toolbar"),f(e,"aria-label","Bulk actions"),f(e,"aria-controls","mailboxlist")},m(s,c){k(s,e,c),l&&l.m(e,null),b(e,n),o&&o.m(e,null),a=!0},p(s,c){c[0]&2&&(t=s[1].show_thread_checkbox&&s[1].actions_bar.includes(Tt.SELECTALL)),t?l?l.p(s,c):(l=sl(s),l.c(),l.m(e,n)):l&&(l.d(1),l=null),c[0]&32&&(r=s[5].filter(yl).length),r?o?(o.p(s,c),c[0]&32&&N(o,1)):(o=dl(s),o.c(),N(o,1),o.m(e,null)):o&&(je(),j(o,1,1,()=>{o=null}),Fe())},i(s){a||(N(o),a=!0)},o(s){j(o),a=!1},d(s){s&&h(e),l&&l.d(),o&&o.d()}}}function sl(i){let e,t=[i[9]?"Deselect all":"Select all"],n=[];for(let r=0;r<1;r+=1)n[r]=cl(ll(i,t,r));return{c(){e=w("div");for(let r=0;r<1;r+=1)n[r].c();f(e,"class","thread-checkbox")},m(r,a){k(r,e,a);for(let l=0;l<1;l+=1)n[l].m(e,null)},p(r,a){if(a[0]&131584){t=[r[9]?"Deselect all":"Select all"];let l;for(l=0;l<1;l+=1){const o=ll(r,t,l);n[l]?n[l].p(o,a):(n[l]=cl(o),n[l].c(),n[l].m(e,null))}for(;l<1;l+=1)n[l].d(1)}},d(r){r&&h(e),mt(n,r)}}}function cl(i){let e,t,n,r,a;return{c(){e=w("input"),f(e,"title",t=i[74]),f(e,"aria-label",n=i[74]),f(e,"type","checkbox"),e.checked=i[9]},m(l,o){k(l,e,o),r||(a=se(e,"click",i[17]),r=!0)},p(l,o){o[0]&512&&t!==(t=l[74])&&f(e,"title",t),o[0]&512&&n!==(n=l[74])&&f(e,"aria-label",n),o[0]&512&&(e.checked=l[9])},d(l){l&&h(e),r=!1,a()}}}function dl(i){let e=i[1].actions_bar.includes(Tt.DELETE),t,n=i[1].show_star&&i[1].actions_bar.includes(Tt.STAR),r,a=i[1].actions_bar.includes(Tt.UNREAD),l,o,s=e&&fl(i),c=n&&ul(i),d=a&&hl(i);return{c(){s&&s.c(),t=B(),c&&c.c(),r=B(),d&&d.c(),l=Ze()},m(m,u){s&&s.m(m,u),k(m,t,u),c&&c.m(m,u),k(m,r,u),d&&d.m(m,u),k(m,l,u),o=!0},p(m,u){u[0]&2&&(e=m[1].actions_bar.includes(Tt.DELETE)),e?s?(s.p(m,u),u[0]&2&&N(s,1)):(s=fl(m),s.c(),N(s,1),s.m(t.parentNode,t)):s&&(je(),j(s,1,1,()=>{s=null}),Fe()),u[0]&2&&(n=m[1].show_star&&m[1].actions_bar.includes(Tt.STAR)),n?c?c.p(m,u):(c=ul(m),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null),u[0]&2&&(a=m[1].actions_bar.includes(Tt.UNREAD)),a?d?(d.p(m,u),u[0]&2&&N(d,1)):(d=hl(m),d.c(),N(d,1),d.m(l.parentNode,l)):d&&(je(),j(d,1,1,()=>{d=null}),Fe())},i(m){o||(N(s),N(d),o=!0)},o(m){j(s),j(d),o=!1},d(m){s&&s.d(m),m&&h(t),c&&c.d(m),m&&h(r),d&&d.d(m),m&&h(l)}}}function fl(i){let e,t,n,r,a,l;return n=new $s({}),{c(){e=w("div"),t=w("button"),Ye(n.$$.fragment),f(t,"title","Delete selected email(s)"),f(t,"aria-label","Delete selected email(s)"),f(e,"class","delete")},m(o,s){k(o,e,s),b(e,t),Je(n,t,null),r=!0,a||(l=se(t,"click",i[46]),a=!0)},p:T,i(o){r||(N(n.$$.fragment,o),r=!0)},o(o){j(n.$$.fragment,o),r=!1},d(o){o&&h(e),We(n),a=!1,l()}}}function ul(i){let e,t=[i[10]?"Unstar selected email(s)":"Star selected email(s)"],n=[];for(let r=0;r<1;r+=1)n[r]=ml(rl(i,t,r));return{c(){e=w("div");for(let r=0;r<1;r+=1)n[r].c();f(e,"class","starred")},m(r,a){k(r,e,a);for(let l=0;l<1;l+=1)n[l].m(e,null)},p(r,a){if(a[0]&525312){t=[r[10]?"Unstar selected email(s)":"Star selected email(s)"];let l;for(l=0;l<1;l+=1){const o=rl(r,t,l);n[l]?n[l].p(o,a):(n[l]=ml(o),n[l].c(),n[l].m(e,null))}for(;l<1;l+=1)n[l].d(1)}},d(r){r&&h(e),mt(n,r)}}}function ml(i){let e,t,n,r,a,l;return{c(){e=w("button"),f(e,"class",t=i[10]?"starred":""),f(e,"title",n=i[71]),f(e,"aria-label",r=i[71]),f(e,"role","switch"),f(e,"aria-checked",i[10])},m(o,s){k(o,e,s),a||(l=se(e,"click",i[47]),a=!0)},p(o,s){s[0]&1024&&t!==(t=o[10]?"starred":"")&&f(e,"class",t),s[0]&1024&&n!==(n=o[71])&&f(e,"title",n),s[0]&1024&&r!==(r=o[71])&&f(e,"aria-label",r),s[0]&1024&&f(e,"aria-checked",o[10])},d(o){o&&h(e),a=!1,l()}}}function hl(i){let e,t,n,r;const a=[wc,vc],l=[];function o(s,c){return s[11]?0:1}return t=o(i),n=l[t]=a[t](i),{c(){e=w("div"),n.c(),f(e,"class","read-status")},m(s,c){k(s,e,c),l[t].m(e,null),r=!0},p(s,c){let d=t;t=o(s),t===d?l[t].p(s,c):(je(),j(l[d],1,1,()=>{l[d]=null}),Fe(),n=l[t],n?n.p(s,c):(n=l[t]=a[t](s),n.c()),N(n,1),n.m(e,null))},i(s){r||(N(n),r=!0)},o(s){j(n),r=!1},d(s){s&&h(e),l[t].d()}}}function vc(i){let e,t,n,r,a;return t=new Js({}),{c(){e=w("button"),Ye(t.$$.fragment),f(e,"data-cy","mark-unread"),f(e,"title","Mark selected email(s) as unread"),f(e,"aria-label","Mark selected email(s) as unread")},m(l,o){k(l,e,o),Je(t,e,null),n=!0,r||(a=se(e,"click",i[49]),r=!0)},p:T,i(l){n||(N(t.$$.fragment,l),n=!0)},o(l){j(t.$$.fragment,l),n=!1},d(l){l&&h(e),We(t),r=!1,a()}}}function wc(i){let e,t,n,r,a;return t=new Gs({}),{c(){e=w("button"),Ye(t.$$.fragment),f(e,"data-cy","mark-read"),f(e,"title","Mark selected email(s) as read"),f(e,"aria-label","Mark selected email(s) as read")},m(l,o){k(l,e,o),Je(t,e,null),n=!0,r||(a=se(e,"click",i[48]),r=!0)},p:T,i(l){n||(N(t.$$.fragment,l),n=!0)},o(l){j(t.$$.fragment,l),n=!1},d(l){l&&h(e),We(t),r=!1,a()}}}function _l(i){let e,t;function n(l,o){return l[1].header?kc:yc}let r=n(i),a=r(i);return{c(){e=w("div"),a.c(),t=J(" is empty!"),f(e,"class","mailbox-empty")},m(l,o){k(l,e,o),a.m(e,null),b(e,t)},p(l,o){r===(r=n(l))&&a?a.p(l,o):(a.d(1),a=r(l),a&&(a.c(),a.m(e,t)))},d(l){l&&h(e),a.d()}}}function yc(i){let e;return{c(){e=J("Your Mailbox")},m(t,n){k(t,e,n)},p:T,d(t){t&&h(e)}}}function kc(i){let e;return{c(){e=J(i[0])},m(t,n){k(t,e,n)},p(t,n){n[0]&1&&pe(e,t[0])},d(t){t&&h(e)}}}function pl(i){let e,t,n,r,a,l,o,s;function c(...d){return i[50](i[65],...d)}return{c(){var d,m,u;e=w("div"),t=w("input"),f(t,"title",n=i[68]),f(t,"aria-label",r=i[68]),f(t,"type","checkbox"),t.checked=a=i[65].selected,t.disabled=l=i[65]&&((d=i[65])==null?void 0:d.messages)&&((u=(m=i[65])==null?void 0:m.messages)==null?void 0:u.length)<=0,f(e,"class","checkbox-container thread-checkbox")},m(d,m){k(d,e,m),b(e,t),o||(s=se(t,"click",c),o=!0)},p(d,m){var u,y,g;i=d,m[0]&32&&n!==(n=i[68])&&f(t,"title",n),m[0]&32&&r!==(r=i[68])&&f(t,"aria-label",r),m[0]&32&&a!==(a=i[65].selected)&&(t.checked=a),m[0]&32&&l!==(l=i[65]&&((u=i[65])==null?void 0:u.messages)&&((g=(y=i[65])==null?void 0:y.messages)==null?void 0:g.length)<=0)&&(t.disabled=l)},d(d){d&&h(e),o=!1,s()}}}function gl(i){let e,t,n,r,a,l;return{c(){e=w("nylas-email"),M(e,"clean_conversation",!1),M(e,"thread",t=i[65]),M(e,"you",i[8]),M(e,"show_star",n=i[1].show_star),M(e,"click_action","mailbox"),M(e,"show_thread_actions",r=i[65].selected)},m(o,s){k(o,e,s),a||(l=[se(e,"threadClicked",i[14]),se(e,"messageClicked",i[13]),se(e,"threadStarred",i[18]),se(e,"returnToMailbox",i[25]),se(e,"toggleThreadUnreadStatus",i[20]),se(e,"threadDeleted",i[22]),se(e,"downloadClicked",i[23])],a=!0)},p(o,s){s[0]&32&&t!==(t=o[65])&&M(e,"thread",t),s[0]&256&&M(e,"you",o[8]),s[0]&2&&n!==(n=o[1].show_star)&&M(e,"show_star",n),s[0]&32&&r!==(r=o[65].selected)&&M(e,"show_thread_actions",r)},d(o){o&&h(e),a=!1,st(l)}}}function bl(i){let e,t,n,r=i[65].id,a=i[1].show_thread_checkbox&&pl(i),l=gl(i);return{c(){var o,s,c;e=w("li"),a&&a.c(),t=B(),n=w("div"),l.c(),f(n,"class","email-container"),Le(e,"unread",i[65].unread),Le(e,"checked",i[65].selected),Le(e,"no-messages",i[65]&&((o=i[65])==null?void 0:o.messages)&&((c=(s=i[65])==null?void 0:s.messages)==null?void 0:c.length)<=0)},m(o,s){k(o,e,s),a&&a.m(e,null),b(e,t),b(e,n),l.m(n,null)},p(o,s){var c,d,m;o[1].show_thread_checkbox?a?a.p(o,s):(a=pl(o),a.c(),a.m(e,t)):a&&(a.d(1),a=null),s[0]&32&&ze(r,r=o[65].id)?(l.d(1),l=gl(o),l.c(),l.m(n,null)):l.p(o,s),s[0]&32&&Le(e,"unread",o[65].unread),s[0]&32&&Le(e,"checked",o[65].selected),s[0]&32&&Le(e,"no-messages",o[65]&&((c=o[65])==null?void 0:c.messages)&&((m=(d=o[65])==null?void 0:d.messages)==null?void 0:m.length)<=0)},d(o){o&&h(e),a&&a.d(),l.d(o)}}}function vl(i){let e,t=[i[65].selected?`Deselect thread ${i[65].subject}`:`Select thread ${i[65].subject}`],n=[];for(let r=0;r<1;r+=1)n[r]=bl(nl(i,t,r));return{c(){for(let r=0;r<1;r+=1)n[r].c();e=Ze()},m(r,a){for(let l=0;l<1;l+=1)n[l].m(r,a);k(r,e,a)},p(r,a){if(a[0]&47538466){t=[r[65].selected?`Deselect thread ${r[65].subject}`:`Select thread ${r[65].subject}`];let l;for(l=0;l<1;l+=1){const o=nl(r,t,l);n[l]?n[l].p(o,a):(n[l]=bl(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<1;l+=1)n[l].d(1)}},d(r){mt(n,r),r&&h(e)}}}function wl(i){let e,t,n,r;return{c(){e=w("pagination-nav"),M(e,"current_page",i[3]),M(e,"items_per_page",t=i[1].items_per_page),M(e,"num_pages",i[7]),M(e,"num_items",i[4]),M(e,"visible",!0)},m(a,l){k(a,e,l),n||(r=se(e,"changePage",i[26]),n=!0)},p(a,l){l[0]&8&&M(e,"current_page",a[3]),l[0]&2&&t!==(t=a[1].items_per_page)&&M(e,"items_per_page",t),l[0]&128&&M(e,"num_pages",a[7]),l[0]&16&&M(e,"num_items",a[4])},d(a){a&&h(e),n=!1,r()}}}function Ec(i){let e,t,n,r;const a=[pc,_c],l=[];function o(s,c){return s[2]?0:1}return t=o(i),n=l[t]=a[t](i),{c(){e=w("main"),n.c(),this.c=T},m(s,c){k(s,e,c),l[t].m(e,null),r=!0},p(s,c){let d=t;t=o(s),t===d?l[t].p(s,c):(je(),j(l[d],1,1,()=>{l[d]=null}),Fe(),n=l[t],n?n.p(s,c):(n=l[t]=a[t](s),n.c()),N(n,1),n.m(e,null))},i(s){r||(N(n),r=!0)},o(s){j(n),r=!1},d(s){s&&h(e),l[t].d()}}}const yl=i=>i.selected;function Tc(i,e,t){let n,r,a,l,o;Pt(i,_t,C=>t(55,a=C)),Pt(i,jn,C=>t(56,l=C)),Pt(i,Si,C=>t(45,o=C));var s=this&&this.__awaiter||function(C,R,he,Ge){function Ot(yt){return yt instanceof he?yt:new he(function(ft){ft(yt)})}return new(he||(he=Promise))(function(yt,ft){function Ht(gt){try{Lt(Ge.next(gt))}catch(Wt){ft(Wt)}}function Bt(gt){try{Lt(Ge.throw(gt))}catch(Wt){ft(Wt)}}function Lt(gt){gt.done?yt(gt.value):Ot(gt.value).then(Ht,Bt)}Lt((Ge=Ge.apply(C,R||[])).next())})},c,d,m;const u=fi(xt());let{id:y=""}=e,{access_token:g=""}=e,{actions_bar:S}=e,{all_threads:A}=e,{header:E="Mailbox"}=e,{items_per_page:O}=e,{keyword_to_search:I}=e,{onSelectThread:ae=ye}=e,{query_string:Ue}=e,{show_star:ve}=e,{show_thread_checkbox:H}=e;const K={actions_bar:[],items_per_page:13,query_string:"in=inbox",show_star:!1,show_thread_checkbox:!0};let Ce={},D=Xt({},{},K),U,le=!1,oe,Q=0,ce=1,Ee=0;Bi(()=>s(void 0,void 0,void 0,function*(){yield mn(),t(40,Ce=(yield l[JSON.stringify({component_id:y,access_token:g})])||{}),t(1,D=Xt(e,Ce,K)),y&&!xe.id&&!D.all_threads&&t(8,xe=yield yn({component_id:ue.component_id,access_token:g}));const C={component_id:y,access_token:g};(xe==null?void 0:xe.organization_unit)===Kt.Label?t(43,P=yield Xn.getLabels(C)):(xe==null?void 0:xe.organization_unit)===Kt.Folder&&t(44,Xe=yield Zn.getFolders(C)),yield de(),t(2,le=!0)}));let re=e,ue,Pe,Y=[],P=[],Xe=[],xe={};function W(C){return wn(ue,C.id).then(R=>(C.body=R.body,C))}function de(C=!1){var R,he;return s(this,void 0,void 0,function*(){oe&&(yield oe),!D.all_threads&&y&&(D.keyword_to_search?(oe=_t.getThreadsWithSearchKeyword(ue,C),t(5,Y=(R=yield oe)!==null&&R!==void 0?R:[])):(oe=_t.getThreads(ue,Q,D.items_per_page,C),t(5,Y=(he=yield oe)!==null&&he!==void 0?he:[]),t(4,Ee=yield _t.getNumberOfItems(ue)),t(7,ce=Math.ceil(Ee/D.items_per_page))))})}let He=!1,$=!1,Se=!1;function De(C){return s(this,void 0,void 0,function*(){let R=C.detail.message;R&&U&&(R=yield W(R),t(5,Y=_t.hydrateMessageInThread(R,ue,Q)),Yt.hasInlineFiles(R)&&(R=yield _e(R),t(5,Y=_t.hydrateMessageInThread(R,ue,Q))))})}function Oe(C){return s(this,void 0,void 0,function*(){y&&C&&C.id&&(yield _t.updateThread({access_token:g,component_id:y,thread_id:C.id},Pe,C,Q,D.items_per_page))})}function Me(C){return s(this,void 0,void 0,function*(){const R=C.detail.thread;if(u("threadClicked",{event:C,thread:R}),t(6,U=R),!D.all_threads&&(R==null?void 0:R.expanded)){R.unread&&(R.unread=!1,yield Oe(R));let he=yield W(R.messages[R.messages.length-1]);t(5,Y=_t.hydrateMessageInThread(he,ue,Q)),Yt.hasInlineFiles(he)&&(he=yield _e(he),t(5,Y=_t.hydrateMessageInThread(he,ue,Q)))}})}function _e(C){var R;return s(this,void 0,void 0,function*(){const he=yield Yt.getFilesForMessage(C,{component_id:y,access_token:g});for(const Ge of Object.values(he))C.body&&(C.body=(R=C.body)===null||R===void 0?void 0:R.replaceAll(`src="cid:${Ge.content_id}"`,`src="data:${Ge.content_type};base64,${Ge.data}"`));return C})}let Ne=!1;function we(C){return s(this,void 0,void 0,function*(){t(12,Ne=!0),u("refreshClicked",{event:C}),yield de(!0),t(12,Ne=!1)})}function ye(C,R){Array.isArray(D.all_threads)?(R.selected=!R.selected,t(5,Y=[...Y])):t(5,Y=_t.updateThreadSelection(JSON.stringify(ue),Q,R.id)),u("onSelectOneClicked",{event:C,thread:R})}function Be(C){Array.isArray(D.all_threads)?t(5,Y=Y.map(R=>Object.assign(Object.assign({},R),{selected:!He}))):t(5,Y=_t.updateThreadSelection(JSON.stringify(ue),Q)),u("onSelectAllClicked",{event:C,selectedThreads:Y.filter(R=>R.selected)})}function v(C){return s(this,void 0,void 0,function*(){const R=C.detail.thread;Array.isArray(D.all_threads)||(yield Oe(R),t(5,Y=a[Pe][Q].threads)),u("onStarSelected",{event:C,starredThreads:[R]})})}function F(C){return s(this,void 0,void 0,function*(){if(Array.isArray(D.all_threads))t(5,Y=Y.map(R=>Object.assign(Object.assign({},R),{starred:!$})));else{const R=[];for(const he of Y.filter(Ge=>Ge.selected))he.starred=!$,R.push(Oe(he));yield Promise.all(R),t(5,Y=a[Pe][Q].threads)}u("onStarSelected",{event:C,selectedThreads:Y.filter(R=>R.selected)})})}function V(C){return s(this,void 0,void 0,function*(){Array.isArray(D.all_threads)?t(5,Y=[...Y]):(yield Oe(C.detail.thread),t(5,Y=a[Pe][Q].threads))})}function fe(C){return s(this,void 0,void 0,function*(){if(Array.isArray(D.all_threads))t(5,Y=Y.map(R=>(R.selected&&(R.unread=!Se),Object.assign({},R))));else{const R=[];for(const he of Y.filter(Ge=>Ge.selected))he.unread=!Se,R.push(Oe(he));yield Promise.all(R),t(5,Y=a[Pe][Q].threads)}u("onChangeSelectedReadStatus",{event:C,selectedThreads:Y.filter(R=>R.selected)})})}function Te(C){var R;return s(this,void 0,void 0,function*(){const he=C.detail.thread;if(Array.isArray(D.all_threads))t(5,Y=Y.filter(Ge=>Ge.id!==he.id));else{if(n){const Ge=((R=he.labels)===null||R===void 0?void 0:R.map(Ot=>Ot.id))||[];he.label_ids=[...Ge,n]}else r&&(he.folder_id=r);yield Oe(he),yield de(!0)}dt()})}function nt(C){return s(this,void 0,void 0,function*(){const R=C.detail.file,he=yield Zi({file_id:R.id,component_id:y,access_token:g});Un(he,R)})}function ct(C){return s(this,void 0,void 0,function*(){if(Array.isArray(D.all_threads)){const R=Y.filter(he=>he.selected);t(5,Y=Y.filter(he=>!R.includes(he)))}else if(n||r){const R=[];for(const he of Y.filter(Ge=>Ge.selected))R.push(Te({detail:{thread:he}}));yield Promise.all(R)}u("onDeleteSelected",{event:C,deletedThreads:U?[U]:Y})})}function dt(){U&&(t(6,U.expanded=!1,U),t(6,U=null))}function wt(C){return s(this,void 0,void 0,function*(){t(3,Q=C.detail.newPage),yield de()})}const z=C=>ct(C),ge=C=>F(C),St=C=>fe(C),jt=C=>fe(C),Ft=(C,R)=>ye(R,C);return i.$$set=C=>{t(64,e=te(te({},e),be(C))),"id"in C&&t(27,y=C.id),"access_token"in C&&t(28,g=C.access_token),"actions_bar"in C&&t(29,S=C.actions_bar),"all_threads"in C&&t(30,A=C.all_threads),"header"in C&&t(0,E=C.header),"items_per_page"in C&&t(31,O=C.items_per_page),"keyword_to_search"in C&&t(32,I=C.keyword_to_search),"onSelectThread"in C&&t(33,ae=C.onSelectThread),"query_string"in C&&t(34,Ue=C.query_string),"show_star"in C&&t(35,ve=C.show_star),"show_thread_checkbox"in C&&t(36,H=C.show_thread_checkbox)},i.$$.update=()=>{if(i.$$.dirty[1]&512&&u("manifestLoaded",Ce),i.$$.dirty[1]&16384&&Object.keys(o).length&&u("onError",o),JSON.stringify(re)!==JSON.stringify(e)&&(t(1,D=Xt(e,Ce,K)),t(41,re=e)),i.$$.dirty[0]&6&&(()=>s(void 0,void 0,void 0,function*(){!D.all_threads&&D.items_per_page&&le&&(yield de(!0))}))(),i.$$.dirty[0]&26&&Array.isArray(D.all_threads)){t(4,Ee=D.all_threads.length),t(7,ce=Math.ceil(Ee/D.items_per_page));const C=Q*D.items_per_page;t(5,Y=D.all_threads.slice(C,C+D.items_per_page))}i.$$.dirty[0]&402653186|i.$$.dirty[1]&64&&(t(42,ue={component_id:y,access_token:g,query:Object.fromEntries(new URLSearchParams(t(37,c=D.query_string)===null||c===void 0?void 0:c.replaceAll(" ","&")))}),D.keyword_to_search&&t(42,ue.keywordToSearch=D.keyword_to_search,ue)),i.$$.dirty[1]&2048&&(Pe=JSON.stringify(ue)),i.$$.dirty[1]&4224&&(n=P.length?t(38,d=P.find(C=>C.name==="trash"))===null||d===void 0?void 0:d.id:null),i.$$.dirty[1]&8448&&(r=Xe.length?t(39,m=Xe.find(C=>C.name==="trash"))===null||m===void 0?void 0:m.id:null),i.$$.dirty[0]&32&&t(9,He=Y.some(C=>C.selected)),i.$$.dirty[0]&32&&t(10,$=Y.filter(C=>C.selected).some(C=>C.starred)),i.$$.dirty[0]&32&&t(11,Se=Y.filter(C=>C.selected).some(C=>C.unread))},e=be(e),[E,D,le,Q,Ee,Y,U,ce,xe,He,$,Se,Ne,De,Me,we,ye,Be,v,F,V,fe,Te,nt,ct,dt,wt,y,g,S,A,O,I,ae,Ue,ve,H,c,d,m,Ce,re,ue,P,Xe,o,z,ge,St,jt,Ft]}class kl extends Rt{constructor(e){super();this.shadowRoot.innerHTML=`<style>@charset "UTF-8";*{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;list-style:none}main{--black:#161717;--grey-dark:#636671;--grey:#bdc0cb;--grey-lighter:#dfe1e8;--grey-dark-warm:#9fa4b5;--grey-lightest:#f7f7f8;--grey-background:#f0f1f5;--white:#ffffff;--blue:#002db4;--blue-lighter:#f0f3ff;--red:#ee3248;--red-lighter:#ffeef0;--fs-12:0.75rem;--fs-14:0.875rem;--fs-16:1rem;--black-90:#2c2e2e;--grey-light:#f7f7f8;--grey-warm:#cbcbcb}main{height:100%;width:100%;position:relative;display:grid;grid-auto-rows:max-content;font-family:var(--mailbox-font-family, "-apple-system, BlinkMacSystemFont, sans-serif")}main header{outline:1px solid var(--mailbox-border-color, var(--grey-lighter));display:flex;align-items:center;padding:24px 16px;gap:8px;border-radius:4px 4px 0 0;font-weight:bold}main header button svg.refreshing{animation:rotate 1s linear infinite}main button{background:none;display:flex;cursor:pointer}main [role=toolbar]{outline:1px solid var(--mailbox-border-color, var(--grey-lighter));display:flex;align-items:center;padding:24px 16px;gap:8px;padding:0.5rem 1rem;gap:1rem}main .thread-checkbox input{padding:4px 2px 2px 2px;width:1rem;height:1rem;background:var(--grey-lighter);border-radius:4px;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;-o-appearance:none;appearance:none;transition-duration:0.3s}main .thread-checkbox input:hover{background:var(--grey-light)}main .thread-checkbox input:checked{background:var(--blue)}main .thread-checkbox input:checked::before{content:" ";background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 10 8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.66344 0.0402832L9.98373 1.36062L3.80759 7.53676L0 3.72925L1.32029 2.40891L3.80759 4.89613L8.66344 0.0402832Z' fill='white'/%3E%3C/svg%3E%0A");height:100%;width:100%;background-repeat:no-repeat;background-size:contain;display:block;text-align:center}main .thread-checkbox input:disabled{cursor:not-allowed}main div.starred{position:relative;display:flex;justify-content:center;align-items:center}main div.starred button{background-color:transparent;cursor:pointer}main div.starred button:before{content:"\u2605";display:inline-block;font-size:1em;color:var(--mailbox-starred-disabled-color, #ccc);-webkit-user-select:none;-moz-user-select:none;user-select:none}main div.starred button.starred:before{color:var(--mailbox-starred-enabled-color, #ffc107)}main #mailboxlist li{display:grid;grid-template-columns:auto 1fr;gap:0.5rem;align-items:center;justify-content:left;--nylas-email-border:none;outline:1px solid var(--mailbox-border-color, var(--grey-lighter));--nylas-email-background:transparent;--nylas-email-border-left-width:0px;--nylas-email-unread-background:transparent}main #mailboxlist li .checkbox-container.thread-checkbox{padding:1rem 0 0 1rem;align-self:baseline}main #mailboxlist li:hover{outline:1px solid var(--mailbox-grey-warm-color, var(--grey-warm));cursor:pointer}main #mailboxlist li:not(.unread){background:var(--mailbox-read-color, var(--grey-lightest))}main #mailboxlist li.unread{background:var(--mailbox-unread-color, var(--nylas-email-background))}main #mailboxlist li.no-messages{background:var(--grey-lighter)}main #mailboxlist li.no-messages .thread-checkbox input{background:var(--grey-dark-warm)}main #mailboxlist li.checked{border-left:4px solid var(--mailbox-checked-border-color, var(--blue));background:var(--mailbox-checked-bg-color, var(--blue-lighter))}main #mailboxlist li.checked .checkbox-container.thread-checkbox{padding-left:13px}ul.refreshing{filter:blur(0.2rem)}.checkbox-container{padding:4px}.mailbox-loader,.mailbox-empty{width:calc(100% - 16px);height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:none}.mailbox-loader{position:absolute}@keyframes rotate{to{transform:rotate(360deg)}}@media(min-width: 640px){main #mailboxlist li .checkbox-container.thread-checkbox{padding:0 0 0 1rem;align-self:center}main div.starred button:hover:before{color:var(--mailbox-starred-enabled-color, #ffc107)}}</style>`,Ve(this,{target:this.shadowRoot,props:zt(this.attributes),customElement:!0},Tc,Ec,ze,{id:27,access_token:28,actions_bar:29,all_threads:30,header:0,items_per_page:31,keyword_to_search:32,onSelectThread:33,query_string:34,show_star:35,show_thread_checkbox:36},null,[-1,-1,-1]),e&&(e.target&&k(e.target,this,e.anchor),e.props&&(this.$set(e.props),ne()))}static get observedAttributes(){return["id","access_token","actions_bar","all_threads","header","items_per_page","keyword_to_search","onSelectThread","query_string","show_star","show_thread_checkbox"]}get id(){return this.$$.ctx[27]}set id(e){this.$$set({id:e}),ne()}get access_token(){return this.$$.ctx[28]}set access_token(e){this.$$set({access_token:e}),ne()}get actions_bar(){return this.$$.ctx[29]}set actions_bar(e){this.$$set({actions_bar:e}),ne()}get all_threads(){return this.$$.ctx[30]}set all_threads(e){this.$$set({all_threads:e}),ne()}get header(){return this.$$.ctx[0]}set header(e){this.$$set({header:e}),ne()}get items_per_page(){return this.$$.ctx[31]}set items_per_page(e){this.$$set({items_per_page:e}),ne()}get keyword_to_search(){return this.$$.ctx[32]}set keyword_to_search(e){this.$$set({keyword_to_search:e}),ne()}get onSelectThread(){return this.$$.ctx[33]}set onSelectThread(e){this.$$set({onSelectThread:e}),ne()}get query_string(){return this.$$.ctx[34]}set query_string(e){this.$$set({query_string:e}),ne()}get show_star(){return this.$$.ctx[35]}set show_star(e){this.$$set({show_star:e}),ne()}get show_thread_checkbox(){return this.$$.ctx[36]}set show_thread_checkbox(e){this.$$set({show_thread_checkbox:e}),ne()}}return customElements.define("nylas-mailbox",kl),kl});
//# sourceMappingURL=index.js.map
